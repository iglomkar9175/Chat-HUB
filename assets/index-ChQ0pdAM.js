(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function ZE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Rm={exports:{}},Hl={};var i0;function Dw(){if(i0)return Hl;i0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Hl.Fragment=e,Hl.jsx=n,Hl.jsxs=n,Hl}var r0;function Ow(){return r0||(r0=1,Rm.exports=Dw()),Rm.exports}var x=Ow(),Cm={exports:{}},be={};var s0;function Mw(){if(s0)return be;s0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),w=Symbol.iterator;function M(P){return P===null||typeof P!="object"?null:(P=w&&P[w]||P["@@iterator"],typeof P=="function"?P:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,q={};function ie(P,ee,ae){this.props=P,this.context=ee,this.refs=q,this.updater=ae||F}ie.prototype.isReactComponent={},ie.prototype.setState=function(P,ee){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,ee,"setState")},ie.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function $(){}$.prototype=ie.prototype;function ne(P,ee,ae){this.props=P,this.context=ee,this.refs=q,this.updater=ae||F}var pe=ne.prototype=new $;pe.constructor=ne,Y(pe,ie.prototype),pe.isPureReactComponent=!0;var Te=Array.isArray;function we(){}var I={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function A(P,ee,ae){var ue=ae.ref;return{$$typeof:r,type:P,key:ee,ref:ue!==void 0?ue:null,props:ae}}function O(P,ee){return A(P.type,ee,P.props)}function D(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function L(P){var ee={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ae){return ee[ae]})}var C=/\/+/g;function ke(P,ee){return typeof P=="object"&&P!==null&&P.key!=null?L(""+P.key):ee.toString(36)}function De(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(we,we):(P.status="pending",P.then(function(ee){P.status==="pending"&&(P.status="fulfilled",P.value=ee)},function(ee){P.status==="pending"&&(P.status="rejected",P.reason=ee)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function K(P,ee,ae,ue,ve){var Ce=typeof P;(Ce==="undefined"||Ce==="boolean")&&(P=null);var ze=!1;if(P===null)ze=!0;else switch(Ce){case"bigint":case"string":case"number":ze=!0;break;case"object":switch(P.$$typeof){case r:case e:ze=!0;break;case E:return ze=P._init,K(ze(P._payload),ee,ae,ue,ve)}}if(ze)return ve=ve(P),ze=ue===""?"."+ke(P,0):ue,Te(ve)?(ae="",ze!=null&&(ae=ze.replace(C,"$&/")+"/"),K(ve,ee,ae,"",function(ws){return ws})):ve!=null&&(D(ve)&&(ve=O(ve,ae+(ve.key==null||P&&P.key===ve.key?"":(""+ve.key).replace(C,"$&/")+"/")+ze)),ee.push(ve)),1;ze=0;var Dt=ue===""?".":ue+":";if(Te(P))for(var at=0;at<P.length;at++)ue=P[at],Ce=Dt+ke(ue,at),ze+=K(ue,ee,ae,Ce,ve);else if(at=M(P),typeof at=="function")for(P=at.call(P),at=0;!(ue=P.next()).done;)ue=ue.value,Ce=Dt+ke(ue,at++),ze+=K(ue,ee,ae,Ce,ve);else if(Ce==="object"){if(typeof P.then=="function")return K(De(P),ee,ae,ue,ve);throw ee=String(P),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return ze}function se(P,ee,ae){if(P==null)return P;var ue=[],ve=0;return K(P,ue,"","",function(Ce){return ee.call(ae,Ce,ve++)}),ue}function me(P){if(P._status===-1){var ee=P._result;ee=ee(),ee.then(function(ae){(P._status===0||P._status===-1)&&(P._status=1,P._result=ae)},function(ae){(P._status===0||P._status===-1)&&(P._status=2,P._result=ae)}),P._status===-1&&(P._status=0,P._result=ee)}if(P._status===1)return P._result.default;throw P._result}var Be=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},Ke={map:se,forEach:function(P,ee,ae){se(P,function(){ee.apply(this,arguments)},ae)},count:function(P){var ee=0;return se(P,function(){ee++}),ee},toArray:function(P){return se(P,function(ee){return ee})||[]},only:function(P){if(!D(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return be.Activity=T,be.Children=Ke,be.Component=ie,be.Fragment=n,be.Profiler=o,be.PureComponent=ne,be.StrictMode=s,be.Suspense=p,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,be.__COMPILER_RUNTIME={__proto__:null,c:function(P){return I.H.useMemoCache(P)}},be.cache=function(P){return function(){return P.apply(null,arguments)}},be.cacheSignal=function(){return null},be.cloneElement=function(P,ee,ae){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var ue=Y({},P.props),ve=P.key;if(ee!=null)for(Ce in ee.key!==void 0&&(ve=""+ee.key),ee)!R.call(ee,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&ee.ref===void 0||(ue[Ce]=ee[Ce]);var Ce=arguments.length-2;if(Ce===1)ue.children=ae;else if(1<Ce){for(var ze=Array(Ce),Dt=0;Dt<Ce;Dt++)ze[Dt]=arguments[Dt+2];ue.children=ze}return A(P.type,ve,ue)},be.createContext=function(P){return P={$$typeof:h,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},be.createElement=function(P,ee,ae){var ue,ve={},Ce=null;if(ee!=null)for(ue in ee.key!==void 0&&(Ce=""+ee.key),ee)R.call(ee,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ve[ue]=ee[ue]);var ze=arguments.length-2;if(ze===1)ve.children=ae;else if(1<ze){for(var Dt=Array(ze),at=0;at<ze;at++)Dt[at]=arguments[at+2];ve.children=Dt}if(P&&P.defaultProps)for(ue in ze=P.defaultProps,ze)ve[ue]===void 0&&(ve[ue]=ze[ue]);return A(P,Ce,ve)},be.createRef=function(){return{current:null}},be.forwardRef=function(P){return{$$typeof:m,render:P}},be.isValidElement=D,be.lazy=function(P){return{$$typeof:E,_payload:{_status:-1,_result:P},_init:me}},be.memo=function(P,ee){return{$$typeof:g,type:P,compare:ee===void 0?null:ee}},be.startTransition=function(P){var ee=I.T,ae={};I.T=ae;try{var ue=P(),ve=I.S;ve!==null&&ve(ae,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(we,Be)}catch(Ce){Be(Ce)}finally{ee!==null&&ae.types!==null&&(ee.types=ae.types),I.T=ee}},be.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},be.use=function(P){return I.H.use(P)},be.useActionState=function(P,ee,ae){return I.H.useActionState(P,ee,ae)},be.useCallback=function(P,ee){return I.H.useCallback(P,ee)},be.useContext=function(P){return I.H.useContext(P)},be.useDebugValue=function(){},be.useDeferredValue=function(P,ee){return I.H.useDeferredValue(P,ee)},be.useEffect=function(P,ee){return I.H.useEffect(P,ee)},be.useEffectEvent=function(P){return I.H.useEffectEvent(P)},be.useId=function(){return I.H.useId()},be.useImperativeHandle=function(P,ee,ae){return I.H.useImperativeHandle(P,ee,ae)},be.useInsertionEffect=function(P,ee){return I.H.useInsertionEffect(P,ee)},be.useLayoutEffect=function(P,ee){return I.H.useLayoutEffect(P,ee)},be.useMemo=function(P,ee){return I.H.useMemo(P,ee)},be.useOptimistic=function(P,ee){return I.H.useOptimistic(P,ee)},be.useReducer=function(P,ee,ae){return I.H.useReducer(P,ee,ae)},be.useRef=function(P){return I.H.useRef(P)},be.useState=function(P){return I.H.useState(P)},be.useSyncExternalStore=function(P,ee,ae){return I.H.useSyncExternalStore(P,ee,ae)},be.useTransition=function(){return I.H.useTransition()},be.version="19.2.0",be}var a0;function Sp(){return a0||(a0=1,Cm.exports=Mw()),Cm.exports}var k=Sp();const ii=ZE(k);var Im={exports:{}},Fl={},Nm={exports:{}},xm={};var o0;function Vw(){return o0||(o0=1,(function(r){function e(K,se){var me=K.length;K.push(se);e:for(;0<me;){var Be=me-1>>>1,Ke=K[Be];if(0<o(Ke,se))K[Be]=se,K[me]=Ke,me=Be;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var se=K[0],me=K.pop();if(me!==se){K[0]=me;e:for(var Be=0,Ke=K.length,P=Ke>>>1;Be<P;){var ee=2*(Be+1)-1,ae=K[ee],ue=ee+1,ve=K[ue];if(0>o(ae,me))ue<Ke&&0>o(ve,ae)?(K[Be]=ve,K[ue]=me,Be=ue):(K[Be]=ae,K[ee]=me,Be=ee);else if(ue<Ke&&0>o(ve,me))K[Be]=ve,K[ue]=me,Be=ue;else break e}}return se}function o(K,se){var me=K.sortIndex-se.sortIndex;return me!==0?me:K.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var p=[],g=[],E=1,T=null,w=3,M=!1,F=!1,Y=!1,q=!1,ie=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function pe(K){for(var se=n(g);se!==null;){if(se.callback===null)s(g);else if(se.startTime<=K)s(g),se.sortIndex=se.expirationTime,e(p,se);else break;se=n(g)}}function Te(K){if(Y=!1,pe(K),!F)if(n(p)!==null)F=!0,we||(we=!0,L());else{var se=n(g);se!==null&&De(Te,se.startTime-K)}}var we=!1,I=-1,R=5,A=-1;function O(){return q?!0:!(r.unstable_now()-A<R)}function D(){if(q=!1,we){var K=r.unstable_now();A=K;var se=!0;try{e:{F=!1,Y&&(Y=!1,$(I),I=-1),M=!0;var me=w;try{t:{for(pe(K),T=n(p);T!==null&&!(T.expirationTime>K&&O());){var Be=T.callback;if(typeof Be=="function"){T.callback=null,w=T.priorityLevel;var Ke=Be(T.expirationTime<=K);if(K=r.unstable_now(),typeof Ke=="function"){T.callback=Ke,pe(K),se=!0;break t}T===n(p)&&s(p),pe(K)}else s(p);T=n(p)}if(T!==null)se=!0;else{var P=n(g);P!==null&&De(Te,P.startTime-K),se=!1}}break e}finally{T=null,w=me,M=!1}se=void 0}}finally{se?L():we=!1}}}var L;if(typeof ne=="function")L=function(){ne(D)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,ke=C.port2;C.port1.onmessage=D,L=function(){ke.postMessage(null)}}else L=function(){ie(D,0)};function De(K,se){I=ie(function(){K(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(K){switch(w){case 1:case 2:case 3:var se=3;break;default:se=w}var me=w;w=se;try{return K()}finally{w=me}},r.unstable_requestPaint=function(){q=!0},r.unstable_runWithPriority=function(K,se){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var me=w;w=K;try{return se()}finally{w=me}},r.unstable_scheduleCallback=function(K,se,me){var Be=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Be+me:Be):me=Be,K){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=me+Ke,K={id:E++,callback:se,priorityLevel:K,startTime:me,expirationTime:Ke,sortIndex:-1},me>Be?(K.sortIndex=me,e(g,K),n(p)===null&&K===n(g)&&(Y?($(I),I=-1):Y=!0,De(Te,me-Be))):(K.sortIndex=Ke,e(p,K),F||M||(F=!0,we||(we=!0,L()))),K},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(K){var se=w;return function(){var me=w;w=se;try{return K.apply(this,arguments)}finally{w=me}}}})(xm)),xm}var l0;function Pw(){return l0||(l0=1,Nm.exports=Vw()),Nm.exports}var Dm={exports:{}},Wt={};var u0;function Lw(){if(u0)return Wt;u0=1;var r=Sp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Wt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Wt.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},Wt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Wt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Wt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,M=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:M}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:w,fetchPriority:M,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Wt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Wt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Wt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Wt.requestFormReset=function(p){s.d.r(p)},Wt.unstable_batchedUpdates=function(p,g){return p(g)},Wt.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},Wt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Wt.version="19.2.0",Wt}var c0;function kw(){if(c0)return Dm.exports;c0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Dm.exports=Lw(),Dm.exports}var h0;function Uw(){if(h0)return Fl;h0=1;var r=Pw(),e=Sp(),n=kw();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),t;if(d===l)return p(f),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,b=f.child;b;){if(b===a){_=!0,a=f,l=d;break}if(b===l){_=!0,l=f,a=d;break}b=b.sibling}if(!_){for(b=d.child;b;){if(b===a){_=!0,a=d,l=f;break}if(b===l){_=!0,l=d,a=f;break}b=b.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),ie=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),pe=Symbol.for("react.forward_ref"),Te=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function ke(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Y:return"Fragment";case ie:return"Profiler";case q:return"StrictMode";case Te:return"Suspense";case we:return"SuspenseList";case A:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case F:return"Portal";case ne:return t.displayName||"Context";case $:return(t._context.displayName||"Context")+".Consumer";case pe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:ke(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return ke(t(i))}catch{}}return null}var De=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Be=[],Ke=-1;function P(t){return{current:t}}function ee(t){0>Ke||(t.current=Be[Ke],Be[Ke]=null,Ke--)}function ae(t,i){Ke++,Be[Ke]=t.current,t.current=i}var ue=P(null),ve=P(null),Ce=P(null),ze=P(null);function Dt(t,i){switch(ae(Ce,i),ae(ve,t),ae(ue,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Rv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Rv(i),t=Cv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ee(ue),ae(ue,t)}function at(){ee(ue),ee(ve),ee(Ce)}function ws(t){t.memoizedState!==null&&ae(ze,t);var i=ue.current,a=Cv(i,t.type);i!==a&&(ae(ve,t),ae(ue,a))}function ga(t){ve.current===t&&(ee(ue),ee(ve)),ze.current===t&&(ee(ze),zl._currentValue=me)}var ya,_a;function li(t){if(ya===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ya=i&&i[1]||"",_a=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ya+t+_a}var zo=!1;function As(t,i){if(!t||zo)return"";zo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(Q){var H=Q}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(Q){H=Q}t.call(Z.prototype)}}else{try{throw Error()}catch(Q){H=Q}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(Q){if(Q&&H&&typeof Q.stack=="string")return[Q.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],b=d[1];if(_&&b){var N=_.split(`
`),B=b.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===B.length)for(l=N.length-1,f=B.length-1;1<=l&&0<=f&&N[l]!==B[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==B[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==B[f]){var X=`
`+N[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=f);break}}}finally{zo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?li(a):""}function jo(t,i){switch(t.tag){case 26:case 27:case 5:return li(t.type);case 16:return li("Lazy");case 13:return t.child!==i&&i!==null?li("Suspense Fallback"):li("Suspense");case 19:return li("SuspenseList");case 0:case 15:return As(t.type,!1);case 11:return As(t.type.render,!1);case 1:return As(t.type,!0);case 31:return li("Activity");default:return""}}function Bo(t){try{var i="",a=null;do i+=jo(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var vt=Object.prototype.hasOwnProperty,Ot=r.unstable_scheduleCallback,br=r.unstable_cancelCallback,If=r.unstable_shouldYield,Nu=r.unstable_requestPaint,nn=r.unstable_now,Rs=r.unstable_getCurrentPriorityLevel,qo=r.unstable_ImmediatePriority,Ho=r.unstable_UserBlockingPriority,Sr=r.unstable_NormalPriority,Nf=r.unstable_LowPriority,xu=r.unstable_IdlePriority,Du=r.log,Ou=r.unstable_setDisableYieldValue,Hn=null,Bt=null;function Cn(t){if(typeof Du=="function"&&Ou(t),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(Hn,t)}catch{}}var mt=Math.clz32?Math.clz32:Vu,Mu=Math.log,va=Math.LN2;function Vu(t){return t>>>=0,t===0?32:31-(Mu(t)/va|0)|0}var ui=256,Cs=262144,Et=4194304;function ci(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function hi(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?f=ci(l):(_&=b,_!==0?f=ci(_):a||(a=b&~t,a!==0&&(f=ci(a))))):(b=l&~d,b!==0?f=ci(b):_!==0?f=ci(_):a||(a=l&~t,a!==0&&(f=ci(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function Fn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function xf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pu(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function fi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Is(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Df(t,i,a,l,f,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,N=t.expirationTimes,B=t.hiddenUpdates;for(a=_&~a;0<a;){var X=31-mt(a),Z=1<<X;b[X]=0,N[X]=-1;var H=B[X];if(H!==null)for(B[X]=null,X=0;X<H.length;X++){var Q=H[X];Q!==null&&(Q.lane&=-536870913)}a&=~Z}l!==0&&Ns(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Ns(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-mt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Fo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-mt(a),f=1<<l;f&i|t[l]&i&&(t[l]|=i),a&=~f}}function Go(t,i){var a=i&-i;return a=(a&42)!==0?1:xs(a),(a&(t.suspendedLanes|i))!==0?0:a}function xs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Bi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Lu(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:$v(t.type))}function Gn(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var Qn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Qn,Lt="__reactProps$"+Qn,di="__reactContainer$"+Qn,Ea="__reactEvents$"+Qn,Of="__reactListeners$"+Qn,ku="__reactHandles$"+Qn,Uu="__reactResources$"+Qn,mi="__reactMarker$"+Qn;function Ta(t){delete t[Tt],delete t[Lt],delete t[Ea],delete t[Of],delete t[ku]}function pi(t){var i=t[Tt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[di]||a[Tt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Vv(t);t!==null;){if(a=t[Tt])return a;t=Vv(t)}return i}t=a,a=t.parentNode}return null}function In(t){if(t=t[Tt]||t[di]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function gn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function gi(t){var i=t[Uu];return i||(i=t[Uu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function bt(t){t[mi]=!0}var Qo=new Set,Ko={};function yi(t,i){_i(t,i),_i(t+"Capture",i)}function _i(t,i){for(Ko[t]=i,t=0;t<i.length;t++)Qo.add(i[t])}var Yo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xo={},$o={};function zu(t){return vt.call($o,t)?!0:vt.call(Xo,t)?!1:Yo.test(t)?$o[t]=!0:(Xo[t]=!0,!1)}function ba(t,i,a){if(zu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function yn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function St(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function kt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function wr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Wo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ye(t){if(!t._valueTracker){var i=wr(t)?"checked":"value";t._valueTracker=Wo(t,i,""+t[i])}}function Ds(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=wr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function vi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Os=/[\n"\\]/g;function an(t){return t.replace(Os,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Sa(t,i,a,l,f,d,_,b){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+kt(i)):t.value!==""+kt(i)&&(t.value=""+kt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Jo(t,_,kt(i)):a!=null?Jo(t,_,kt(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+kt(b):t.removeAttribute("name")}function ju(t,i,a,l,f,d,_,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ye(t);return}a=a!=null?""+kt(a):"",i=i!=null?""+kt(i):a,b||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ye(t)}function Jo(t,i,a){i==="number"&&vi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ar(t,i,a,l){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+kt(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function Bu(t,i,a){if(i!=null&&(i=""+kt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+kt(a):""}function Rr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(De(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=kt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ye(t)}function on(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var qu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||qu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function el(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&Zo(t,f,l)}else for(var d in i)i.hasOwnProperty(d)&&Zo(t,d,i[d])}function wa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Aa(t){return Cr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Kn(){}var tl=null;function Nn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ir=null,Ei=null;function Ms(t){var i=In(t);if(i&&(t=i.stateNode)){var a=t[Lt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Sa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+an(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var f=l[Lt]||null;if(!f)throw Error(s(90));Sa(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Ds(l)}break e;case"textarea":Bu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ar(t,!!a.multiple,i,!1)}}}var Ra=!1;function Nr(t,i,a){if(Ra)return t(i,a);Ra=!0;try{var l=t(i);return l}finally{if(Ra=!1,(Ir!==null||Ei!==null)&&(Lc(),Ir&&(i=Ir,t=Ei,Ei=Ir=null,Ms(i),t)))for(i=0;i<t.length;i++)Ms(t[i])}}function Yn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Lt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vs=!1;if(xn)try{var We={};Object.defineProperty(We,"passive",{get:function(){Vs=!0}}),window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch{Vs=!1}var Ti=null,nl=null,Ps=null;function il(){if(Ps)return Ps;var t,i=nl,a=i.length,l,f="value"in Ti?Ti.value:Ti.textContent,d=f.length;for(t=0;t<a&&i[t]===f[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===f[d-l];l++);return Ps=f.slice(t,1<l?1-l:void 0)}function Ls(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function qi(){return!0}function Xn(){return!1}function qt(t){function i(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?qi:Xn,this.isPropagationStopped=Xn,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=qi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=qi)},persist:function(){},isPersistent:qi}),i}var Hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bi=qt(Hi),xr=T({},Hi,{view:0,detail:0}),rl=qt(xr),Dr,Ca,Si,Ia=T({},xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Or,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Si&&(Si&&t.type==="mousemove"?(Dr=t.screenX-Si.screenX,Ca=t.screenY-Si.screenY):Ca=Dr=0,Si=t),Dr)},movementY:function(t){return"movementY"in t?t.movementY:Ca}}),sl=qt(Ia),ks=T({},Ia,{dataTransfer:0}),Fu=qt(ks),Gu=T({},xr,{relatedTarget:0}),Us=qt(Gu),al=T({},Hi,{animationName:0,elapsedTime:0,pseudoElement:0}),Qu=qt(al),Na=T({},Hi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ku=qt(Na),Yu=T({},Hi,{data:0}),wi=qt(Yu),Xu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ju(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Wu[t])?!!i[t]:!1}function Or(){return Ju}var rn=T({},xr,{key:function(t){if(t.key){var i=Xu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ls(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$u[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Or,charCode:function(t){return t.type==="keypress"?Ls(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ls(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Zu=qt(rn),ec=T({},Ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fi=qt(ec),c=T({},xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Or}),y=qt(c),v=T({},Hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=qt(v),z=T({},Ia,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=qt(z),re=T({},Hi,{newState:0,oldState:0}),Ae=qt(re),pt=[9,13,27,32],Fe=xn&&"CompositionEvent"in window,ot=null;xn&&"documentMode"in document&&(ot=document.documentMode);var Dn=xn&&"TextEvent"in window&&!ot,Ai=xn&&(!Fe||ot&&8<ot&&11>=ot),$n=" ",Wn=!1;function zs(t,i){switch(t){case"keyup":return pt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Da=!1;function tS(t,i){switch(t){case"compositionend":return xa(i);case"keypress":return i.which!==32?null:(Wn=!0,$n);case"textInput":return t=i.data,t===$n&&Wn?null:t;default:return null}}function nS(t,i){if(Da)return t==="compositionend"||!Fe&&zs(t,i)?(t=il(),Ps=nl=Ti=null,Da=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ai&&i.locale!=="ko"?null:i.data;default:return null}}var iS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!iS[t.type]:i==="textarea"}function Ug(t,i,a,l){Ir?Ei?Ei.push(l):Ei=[l]:Ir=l,i=Hc(i,"onChange"),0<i.length&&(a=new bi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var ol=null,ll=null;function rS(t){Ev(t,0)}function tc(t){var i=gn(t);if(Ds(i))return t}function zg(t,i){if(t==="change")return i}var jg=!1;if(xn){var Mf;if(xn){var Vf="oninput"in document;if(!Vf){var Bg=document.createElement("div");Bg.setAttribute("oninput","return;"),Vf=typeof Bg.oninput=="function"}Mf=Vf}else Mf=!1;jg=Mf&&(!document.documentMode||9<document.documentMode)}function qg(){ol&&(ol.detachEvent("onpropertychange",Hg),ll=ol=null)}function Hg(t){if(t.propertyName==="value"&&tc(ll)){var i=[];Ug(i,ll,t,Nn(t)),Nr(rS,i)}}function sS(t,i,a){t==="focusin"?(qg(),ol=i,ll=a,ol.attachEvent("onpropertychange",Hg)):t==="focusout"&&qg()}function aS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tc(ll)}function oS(t,i){if(t==="click")return tc(i)}function lS(t,i){if(t==="input"||t==="change")return tc(i)}function uS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var _n=typeof Object.is=="function"?Object.is:uS;function ul(t,i){if(_n(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!vt.call(i,f)||!_n(t[f],i[f]))return!1}return!0}function Fg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Gg(t,i){var a=Fg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Fg(a)}}function Qg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Qg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Kg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=vi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=vi(t.document)}return i}function Pf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var cS=xn&&"documentMode"in document&&11>=document.documentMode,Oa=null,Lf=null,cl=null,kf=!1;function Yg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;kf||Oa==null||Oa!==vi(l)||(l=Oa,"selectionStart"in l&&Pf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),cl&&ul(cl,l)||(cl=l,l=Hc(Lf,"onSelect"),0<l.length&&(i=new bi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Oa)))}function js(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ma={animationend:js("Animation","AnimationEnd"),animationiteration:js("Animation","AnimationIteration"),animationstart:js("Animation","AnimationStart"),transitionrun:js("Transition","TransitionRun"),transitionstart:js("Transition","TransitionStart"),transitioncancel:js("Transition","TransitionCancel"),transitionend:js("Transition","TransitionEnd")},Uf={},Xg={};xn&&(Xg=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function Bs(t){if(Uf[t])return Uf[t];if(!Ma[t])return t;var i=Ma[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Xg)return Uf[t]=i[a];return t}var $g=Bs("animationend"),Wg=Bs("animationiteration"),Jg=Bs("animationstart"),hS=Bs("transitionrun"),fS=Bs("transitionstart"),dS=Bs("transitioncancel"),Zg=Bs("transitionend"),ey=new Map,zf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zf.push("scrollEnd");function Jn(t,i){ey.set(t,i),yi(i,[t])}var nc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},On=[],Va=0,jf=0;function ic(){for(var t=Va,i=jf=Va=0;i<t;){var a=On[i];On[i++]=null;var l=On[i];On[i++]=null;var f=On[i];On[i++]=null;var d=On[i];if(On[i++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&ty(a,f,d)}}function rc(t,i,a,l){On[Va++]=t,On[Va++]=i,On[Va++]=a,On[Va++]=l,jf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Bf(t,i,a,l){return rc(t,i,a,l),sc(t)}function qs(t,i){return rc(t,null,null,i),sc(t)}function ty(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&i!==null&&(f=31-mt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function sc(t){if(50<Ol)throw Ol=0,$d=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Pa={};function mS(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,i,a,l){return new mS(t,i,a,l)}function qf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Gi(t,i){var a=t.alternate;return a===null?(a=vn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function ny(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function ac(t,i,a,l,f,d){var _=0;if(l=t,typeof t=="function")qf(t)&&(_=1);else if(typeof t=="string")_=vw(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case A:return t=vn(31,a,i,f),t.elementType=A,t.lanes=d,t;case Y:return Hs(a.children,f,d,i);case q:_=8,f|=24;break;case ie:return t=vn(12,a,i,f|2),t.elementType=ie,t.lanes=d,t;case Te:return t=vn(13,a,i,f),t.elementType=Te,t.lanes=d,t;case we:return t=vn(19,a,i,f),t.elementType=we,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ne:_=10;break e;case $:_=9;break e;case pe:_=11;break e;case I:_=14;break e;case R:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=vn(_,a,i,f),i.elementType=t,i.type=l,i.lanes=d,i}function Hs(t,i,a,l){return t=vn(7,t,l,i),t.lanes=a,t}function Hf(t,i,a){return t=vn(6,t,null,i),t.lanes=a,t}function iy(t){var i=vn(18,null,null,0);return i.stateNode=t,i}function Ff(t,i,a){return i=vn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var ry=new WeakMap;function Mn(t,i){if(typeof t=="object"&&t!==null){var a=ry.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Bo(i)},ry.set(t,i),i)}return{value:t,source:i,stack:Bo(i)}}var La=[],ka=0,oc=null,hl=0,Vn=[],Pn=0,Mr=null,Ri=1,Ci="";function Qi(t,i){La[ka++]=hl,La[ka++]=oc,oc=t,hl=i}function sy(t,i,a){Vn[Pn++]=Ri,Vn[Pn++]=Ci,Vn[Pn++]=Mr,Mr=t;var l=Ri;t=Ci;var f=32-mt(l)-1;l&=~(1<<f),a+=1;var d=32-mt(i)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Ri=1<<32-mt(i)+f|a<<f|l,Ci=d+t}else Ri=1<<d|a<<f|l,Ci=t}function Gf(t){t.return!==null&&(Qi(t,1),sy(t,1,0))}function Qf(t){for(;t===oc;)oc=La[--ka],La[ka]=null,hl=La[--ka],La[ka]=null;for(;t===Mr;)Mr=Vn[--Pn],Vn[Pn]=null,Ci=Vn[--Pn],Vn[Pn]=null,Ri=Vn[--Pn],Vn[Pn]=null}function ay(t,i){Vn[Pn++]=Ri,Vn[Pn++]=Ci,Vn[Pn++]=Mr,Ri=i.id,Ci=i.overflow,Mr=t}var Ht=null,it=null,Ue=!1,Vr=null,Ln=!1,Kf=Error(s(519));function Pr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fl(Mn(i,t)),Kf}function oy(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Tt]=t,i[Lt]=l,a){case"dialog":xe("cancel",i),xe("close",i);break;case"iframe":case"object":case"embed":xe("load",i);break;case"video":case"audio":for(a=0;a<Vl.length;a++)xe(Vl[a],i);break;case"source":xe("error",i);break;case"img":case"image":case"link":xe("error",i),xe("load",i);break;case"details":xe("toggle",i);break;case"input":xe("invalid",i),ju(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":xe("invalid",i);break;case"textarea":xe("invalid",i),Rr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||wv(i.textContent,a)?(l.popover!=null&&(xe("beforetoggle",i),xe("toggle",i)),l.onScroll!=null&&xe("scroll",i),l.onScrollEnd!=null&&xe("scrollend",i),l.onClick!=null&&(i.onclick=Kn),i=!0):i=!1,i||Pr(t,!0)}function ly(t){for(Ht=t.return;Ht;)switch(Ht.tag){case 5:case 31:case 13:Ln=!1;return;case 27:case 3:Ln=!0;return;default:Ht=Ht.return}}function Ua(t){if(t!==Ht)return!1;if(!Ue)return ly(t),Ue=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||hm(t.type,t.memoizedProps)),a=!a),a&&it&&Pr(t),ly(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=Mv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));it=Mv(t)}else i===27?(i=it,Xr(t.type)?(t=gm,gm=null,it=t):it=i):it=Ht?Un(t.stateNode.nextSibling):null;return!0}function Fs(){it=Ht=null,Ue=!1}function Yf(){var t=Vr;return t!==null&&(hn===null?hn=t:hn.push.apply(hn,t),Vr=null),t}function fl(t){Vr===null?Vr=[t]:Vr.push(t)}var Xf=P(null),Gs=null,Ki=null;function Lr(t,i,a){ae(Xf,i._currentValue),i._currentValue=a}function Yi(t){t._currentValue=Xf.current,ee(Xf)}function $f(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Wf(t,i,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=f;for(var N=0;N<i.length;N++)if(b.context===i[N]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),$f(d.return,a,t),l||(_=null);break e}d=b.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),$f(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function za(t,i,a,l){t=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var b=f.type;_n(f.pendingProps.value,_.value)||(t!==null?t.push(b):t=[b])}}else if(f===ze.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(zl):t=[zl])}f=f.return}t!==null&&Wf(i,t,a,l),i.flags|=262144}function lc(t){for(t=t.firstContext;t!==null;){if(!_n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Qs(t){Gs=t,Ki=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return uy(Gs,t)}function uc(t,i){return Gs===null&&Qs(t),uy(t,i)}function uy(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ki===null){if(t===null)throw Error(s(308));Ki=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Ki=Ki.next=i;return a}var pS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},gS=r.unstable_scheduleCallback,yS=r.unstable_NormalPriority,wt={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jf(){return{controller:new pS,data:new Map,refCount:0}}function dl(t){t.refCount--,t.refCount===0&&gS(yS,function(){t.controller.abort()})}var ml=null,Zf=0,ja=0,Ba=null;function _S(t,i){if(ml===null){var a=ml=[];Zf=0,ja=nm(),Ba={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Zf++,i.then(cy,cy),i}function cy(){if(--Zf===0&&ml!==null){Ba!==null&&(Ba.status="fulfilled");var t=ml;ml=null,ja=0,Ba=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function vS(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var hy=K.S;K.S=function(t,i){Y_=nn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&_S(t,i),hy!==null&&hy(t,i)};var Ks=P(null);function ed(){var t=Ks.current;return t!==null?t:tt.pooledCache}function cc(t,i){i===null?ae(Ks,Ks.current):ae(Ks,i.pool)}function fy(){var t=ed();return t===null?null:{parent:wt._currentValue,pool:t}}var qa=Error(s(460)),td=Error(s(474)),hc=Error(s(542)),fc={then:function(){}};function dy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function my(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Kn,Kn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,gy(t),t;default:if(typeof i.status=="string")i.then(Kn,Kn);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,gy(t),t}throw Xs=i,qa}}function Ys(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Xs=a,qa):a}}var Xs=null;function py(){if(Xs===null)throw Error(s(459));var t=Xs;return Xs=null,t}function gy(t){if(t===qa||t===hc)throw Error(s(483))}var Ha=null,pl=0;function dc(t){var i=pl;return pl+=1,Ha===null&&(Ha=[]),my(Ha,t,i)}function gl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function mc(t,i){throw i.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function yy(t){function i(U,V){if(t){var j=U.deletions;j===null?(U.deletions=[V],U.flags|=16):j.push(V)}}function a(U,V){if(!t)return null;for(;V!==null;)i(U,V),V=V.sibling;return null}function l(U){for(var V=new Map;U!==null;)U.key!==null?V.set(U.key,U):V.set(U.index,U),U=U.sibling;return V}function f(U,V){return U=Gi(U,V),U.index=0,U.sibling=null,U}function d(U,V,j){return U.index=j,t?(j=U.alternate,j!==null?(j=j.index,j<V?(U.flags|=67108866,V):j):(U.flags|=67108866,V)):(U.flags|=1048576,V)}function _(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function b(U,V,j,W){return V===null||V.tag!==6?(V=Hf(j,U.mode,W),V.return=U,V):(V=f(V,j),V.return=U,V)}function N(U,V,j,W){var fe=j.type;return fe===Y?X(U,V,j.props.children,W,j.key):V!==null&&(V.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===R&&Ys(fe)===V.type)?(V=f(V,j.props),gl(V,j),V.return=U,V):(V=ac(j.type,j.key,j.props,null,U.mode,W),gl(V,j),V.return=U,V)}function B(U,V,j,W){return V===null||V.tag!==4||V.stateNode.containerInfo!==j.containerInfo||V.stateNode.implementation!==j.implementation?(V=Ff(j,U.mode,W),V.return=U,V):(V=f(V,j.children||[]),V.return=U,V)}function X(U,V,j,W,fe){return V===null||V.tag!==7?(V=Hs(j,U.mode,W,fe),V.return=U,V):(V=f(V,j),V.return=U,V)}function Z(U,V,j){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Hf(""+V,U.mode,j),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case M:return j=ac(V.type,V.key,V.props,null,U.mode,j),gl(j,V),j.return=U,j;case F:return V=Ff(V,U.mode,j),V.return=U,V;case R:return V=Ys(V),Z(U,V,j)}if(De(V)||L(V))return V=Hs(V,U.mode,j,null),V.return=U,V;if(typeof V.then=="function")return Z(U,dc(V),j);if(V.$$typeof===ne)return Z(U,uc(U,V),j);mc(U,V)}return null}function H(U,V,j,W){var fe=V!==null?V.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return fe!==null?null:b(U,V,""+j,W);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case M:return j.key===fe?N(U,V,j,W):null;case F:return j.key===fe?B(U,V,j,W):null;case R:return j=Ys(j),H(U,V,j,W)}if(De(j)||L(j))return fe!==null?null:X(U,V,j,W,null);if(typeof j.then=="function")return H(U,V,dc(j),W);if(j.$$typeof===ne)return H(U,V,uc(U,j),W);mc(U,j)}return null}function Q(U,V,j,W,fe){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return U=U.get(j)||null,b(V,U,""+W,fe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case M:return U=U.get(W.key===null?j:W.key)||null,N(V,U,W,fe);case F:return U=U.get(W.key===null?j:W.key)||null,B(V,U,W,fe);case R:return W=Ys(W),Q(U,V,j,W,fe)}if(De(W)||L(W))return U=U.get(j)||null,X(V,U,W,fe,null);if(typeof W.then=="function")return Q(U,V,j,dc(W),fe);if(W.$$typeof===ne)return Q(U,V,j,uc(V,W),fe);mc(V,W)}return null}function ce(U,V,j,W){for(var fe=null,qe=null,he=V,Ie=V=0,Me=null;he!==null&&Ie<j.length;Ie++){he.index>Ie?(Me=he,he=null):Me=he.sibling;var He=H(U,he,j[Ie],W);if(He===null){he===null&&(he=Me);break}t&&he&&He.alternate===null&&i(U,he),V=d(He,V,Ie),qe===null?fe=He:qe.sibling=He,qe=He,he=Me}if(Ie===j.length)return a(U,he),Ue&&Qi(U,Ie),fe;if(he===null){for(;Ie<j.length;Ie++)he=Z(U,j[Ie],W),he!==null&&(V=d(he,V,Ie),qe===null?fe=he:qe.sibling=he,qe=he);return Ue&&Qi(U,Ie),fe}for(he=l(he);Ie<j.length;Ie++)Me=Q(he,U,Ie,j[Ie],W),Me!==null&&(t&&Me.alternate!==null&&he.delete(Me.key===null?Ie:Me.key),V=d(Me,V,Ie),qe===null?fe=Me:qe.sibling=Me,qe=Me);return t&&he.forEach(function(es){return i(U,es)}),Ue&&Qi(U,Ie),fe}function ge(U,V,j,W){if(j==null)throw Error(s(151));for(var fe=null,qe=null,he=V,Ie=V=0,Me=null,He=j.next();he!==null&&!He.done;Ie++,He=j.next()){he.index>Ie?(Me=he,he=null):Me=he.sibling;var es=H(U,he,He.value,W);if(es===null){he===null&&(he=Me);break}t&&he&&es.alternate===null&&i(U,he),V=d(es,V,Ie),qe===null?fe=es:qe.sibling=es,qe=es,he=Me}if(He.done)return a(U,he),Ue&&Qi(U,Ie),fe;if(he===null){for(;!He.done;Ie++,He=j.next())He=Z(U,He.value,W),He!==null&&(V=d(He,V,Ie),qe===null?fe=He:qe.sibling=He,qe=He);return Ue&&Qi(U,Ie),fe}for(he=l(he);!He.done;Ie++,He=j.next())He=Q(he,U,Ie,He.value,W),He!==null&&(t&&He.alternate!==null&&he.delete(He.key===null?Ie:He.key),V=d(He,V,Ie),qe===null?fe=He:qe.sibling=He,qe=He);return t&&he.forEach(function(xw){return i(U,xw)}),Ue&&Qi(U,Ie),fe}function et(U,V,j,W){if(typeof j=="object"&&j!==null&&j.type===Y&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case M:e:{for(var fe=j.key;V!==null;){if(V.key===fe){if(fe=j.type,fe===Y){if(V.tag===7){a(U,V.sibling),W=f(V,j.props.children),W.return=U,U=W;break e}}else if(V.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===R&&Ys(fe)===V.type){a(U,V.sibling),W=f(V,j.props),gl(W,j),W.return=U,U=W;break e}a(U,V);break}else i(U,V);V=V.sibling}j.type===Y?(W=Hs(j.props.children,U.mode,W,j.key),W.return=U,U=W):(W=ac(j.type,j.key,j.props,null,U.mode,W),gl(W,j),W.return=U,U=W)}return _(U);case F:e:{for(fe=j.key;V!==null;){if(V.key===fe)if(V.tag===4&&V.stateNode.containerInfo===j.containerInfo&&V.stateNode.implementation===j.implementation){a(U,V.sibling),W=f(V,j.children||[]),W.return=U,U=W;break e}else{a(U,V);break}else i(U,V);V=V.sibling}W=Ff(j,U.mode,W),W.return=U,U=W}return _(U);case R:return j=Ys(j),et(U,V,j,W)}if(De(j))return ce(U,V,j,W);if(L(j)){if(fe=L(j),typeof fe!="function")throw Error(s(150));return j=fe.call(j),ge(U,V,j,W)}if(typeof j.then=="function")return et(U,V,dc(j),W);if(j.$$typeof===ne)return et(U,V,uc(U,j),W);mc(U,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,V!==null&&V.tag===6?(a(U,V.sibling),W=f(V,j),W.return=U,U=W):(a(U,V),W=Hf(j,U.mode,W),W.return=U,U=W),_(U)):a(U,V)}return function(U,V,j,W){try{pl=0;var fe=et(U,V,j,W);return Ha=null,fe}catch(he){if(he===qa||he===hc)throw he;var qe=vn(29,he,null,U.mode);return qe.lanes=W,qe.return=U,qe}finally{}}}var $s=yy(!0),_y=yy(!1),kr=!1;function nd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function id(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ur(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function zr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=sc(t),ty(t,null,a),i}return rc(t,l,i,a),sc(t)}function yl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Fo(t,a)}}function rd(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var sd=!1;function _l(){if(sd){var t=Ba;if(t!==null)throw t}}function vl(t,i,a,l){sd=!1;var f=t.updateQueue;kr=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var N=b,B=N.next;N.next=null,_===null?d=B:_.next=B,_=N;var X=t.alternate;X!==null&&(X=X.updateQueue,b=X.lastBaseUpdate,b!==_&&(b===null?X.firstBaseUpdate=B:b.next=B,X.lastBaseUpdate=N))}if(d!==null){var Z=f.baseState;_=0,X=B=N=null,b=d;do{var H=b.lane&-536870913,Q=H!==b.lane;if(Q?(Oe&H)===H:(l&H)===H){H!==0&&H===ja&&(sd=!0),X!==null&&(X=X.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ce=t,ge=b;H=i;var et=a;switch(ge.tag){case 1:if(ce=ge.payload,typeof ce=="function"){Z=ce.call(et,Z,H);break e}Z=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=ge.payload,H=typeof ce=="function"?ce.call(et,Z,H):ce,H==null)break e;Z=T({},Z,H);break e;case 2:kr=!0}}H=b.callback,H!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[H]:Q.push(H))}else Q={lane:H,tag:b.tag,payload:b.payload,callback:b.callback,next:null},X===null?(B=X=Q,N=Z):X=X.next=Q,_|=H;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;Q=b,b=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);X===null&&(N=Z),f.baseState=N,f.firstBaseUpdate=B,f.lastBaseUpdate=X,d===null&&(f.shared.lanes=0),Fr|=_,t.lanes=_,t.memoizedState=Z}}function vy(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Ey(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)vy(a[t],i)}var Fa=P(null),pc=P(0);function Ty(t,i){t=ir,ae(pc,t),ae(Fa,i),ir=t|i.baseLanes}function ad(){ae(pc,ir),ae(Fa,Fa.current)}function od(){ir=pc.current,ee(Fa),ee(pc)}var En=P(null),kn=null;function jr(t){var i=t.alternate;ae(gt,gt.current&1),ae(En,t),kn===null&&(i===null||Fa.current!==null||i.memoizedState!==null)&&(kn=t)}function ld(t){ae(gt,gt.current),ae(En,t),kn===null&&(kn=t)}function by(t){t.tag===22?(ae(gt,gt.current),ae(En,t),kn===null&&(kn=t)):Br()}function Br(){ae(gt,gt.current),ae(En,En.current)}function Tn(t){ee(En),kn===t&&(kn=null),ee(gt)}var gt=P(0);function gc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||mm(a)||pm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Xi=0,Re=null,Je=null,At=null,yc=!1,Ga=!1,Ws=!1,_c=0,El=0,Qa=null,ES=0;function ht(){throw Error(s(321))}function ud(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!_n(t[a],i[a]))return!1;return!0}function cd(t,i,a,l,f,d){return Xi=d,Re=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=t===null||t.memoizedState===null?s_:Ad,Ws=!1,d=a(l,f),Ws=!1,Ga&&(d=wy(i,a,l,f)),Sy(t),d}function Sy(t){K.H=Sl;var i=Je!==null&&Je.next!==null;if(Xi=0,At=Je=Re=null,yc=!1,El=0,Qa=null,i)throw Error(s(300));t===null||Rt||(t=t.dependencies,t!==null&&lc(t)&&(Rt=!0))}function wy(t,i,a,l){Re=t;var f=0;do{if(Ga&&(Qa=null),El=0,Ga=!1,25<=f)throw Error(s(301));if(f+=1,At=Je=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=a_,d=i(a,l)}while(Ga);return d}function TS(){var t=K.H,i=t.useState()[0];return i=typeof i.then=="function"?Tl(i):i,t=t.useState()[0],(Je!==null?Je.memoizedState:null)!==t&&(Re.flags|=1024),i}function hd(){var t=_c!==0;return _c=0,t}function fd(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function dd(t){if(yc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}yc=!1}Xi=0,At=Je=Re=null,Ga=!1,El=_c=0,Qa=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Re.memoizedState=At=t:At=At.next=t,At}function yt(){if(Je===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var i=At===null?Re.memoizedState:At.next;if(i!==null)At=i,Je=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},At===null?Re.memoizedState=At=t:At=At.next=t}return At}function vc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tl(t){var i=El;return El+=1,Qa===null&&(Qa=[]),t=my(Qa,t,i),i=Re,(At===null?i.memoizedState:At.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?s_:Ad),t}function Ec(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Tl(t);if(t.$$typeof===ne)return Ft(t)}throw Error(s(438,String(t)))}function md(t){var i=null,a=Re.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=vc(),Re.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=O;return i.index++,a}function $i(t,i){return typeof i=="function"?i(t):i}function Tc(t){var i=yt();return pd(i,Je,t)}function pd(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}i.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{i=f.next;var b=_=null,N=null,B=i,X=!1;do{var Z=B.lane&-536870913;if(Z!==B.lane?(Oe&Z)===Z:(Xi&Z)===Z){var H=B.revertLane;if(H===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Z===ja&&(X=!0);else if((Xi&H)===H){B=B.next,H===ja&&(X=!0);continue}else Z={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(b=N=Z,_=d):N=N.next=Z,Re.lanes|=H,Fr|=H;Z=B.action,Ws&&a(d,Z),d=B.hasEagerState?B.eagerState:a(d,Z)}else H={lane:Z,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(b=N=H,_=d):N=N.next=H,Re.lanes|=Z,Fr|=Z;B=B.next}while(B!==null&&B!==i);if(N===null?_=d:N.next=b,!_n(d,t.memoizedState)&&(Rt=!0,X&&(a=Ba,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=N,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function gd(t){var i=yt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=t(d,_.action),_=_.next;while(_!==f);_n(d,i.memoizedState)||(Rt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Ay(t,i,a){var l=Re,f=yt(),d=Ue;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!_n((Je||f).memoizedState,a);if(_&&(f.memoizedState=a,Rt=!0),f=f.queue,vd(Iy.bind(null,l,f,t),[t]),f.getSnapshot!==i||_||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,Ka(9,{destroy:void 0},Cy.bind(null,l,f,a,i),null),tt===null)throw Error(s(349));d||(Xi&127)!==0||Ry(l,i,a)}return a}function Ry(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Re.updateQueue,i===null?(i=vc(),Re.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Cy(t,i,a,l){i.value=a,i.getSnapshot=l,Ny(i)&&xy(t)}function Iy(t,i,a){return a(function(){Ny(i)&&xy(t)})}function Ny(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!_n(t,a)}catch{return!0}}function xy(t){var i=qs(t,2);i!==null&&fn(i,t,2)}function yd(t){var i=sn();if(typeof t=="function"){var a=t;if(t=a(),Ws){Cn(!0);try{a()}finally{Cn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:t},i}function Dy(t,i,a,l){return t.baseState=a,pd(t,Je,typeof l=="function"?l:$i)}function bS(t,i,a,l,f){if(wc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Oy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Oy(t,i){var a=i.action,l=i.payload,f=t.state;if(i.isTransition){var d=K.T,_={};K.T=_;try{var b=a(f,l),N=K.S;N!==null&&N(_,b),My(t,i,b)}catch(B){_d(t,i,B)}finally{d!==null&&_.types!==null&&(d.types=_.types),K.T=d}}else try{d=a(f,l),My(t,i,d)}catch(B){_d(t,i,B)}}function My(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Vy(t,i,l)},function(l){return _d(t,i,l)}):Vy(t,i,a)}function Vy(t,i,a){i.status="fulfilled",i.value=a,Py(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Oy(t,a)))}function _d(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Py(i),i=i.next;while(i!==l)}t.action=null}function Py(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Ly(t,i){return i}function ky(t,i){if(Ue){var a=tt.formState;if(a!==null){e:{var l=Re;if(Ue){if(it){t:{for(var f=it,d=Ln;f.nodeType!==8;){if(!d){f=null;break t}if(f=Un(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){it=Un(f.nextSibling),l=f.data==="F!";break e}}Pr(l)}l=!1}l&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ly,lastRenderedState:i},a.queue=l,a=n_.bind(null,Re,l),l.dispatch=a,l=yd(!1),d=wd.bind(null,Re,!1,l.queue),l=sn(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,a=bS.bind(null,Re,f,d,a),f.dispatch=a,l.memoizedState=t,[i,a,!1]}function Uy(t){var i=yt();return zy(i,Je,t)}function zy(t,i,a){if(i=pd(t,i,Ly)[0],t=Tc($i)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Tl(i)}catch(_){throw _===qa?hc:_}else l=i;i=yt();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(Re.flags|=2048,Ka(9,{destroy:void 0},SS.bind(null,f,a),null)),[l,d,t]}function SS(t,i){t.action=i}function jy(t){var i=yt(),a=Je;if(a!==null)return zy(i,a,t);yt(),i=i.memoizedState,a=yt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ka(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Re.updateQueue,i===null&&(i=vc(),Re.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function By(){return yt().memoizedState}function bc(t,i,a,l){var f=sn();Re.flags|=t,f.memoizedState=Ka(1|i,{destroy:void 0},a,l===void 0?null:l)}function Sc(t,i,a,l){var f=yt();l=l===void 0?null:l;var d=f.memoizedState.inst;Je!==null&&l!==null&&ud(l,Je.memoizedState.deps)?f.memoizedState=Ka(i,d,a,l):(Re.flags|=t,f.memoizedState=Ka(1|i,d,a,l))}function qy(t,i){bc(8390656,8,t,i)}function vd(t,i){Sc(2048,8,t,i)}function wS(t){Re.flags|=4;var i=Re.updateQueue;if(i===null)i=vc(),Re.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Hy(t){var i=yt().memoizedState;return wS({ref:i,nextImpl:t}),function(){if((Ge&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Fy(t,i){return Sc(4,2,t,i)}function Gy(t,i){return Sc(4,4,t,i)}function Qy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Ky(t,i,a){a=a!=null?a.concat([t]):null,Sc(4,4,Qy.bind(null,i,t),a)}function Ed(){}function Yy(t,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&ud(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Xy(t,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&ud(i,l[1]))return l[0];if(l=t(),Ws){Cn(!0);try{t()}finally{Cn(!1)}}return a.memoizedState=[l,i],l}function Td(t,i,a){return a===void 0||(Xi&1073741824)!==0&&(Oe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=$_(),Re.lanes|=t,Fr|=t,a)}function $y(t,i,a,l){return _n(a,i)?a:Fa.current!==null?(t=Td(t,a,l),_n(t,i)||(Rt=!0),t):(Xi&42)===0||(Xi&1073741824)!==0&&(Oe&261930)===0?(Rt=!0,t.memoizedState=a):(t=$_(),Re.lanes|=t,Fr|=t,i)}function Wy(t,i,a,l,f){var d=se.p;se.p=d!==0&&8>d?d:8;var _=K.T,b={};K.T=b,wd(t,!1,i,a);try{var N=f(),B=K.S;if(B!==null&&B(b,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var X=vS(N,l);bl(t,i,X,wn(t))}else bl(t,i,l,wn(t))}catch(Z){bl(t,i,{then:function(){},status:"rejected",reason:Z},wn())}finally{se.p=d,_!==null&&b.types!==null&&(_.types=b.types),K.T=_}}function AS(){}function bd(t,i,a,l){if(t.tag!==5)throw Error(s(476));var f=Jy(t).queue;Wy(t,f,i,me,a===null?AS:function(){return Zy(t),a(l)})}function Jy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:me},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Zy(t){var i=Jy(t);i.next===null&&(i=t.alternate.memoizedState),bl(t,i.next.queue,{},wn())}function Sd(){return Ft(zl)}function e_(){return yt().memoizedState}function t_(){return yt().memoizedState}function RS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=wn();t=Ur(a);var l=zr(i,t,a);l!==null&&(fn(l,i,a),yl(l,i,a)),i={cache:Jf()},t.payload=i;return}i=i.return}}function CS(t,i,a){var l=wn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},wc(t)?i_(i,a):(a=Bf(t,i,a,l),a!==null&&(fn(a,t,l),r_(a,i,l)))}function n_(t,i,a){var l=wn();bl(t,i,a,l)}function bl(t,i,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(wc(t))i_(i,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,b=d(_,a);if(f.hasEagerState=!0,f.eagerState=b,_n(b,_))return rc(t,i,f,0),tt===null&&ic(),!1}catch{}finally{}if(a=Bf(t,i,f,l),a!==null)return fn(a,t,l),r_(a,i,l),!0}return!1}function wd(t,i,a,l){if(l={lane:2,revertLane:nm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},wc(t)){if(i)throw Error(s(479))}else i=Bf(t,a,l,2),i!==null&&fn(i,t,2)}function wc(t){var i=t.alternate;return t===Re||i!==null&&i===Re}function i_(t,i){Ga=yc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function r_(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Fo(t,a)}}var Sl={readContext:Ft,use:Ec,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};Sl.useEffectEvent=ht;var s_={readContext:Ft,use:Ec,useCallback:function(t,i){return sn().memoizedState=[t,i===void 0?null:i],t},useContext:Ft,useEffect:qy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,bc(4194308,4,Qy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return bc(4194308,4,t,i)},useInsertionEffect:function(t,i){bc(4,2,t,i)},useMemo:function(t,i){var a=sn();i=i===void 0?null:i;var l=t();if(Ws){Cn(!0);try{t()}finally{Cn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=sn();if(a!==void 0){var f=a(i);if(Ws){Cn(!0);try{a(i)}finally{Cn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=CS.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var i=sn();return t={current:t},i.memoizedState=t},useState:function(t){t=yd(t);var i=t.queue,a=n_.bind(null,Re,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Ed,useDeferredValue:function(t,i){var a=sn();return Td(a,t,i)},useTransition:function(){var t=yd(!1);return t=Wy.bind(null,Re,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Re,f=sn();if(Ue){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),tt===null)throw Error(s(349));(Oe&127)!==0||Ry(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,qy(Iy.bind(null,l,d,t),[t]),l.flags|=2048,Ka(9,{destroy:void 0},Cy.bind(null,l,d,a,i),null),a},useId:function(){var t=sn(),i=tt.identifierPrefix;if(Ue){var a=Ci,l=Ri;a=(l&~(1<<32-mt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=_c++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=ES++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Sd,useFormState:ky,useActionState:ky,useOptimistic:function(t){var i=sn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=wd.bind(null,Re,!0,a),a.dispatch=i,[t,i]},useMemoCache:md,useCacheRefresh:function(){return sn().memoizedState=RS.bind(null,Re)},useEffectEvent:function(t){var i=sn(),a={impl:t};return i.memoizedState=a,function(){if((Ge&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Ad={readContext:Ft,use:Ec,useCallback:Yy,useContext:Ft,useEffect:vd,useImperativeHandle:Ky,useInsertionEffect:Fy,useLayoutEffect:Gy,useMemo:Xy,useReducer:Tc,useRef:By,useState:function(){return Tc($i)},useDebugValue:Ed,useDeferredValue:function(t,i){var a=yt();return $y(a,Je.memoizedState,t,i)},useTransition:function(){var t=Tc($i)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:Tl(t),i]},useSyncExternalStore:Ay,useId:e_,useHostTransitionStatus:Sd,useFormState:Uy,useActionState:Uy,useOptimistic:function(t,i){var a=yt();return Dy(a,Je,t,i)},useMemoCache:md,useCacheRefresh:t_};Ad.useEffectEvent=Hy;var a_={readContext:Ft,use:Ec,useCallback:Yy,useContext:Ft,useEffect:vd,useImperativeHandle:Ky,useInsertionEffect:Fy,useLayoutEffect:Gy,useMemo:Xy,useReducer:gd,useRef:By,useState:function(){return gd($i)},useDebugValue:Ed,useDeferredValue:function(t,i){var a=yt();return Je===null?Td(a,t,i):$y(a,Je.memoizedState,t,i)},useTransition:function(){var t=gd($i)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:Tl(t),i]},useSyncExternalStore:Ay,useId:e_,useHostTransitionStatus:Sd,useFormState:jy,useActionState:jy,useOptimistic:function(t,i){var a=yt();return Je!==null?Dy(a,Je,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:md,useCacheRefresh:t_};a_.useEffectEvent=Hy;function Rd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Cd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=wn(),f=Ur(l);f.payload=i,a!=null&&(f.callback=a),i=zr(t,f,l),i!==null&&(fn(i,t,l),yl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=wn(),f=Ur(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=zr(t,f,l),i!==null&&(fn(i,t,l),yl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=wn(),l=Ur(a);l.tag=2,i!=null&&(l.callback=i),i=zr(t,l,a),i!==null&&(fn(i,t,a),yl(i,t,a))}};function o_(t,i,a,l,f,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!ul(a,l)||!ul(f,d):!0}function l_(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Cd.enqueueReplaceState(i,i.state,null)}function Js(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function u_(t){nc(t)}function c_(t){console.error(t)}function h_(t){nc(t)}function Ac(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function f_(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Id(t,i,a){return a=Ur(a),a.tag=3,a.payload={element:null},a.callback=function(){Ac(t,i)},a}function d_(t){return t=Ur(t),t.tag=3,t}function m_(t,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){f_(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){f_(i,a,l),typeof f!="function"&&(Gr===null?Gr=new Set([this]):Gr.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function IS(t,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&za(i,a,f,!0),a=En.current,a!==null){switch(a.tag){case 31:case 13:return kn===null?kc():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===fc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Zd(t,l,f)),!1;case 22:return a.flags|=65536,l===fc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Zd(t,l,f)),!1}throw Error(s(435,a.tag))}return Zd(t,l,f),kc(),!1}if(Ue)return i=En.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==Kf&&(t=Error(s(422),{cause:l}),fl(Mn(t,a)))):(l!==Kf&&(i=Error(s(423),{cause:l}),fl(Mn(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Mn(l,a),f=Id(t.stateNode,l,f),rd(t,f),ft!==4&&(ft=2)),!1;var d=Error(s(520),{cause:l});if(d=Mn(d,a),Dl===null?Dl=[d]:Dl.push(d),ft!==4&&(ft=2),i===null)return!0;l=Mn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Id(a.stateNode,l,t),rd(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Gr===null||!Gr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=d_(f),m_(f,t,a,l),rd(a,f),!1}a=a.return}while(a!==null);return!1}var Nd=Error(s(461)),Rt=!1;function Gt(t,i,a,l){i.child=t===null?_y(i,null,a,l):$s(i,t.child,a,l)}function p_(t,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var b in l)b!=="ref"&&(_[b]=l[b])}else _=l;return Qs(i),l=cd(t,i,a,_,d,f),b=hd(),t!==null&&!Rt?(fd(t,i,f),Wi(t,i,f)):(Ue&&b&&Gf(i),i.flags|=1,Gt(t,i,l,f),i.child)}function g_(t,i,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!qf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,y_(t,i,d,l,f)):(t=ac(a.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!kd(t,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:ul,a(_,l)&&t.ref===i.ref)return Wi(t,i,f)}return i.flags|=1,t=Gi(d,l),t.ref=i.ref,t.return=i,i.child=t}function y_(t,i,a,l,f){if(t!==null){var d=t.memoizedProps;if(ul(d,l)&&t.ref===i.ref)if(Rt=!1,i.pendingProps=l=d,kd(t,f))(t.flags&131072)!==0&&(Rt=!0);else return i.lanes=t.lanes,Wi(t,i,f)}return xd(t,i,a,l,f)}function __(t,i,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,i.child=null;return v_(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&cc(i,d!==null?d.cachePool:null),d!==null?Ty(i,d):ad(),by(i);else return l=i.lanes=536870912,v_(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(cc(i,d.cachePool),Ty(i,d),Br(),i.memoizedState=null):(t!==null&&cc(i,null),ad(),Br());return Gt(t,i,f,a),i.child}function wl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function v_(t,i,a,l,f){var d=ed();return d=d===null?null:{parent:wt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&cc(i,null),ad(),by(i),t!==null&&za(t,i,l,!0),i.childLanes=f,null}function Rc(t,i){return i=Ic({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function E_(t,i,a){return $s(i,t.child,null,a),t=Rc(i,i.pendingProps),t.flags|=2,Tn(i),i.memoizedState=null,t}function NS(t,i,a){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Ue){if(l.mode==="hidden")return t=Rc(i,l),i.lanes=536870912,wl(null,t);if(ld(i),(t=it)?(t=Ov(t,Ln),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Mr!==null?{id:Ri,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},a=iy(t),a.return=i,i.child=a,Ht=i,it=null)):t=null,t===null)throw Pr(i);return i.lanes=536870912,null}return Rc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(ld(i),f)if(i.flags&256)i.flags&=-257,i=E_(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Rt||za(t,i,a,!1),f=(a&t.childLanes)!==0,Rt||f){if(l=tt,l!==null&&(_=Go(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,qs(t,_),fn(l,t,_),Nd;kc(),i=E_(t,i,a)}else t=d.treeContext,it=Un(_.nextSibling),Ht=i,Ue=!0,Vr=null,Ln=!1,t!==null&&ay(i,t),i=Rc(i,l),i.flags|=4096;return i}return t=Gi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Cc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function xd(t,i,a,l,f){return Qs(i),a=cd(t,i,a,l,void 0,f),l=hd(),t!==null&&!Rt?(fd(t,i,f),Wi(t,i,f)):(Ue&&l&&Gf(i),i.flags|=1,Gt(t,i,a,f),i.child)}function T_(t,i,a,l,f,d){return Qs(i),i.updateQueue=null,a=wy(i,l,a,f),Sy(t),l=hd(),t!==null&&!Rt?(fd(t,i,d),Wi(t,i,d)):(Ue&&l&&Gf(i),i.flags|=1,Gt(t,i,a,d),i.child)}function b_(t,i,a,l,f){if(Qs(i),i.stateNode===null){var d=Pa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ft(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Cd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},nd(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ft(_):Pa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Rd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Cd.enqueueReplaceState(d,d.state,null),vl(i,l,d,f),_l(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var b=i.memoizedProps,N=Js(a,b);d.props=N;var B=d.context,X=a.contextType;_=Pa,typeof X=="object"&&X!==null&&(_=Ft(X));var Z=a.getDerivedStateFromProps;X=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||B!==_)&&l_(i,d,l,_),kr=!1;var H=i.memoizedState;d.state=H,vl(i,l,d,f),_l(),B=i.memoizedState,b||H!==B||kr?(typeof Z=="function"&&(Rd(i,a,Z,l),B=i.memoizedState),(N=kr||o_(i,a,N,l,H,B,_))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,id(t,i),_=i.memoizedProps,X=Js(a,_),d.props=X,Z=i.pendingProps,H=d.context,B=a.contextType,N=Pa,typeof B=="object"&&B!==null&&(N=Ft(B)),b=a.getDerivedStateFromProps,(B=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==Z||H!==N)&&l_(i,d,l,N),kr=!1,H=i.memoizedState,d.state=H,vl(i,l,d,f),_l();var Q=i.memoizedState;_!==Z||H!==Q||kr||t!==null&&t.dependencies!==null&&lc(t.dependencies)?(typeof b=="function"&&(Rd(i,a,b,l),Q=i.memoizedState),(X=kr||o_(i,a,X,l,H,Q,N)||t!==null&&t.dependencies!==null&&lc(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=N,l=X):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Cc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=$s(i,t.child,null,f),i.child=$s(i,null,a,f)):Gt(t,i,a,f),i.memoizedState=d.state,t=i.child):t=Wi(t,i,f),t}function S_(t,i,a,l){return Fs(),i.flags|=256,Gt(t,i,a,l),i.child}var Dd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Od(t){return{baseLanes:t,cachePool:fy()}}function Md(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Sn),t}function w_(t,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(gt.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ue){if(f?jr(i):Br(),(t=it)?(t=Ov(t,Ln),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Mr!==null?{id:Ri,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},a=iy(t),a.return=i,i.child=a,Ht=i,it=null)):t=null,t===null)throw Pr(i);return pm(t)?i.lanes=32:i.lanes=536870912,null}var b=l.children;return l=l.fallback,f?(Br(),f=i.mode,b=Ic({mode:"hidden",children:b},f),l=Hs(l,f,a,null),b.return=i,l.return=i,b.sibling=l,i.child=b,l=i.child,l.memoizedState=Od(a),l.childLanes=Md(t,_,a),i.memoizedState=Dd,wl(null,l)):(jr(i),Vd(i,b))}var N=t.memoizedState;if(N!==null&&(b=N.dehydrated,b!==null)){if(d)i.flags&256?(jr(i),i.flags&=-257,i=Pd(t,i,a)):i.memoizedState!==null?(Br(),i.child=t.child,i.flags|=128,i=null):(Br(),b=l.fallback,f=i.mode,l=Ic({mode:"visible",children:l.children},f),b=Hs(b,f,a,null),b.flags|=2,l.return=i,b.return=i,l.sibling=b,i.child=l,$s(i,t.child,null,a),l=i.child,l.memoizedState=Od(a),l.childLanes=Md(t,_,a),i.memoizedState=Dd,i=wl(null,l));else if(jr(i),pm(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(s(419)),l.stack="",l.digest=_,fl({value:l,source:null,stack:null}),i=Pd(t,i,a)}else if(Rt||za(t,i,a,!1),_=(a&t.childLanes)!==0,Rt||_){if(_=tt,_!==null&&(l=Go(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,qs(t,l),fn(_,t,l),Nd;mm(b)||kc(),i=Pd(t,i,a)}else mm(b)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,it=Un(b.nextSibling),Ht=i,Ue=!0,Vr=null,Ln=!1,t!==null&&ay(i,t),i=Vd(i,l.children),i.flags|=4096);return i}return f?(Br(),b=l.fallback,f=i.mode,N=t.child,B=N.sibling,l=Gi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,B!==null?b=Gi(B,b):(b=Hs(b,f,a,null),b.flags|=2),b.return=i,l.return=i,l.sibling=b,i.child=l,wl(null,l),l=i.child,b=t.child.memoizedState,b===null?b=Od(a):(f=b.cachePool,f!==null?(N=wt._currentValue,f=f.parent!==N?{parent:N,pool:N}:f):f=fy(),b={baseLanes:b.baseLanes|a,cachePool:f}),l.memoizedState=b,l.childLanes=Md(t,_,a),i.memoizedState=Dd,wl(t.child,l)):(jr(i),a=t.child,t=a.sibling,a=Gi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Vd(t,i){return i=Ic({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Ic(t,i){return t=vn(22,t,null,i),t.lanes=0,t}function Pd(t,i,a){return $s(i,t.child,null,a),t=Vd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function A_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),$f(t.return,i,a)}function Ld(t,i,a,l,f,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function R_(t,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=gt.current,b=(_&2)!==0;if(b?(_=_&1|2,i.flags|=128):_&=1,ae(gt,_),Gt(t,i,l,a),l=Ue?hl:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&A_(t,a,i);else if(t.tag===19)A_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&gc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Ld(i,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&gc(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Ld(i,!0,a,null,d,l);break;case"together":Ld(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Wi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Fr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(za(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Gi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Gi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function kd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&lc(t)))}function xS(t,i,a){switch(i.tag){case 3:Dt(i,i.stateNode.containerInfo),Lr(i,wt,t.memoizedState.cache),Fs();break;case 27:case 5:ws(i);break;case 4:Dt(i,i.stateNode.containerInfo);break;case 10:Lr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,ld(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(jr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?w_(t,i,a):(jr(i),t=Wi(t,i,a),t!==null?t.sibling:null);jr(i);break;case 19:var f=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(za(t,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return R_(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ae(gt,gt.current),l)break;return null;case 22:return i.lanes=0,__(t,i,a,i.pendingProps);case 24:Lr(i,wt,t.memoizedState.cache)}return Wi(t,i,a)}function C_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Rt=!0;else{if(!kd(t,a)&&(i.flags&128)===0)return Rt=!1,xS(t,i,a);Rt=(t.flags&131072)!==0}else Rt=!1,Ue&&(i.flags&1048576)!==0&&sy(i,hl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Ys(i.elementType),i.type=t,typeof t=="function")qf(t)?(l=Js(t,l),i.tag=1,i=b_(null,i,t,l,a)):(i.tag=0,i=xd(null,i,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===pe){i.tag=11,i=p_(null,i,t,l,a);break e}else if(f===I){i.tag=14,i=g_(null,i,t,l,a);break e}}throw i=ke(t)||t,Error(s(306,i,""))}}return i;case 0:return xd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=Js(l,i.pendingProps),b_(t,i,l,f,a);case 3:e:{if(Dt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,id(t,i),vl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Lr(i,wt,l),l!==d.cache&&Wf(i,[wt],a,!0),_l(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=S_(t,i,l,a);break e}else if(l!==f){f=Mn(Error(s(424)),i),fl(f),i=S_(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(it=Un(t.firstChild),Ht=i,Ue=!0,Vr=null,Ln=!0,a=_y(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Fs(),l===f){i=Wi(t,i,a);break e}Gt(t,i,l,a)}i=i.child}return i;case 26:return Cc(t,i),t===null?(a=Uv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ue||(a=i.type,t=i.pendingProps,l=Fc(Ce.current).createElement(a),l[Tt]=i,l[Lt]=t,Qt(l,a,t),bt(l),i.stateNode=l):i.memoizedState=Uv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ws(i),t===null&&Ue&&(l=i.stateNode=Pv(i.type,i.pendingProps,Ce.current),Ht=i,Ln=!0,f=it,Xr(i.type)?(gm=f,it=Un(l.firstChild)):it=f),Gt(t,i,i.pendingProps.children,a),Cc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ue&&((f=l=it)&&(l=aw(l,i.type,i.pendingProps,Ln),l!==null?(i.stateNode=l,Ht=i,it=Un(l.firstChild),Ln=!1,f=!0):f=!1),f||Pr(i)),ws(i),f=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,hm(f,d)?l=null:_!==null&&hm(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=cd(t,i,TS,null,null,a),zl._currentValue=f),Cc(t,i),Gt(t,i,l,a),i.child;case 6:return t===null&&Ue&&((t=a=it)&&(a=ow(a,i.pendingProps,Ln),a!==null?(i.stateNode=a,Ht=i,it=null,t=!0):t=!1),t||Pr(i)),null;case 13:return w_(t,i,a);case 4:return Dt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=$s(i,null,l,a):Gt(t,i,l,a),i.child;case 11:return p_(t,i,i.type,i.pendingProps,a);case 7:return Gt(t,i,i.pendingProps,a),i.child;case 8:return Gt(t,i,i.pendingProps.children,a),i.child;case 12:return Gt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Lr(i,i.type,l.value),Gt(t,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Qs(i),f=Ft(f),l=l(f),i.flags|=1,Gt(t,i,l,a),i.child;case 14:return g_(t,i,i.type,i.pendingProps,a);case 15:return y_(t,i,i.type,i.pendingProps,a);case 19:return R_(t,i,a);case 31:return NS(t,i,a);case 22:return __(t,i,a,i.pendingProps);case 24:return Qs(i),l=Ft(wt),t===null?(f=ed(),f===null&&(f=tt,d=Jf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},nd(i),Lr(i,wt,f)):((t.lanes&a)!==0&&(id(t,i),vl(i,null,null,a),_l()),f=t.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Lr(i,wt,l)):(l=d.cache,Lr(i,wt,l),l!==f.cache&&Wf(i,[wt],a,!0))),Gt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Ji(t){t.flags|=4}function Ud(t,i,a,l,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(ev())t.flags|=8192;else throw Xs=fc,td}else t.flags&=-16777217}function I_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Hv(i))if(ev())t.flags|=8192;else throw Xs=fc,td}function Nc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Pu():536870912,t.lanes|=i,Wa|=i)}function Al(t,i){if(!Ue)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function DS(t,i,a){var l=i.pendingProps;switch(Qf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return rt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Yi(wt),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ua(i)?Ji(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Yf())),rt(i),null;case 26:var f=i.type,d=i.memoizedState;return t===null?(Ji(i),d!==null?(rt(i),I_(i,d)):(rt(i),Ud(i,f,null,l,a))):d?d!==t.memoizedState?(Ji(i),rt(i),I_(i,d)):(rt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Ji(i),rt(i),Ud(i,f,t,l,a)),null;case 27:if(ga(i),a=Ce.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ji(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return rt(i),null}t=ue.current,Ua(i)?oy(i):(t=Pv(f,l,a),i.stateNode=t,Ji(i))}return rt(i),null;case 5:if(ga(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ji(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return rt(i),null}if(d=ue.current,Ua(i))oy(i);else{var _=Fc(Ce.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[Tt]=i,d[Lt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Qt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ji(i)}}return rt(i),Ud(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Ji(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ce.current,Ua(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,f=Ht,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[Tt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||wv(t.nodeValue,a)),t||Pr(i,!0)}else t=Fc(t).createTextNode(l),t[Tt]=i,i.stateNode=t}return rt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Ua(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Tt]=i}else Fs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),t=!1}else a=Yf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Tn(i),i):(Tn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return rt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Ua(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Tt]=i}else Fs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),f=!1}else f=Yf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Tn(i),i):(Tn(i),null)}return Tn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Nc(i,i.updateQueue),rt(i),null);case 4:return at(),t===null&&am(i.stateNode.containerInfo),rt(i),null;case 10:return Yi(i.type),rt(i),null;case 19:if(ee(gt),l=i.memoizedState,l===null)return rt(i),null;if(f=(i.flags&128)!==0,d=l.rendering,d===null)if(f)Al(l,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=gc(t),d!==null){for(i.flags|=128,Al(l,!1),t=d.updateQueue,i.updateQueue=t,Nc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)ny(a,t),a=a.sibling;return ae(gt,gt.current&1|2),Ue&&Qi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&nn()>Vc&&(i.flags|=128,f=!0,Al(l,!1),i.lanes=4194304)}else{if(!f)if(t=gc(d),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,Nc(i,t),Al(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ue)return rt(i),null}else 2*nn()-l.renderingStartTime>Vc&&a!==536870912&&(i.flags|=128,f=!0,Al(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=nn(),t.sibling=null,a=gt.current,ae(gt,f?a&1|2:a&1),Ue&&Qi(i,l.treeForkCount),t):(rt(i),null);case 22:case 23:return Tn(i),od(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),a=i.updateQueue,a!==null&&Nc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&ee(Ks),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Yi(wt),rt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function OS(t,i){switch(Qf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Yi(wt),at(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ga(i),null;case 31:if(i.memoizedState!==null){if(Tn(i),i.alternate===null)throw Error(s(340));Fs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Tn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Fs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ee(gt),null;case 4:return at(),null;case 10:return Yi(i.type),null;case 22:case 23:return Tn(i),od(),t!==null&&ee(Ks),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Yi(wt),null;case 25:return null;default:return null}}function N_(t,i){switch(Qf(i),i.tag){case 3:Yi(wt),at();break;case 26:case 27:case 5:ga(i);break;case 4:at();break;case 31:i.memoizedState!==null&&Tn(i);break;case 13:Tn(i);break;case 19:ee(gt);break;case 10:Yi(i.type);break;case 22:case 23:Tn(i),od(),t!==null&&ee(Ks);break;case 24:Yi(wt)}}function Rl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(b){$e(i,i.return,b)}}function qr(t,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var _=l.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,f=i;var N=a,B=b;try{B()}catch(X){$e(f,N,X)}}}l=l.next}while(l!==d)}}catch(X){$e(i,i.return,X)}}function x_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Ey(i,a)}catch(l){$e(t,t.return,l)}}}function D_(t,i,a){a.props=Js(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){$e(t,i,l)}}function Cl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){$e(t,i,f)}}function Ii(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){$e(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){$e(t,i,f)}else a.current=null}function O_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){$e(t,t.return,f)}}function zd(t,i,a){try{var l=t.stateNode;ew(l,t.type,a,i),l[Lt]=i}catch(f){$e(t,t.return,f)}}function M_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Xr(t.type)||t.tag===4}function jd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||M_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Xr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Bd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Kn));else if(l!==4&&(l===27&&Xr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Bd(t,i,a),t=t.sibling;t!==null;)Bd(t,i,a),t=t.sibling}function xc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Xr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(xc(t,i,a),t=t.sibling;t!==null;)xc(t,i,a),t=t.sibling}function V_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Qt(i,l,a),i[Tt]=t,i[Lt]=a}catch(d){$e(t,t.return,d)}}var Zi=!1,Ct=!1,qd=!1,P_=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function MS(t,i){if(t=t.containerInfo,um=Wc,t=Kg(t),Pf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,b=-1,N=-1,B=0,X=0,Z=t,H=null;t:for(;;){for(var Q;Z!==a||f!==0&&Z.nodeType!==3||(b=_+f),Z!==d||l!==0&&Z.nodeType!==3||(N=_+l),Z.nodeType===3&&(_+=Z.nodeValue.length),(Q=Z.firstChild)!==null;)H=Z,Z=Q;for(;;){if(Z===t)break t;if(H===a&&++B===f&&(b=_),H===d&&++X===l&&(N=_),(Q=Z.nextSibling)!==null)break;Z=H,H=Z.parentNode}Z=Q}a=b===-1||N===-1?null:{start:b,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(cm={focusedElem:t,selectionRange:a},Wc=!1,Ut=i;Ut!==null;)if(i=Ut,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ut=t;else for(;Ut!==null;){switch(i=Ut,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ce=Js(a.type,f);t=l.getSnapshotBeforeUpdate(ce,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ge){$e(a,a.return,ge)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)dm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":dm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Ut=t;break}Ut=i.return}}function L_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:tr(t,a),l&4&&Rl(5,a);break;case 1:if(tr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){$e(a,a.return,_)}else{var f=Js(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){$e(a,a.return,_)}}l&64&&x_(a),l&512&&Cl(a,a.return);break;case 3:if(tr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Ey(t,i)}catch(_){$e(a,a.return,_)}}break;case 27:i===null&&l&4&&V_(a);case 26:case 5:tr(t,a),i===null&&l&4&&O_(a),l&512&&Cl(a,a.return);break;case 12:tr(t,a);break;case 31:tr(t,a),l&4&&z_(t,a);break;case 13:tr(t,a),l&4&&j_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=qS.bind(null,a),lw(t,a))));break;case 22:if(l=a.memoizedState!==null||Zi,!l){i=i!==null&&i.memoizedState!==null||Ct,f=Zi;var d=Ct;Zi=l,(Ct=i)&&!d?nr(t,a,(a.subtreeFlags&8772)!==0):tr(t,a),Zi=f,Ct=d}break;case 30:break;default:tr(t,a)}}function k_(t){var i=t.alternate;i!==null&&(t.alternate=null,k_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ta(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,ln=!1;function er(t,i,a){for(a=a.child;a!==null;)U_(t,i,a),a=a.sibling}function U_(t,i,a){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Hn,a)}catch{}switch(a.tag){case 26:Ct||Ii(a,i),er(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ct||Ii(a,i);var l=lt,f=ln;Xr(a.type)&&(lt=a.stateNode,ln=!1),er(t,i,a),Ll(a.stateNode),lt=l,ln=f;break;case 5:Ct||Ii(a,i);case 6:if(l=lt,f=ln,lt=null,er(t,i,a),lt=l,ln=f,lt!==null)if(ln)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(d){$e(a,i,d)}else try{lt.removeChild(a.stateNode)}catch(d){$e(a,i,d)}break;case 18:lt!==null&&(ln?(t=lt,xv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),so(t)):xv(lt,a.stateNode));break;case 4:l=lt,f=ln,lt=a.stateNode.containerInfo,ln=!0,er(t,i,a),lt=l,ln=f;break;case 0:case 11:case 14:case 15:qr(2,a,i),Ct||qr(4,a,i),er(t,i,a);break;case 1:Ct||(Ii(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&D_(a,i,l)),er(t,i,a);break;case 21:er(t,i,a);break;case 22:Ct=(l=Ct)||a.memoizedState!==null,er(t,i,a),Ct=l;break;default:er(t,i,a)}}function z_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{so(t)}catch(a){$e(i,i.return,a)}}}function j_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{so(t)}catch(a){$e(i,i.return,a)}}function VS(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new P_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new P_),i;default:throw Error(s(435,t.tag))}}function Dc(t,i){var a=VS(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var f=HS.bind(null,t,l);l.then(f,f)}})}function un(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,_=i,b=_;e:for(;b!==null;){switch(b.tag){case 27:if(Xr(b.type)){lt=b.stateNode,ln=!1;break e}break;case 5:lt=b.stateNode,ln=!1;break e;case 3:case 4:lt=b.stateNode.containerInfo,ln=!0;break e}b=b.return}if(lt===null)throw Error(s(160));U_(d,_,f),lt=null,ln=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)B_(i,t),i=i.sibling}var Zn=null;function B_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(i,t),cn(t),l&4&&(qr(3,t,t.return),Rl(3,t),qr(5,t,t.return));break;case 1:un(i,t),cn(t),l&512&&(Ct||a===null||Ii(a,a.return)),l&64&&Zi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Zn;if(un(i,t),cn(t),l&512&&(Ct||a===null||Ii(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[mi]||d[Tt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Qt(d,l,a),d[Tt]=t,bt(d),l=d;break e;case"link":var _=Bv("link","href",f).get(l+(a.href||""));if(_){for(var b=0;b<_.length;b++)if(d=_[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(b,1);break t}}d=f.createElement(l),Qt(d,l,a),f.head.appendChild(d);break;case"meta":if(_=Bv("meta","content",f).get(l+(a.content||""))){for(b=0;b<_.length;b++)if(d=_[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(b,1);break t}}d=f.createElement(l),Qt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[Tt]=t,bt(d),l=d}t.stateNode=l}else qv(f,t.type,t.stateNode);else t.stateNode=jv(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?qv(f,t.type,t.stateNode):jv(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&zd(t,t.memoizedProps,a.memoizedProps)}break;case 27:un(i,t),cn(t),l&512&&(Ct||a===null||Ii(a,a.return)),a!==null&&l&4&&zd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(un(i,t),cn(t),l&512&&(Ct||a===null||Ii(a,a.return)),t.flags&32){f=t.stateNode;try{on(f,"")}catch(ce){$e(t,t.return,ce)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,zd(t,f,a!==null?a.memoizedProps:f)),l&1024&&(qd=!0);break;case 6:if(un(i,t),cn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ce){$e(t,t.return,ce)}}break;case 3:if(Kc=null,f=Zn,Zn=Gc(i.containerInfo),un(i,t),Zn=f,cn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{so(i.containerInfo)}catch(ce){$e(t,t.return,ce)}qd&&(qd=!1,q_(t));break;case 4:l=Zn,Zn=Gc(t.stateNode.containerInfo),un(i,t),cn(t),Zn=l;break;case 12:un(i,t),cn(t);break;case 31:un(i,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Dc(t,l)));break;case 13:un(i,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Mc=nn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Dc(t,l)));break;case 22:f=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,B=Zi,X=Ct;if(Zi=B||f,Ct=X||N,un(i,t),Ct=X,Zi=B,cn(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||N||Zi||Ct||Zs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=N.stateNode;var Z=N.memoizedProps.style,H=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;b.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(ce){$e(N,N.return,ce)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(ce){$e(N,N.return,ce)}}}else if(i.tag===18){if(a===null){N=i;try{var Q=N.stateNode;f?Dv(Q,!0):Dv(N.stateNode,!1)}catch(ce){$e(N,N.return,ce)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Dc(t,a))));break;case 19:un(i,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Dc(t,l)));break;case 30:break;case 21:break;default:un(i,t),cn(t)}}function cn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(M_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=jd(t);xc(t,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(on(_,""),a.flags&=-33);var b=jd(t);xc(t,b,_);break;case 3:case 4:var N=a.stateNode.containerInfo,B=jd(t);Bd(t,B,N);break;default:throw Error(s(161))}}catch(X){$e(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function q_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;q_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function tr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)L_(t,i.alternate,i),i=i.sibling}function Zs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:qr(4,i,i.return),Zs(i);break;case 1:Ii(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&D_(i,i.return,a),Zs(i);break;case 27:Ll(i.stateNode);case 26:case 5:Ii(i,i.return),Zs(i);break;case 22:i.memoizedState===null&&Zs(i);break;case 30:Zs(i);break;default:Zs(i)}t=t.sibling}}function nr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:nr(f,d,a),Rl(4,d);break;case 1:if(nr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(B){$e(l,l.return,B)}if(l=d,f=l.updateQueue,f!==null){var b=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)vy(N[f],b)}catch(B){$e(l,l.return,B)}}a&&_&64&&x_(d),Cl(d,d.return);break;case 27:V_(d);case 26:case 5:nr(f,d,a),a&&l===null&&_&4&&O_(d),Cl(d,d.return);break;case 12:nr(f,d,a);break;case 31:nr(f,d,a),a&&_&4&&z_(f,d);break;case 13:nr(f,d,a),a&&_&4&&j_(f,d);break;case 22:d.memoizedState===null&&nr(f,d,a),Cl(d,d.return);break;case 30:break;default:nr(f,d,a)}i=i.sibling}}function Hd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&dl(a))}function Fd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&dl(t))}function ei(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)H_(t,i,a,l),i=i.sibling}function H_(t,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:ei(t,i,a,l),f&2048&&Rl(9,i);break;case 1:ei(t,i,a,l);break;case 3:ei(t,i,a,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&dl(t)));break;case 12:if(f&2048){ei(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,b=d.onPostCommit;typeof b=="function"&&b(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){$e(i,i.return,N)}}else ei(t,i,a,l);break;case 31:ei(t,i,a,l);break;case 13:ei(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ei(t,i,a,l):Il(t,i):d._visibility&2?ei(t,i,a,l):(d._visibility|=2,Ya(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&Hd(_,i);break;case 24:ei(t,i,a,l),f&2048&&Fd(i.alternate,i);break;default:ei(t,i,a,l)}}function Ya(t,i,a,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,b=a,N=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:Ya(d,_,b,N,f),Rl(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?Ya(d,_,b,N,f):Il(d,_):(X._visibility|=2,Ya(d,_,b,N,f)),f&&B&2048&&Hd(_.alternate,_);break;case 24:Ya(d,_,b,N,f),f&&B&2048&&Fd(_.alternate,_);break;default:Ya(d,_,b,N,f)}i=i.sibling}}function Il(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,f=l.flags;switch(l.tag){case 22:Il(a,l),f&2048&&Hd(l.alternate,l);break;case 24:Il(a,l),f&2048&&Fd(l.alternate,l);break;default:Il(a,l)}i=i.sibling}}var Nl=8192;function Xa(t,i,a){if(t.subtreeFlags&Nl)for(t=t.child;t!==null;)F_(t,i,a),t=t.sibling}function F_(t,i,a){switch(t.tag){case 26:Xa(t,i,a),t.flags&Nl&&t.memoizedState!==null&&Ew(a,Zn,t.memoizedState,t.memoizedProps);break;case 5:Xa(t,i,a);break;case 3:case 4:var l=Zn;Zn=Gc(t.stateNode.containerInfo),Xa(t,i,a),Zn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Nl,Nl=16777216,Xa(t,i,a),Nl=l):Xa(t,i,a));break;default:Xa(t,i,a)}}function G_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function xl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,K_(l,t)}G_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Q_(t),t=t.sibling}function Q_(t){switch(t.tag){case 0:case 11:case 15:xl(t),t.flags&2048&&qr(9,t,t.return);break;case 3:xl(t);break;case 12:xl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Oc(t)):xl(t);break;default:xl(t)}}function Oc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,K_(l,t)}G_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:qr(8,i,i.return),Oc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Oc(i));break;default:Oc(i)}t=t.sibling}}function K_(t,i){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:qr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:dl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var f=l.sibling,d=l.return;if(k_(l),l===a){Ut=null;break e}if(f!==null){f.return=d,Ut=f;break e}Ut=d}}}var PS={getCacheForType:function(t){var i=Ft(wt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ft(wt).controller.signal}},LS=typeof WeakMap=="function"?WeakMap:Map,Ge=0,tt=null,Ne=null,Oe=0,Xe=0,bn=null,Hr=!1,$a=!1,Gd=!1,ir=0,ft=0,Fr=0,ea=0,Qd=0,Sn=0,Wa=0,Dl=null,hn=null,Kd=!1,Mc=0,Y_=0,Vc=1/0,Pc=null,Gr=null,Mt=0,Qr=null,Ja=null,rr=0,Yd=0,Xd=null,X_=null,Ol=0,$d=null;function wn(){return(Ge&2)!==0&&Oe!==0?Oe&-Oe:K.T!==null?nm():Lu()}function $_(){if(Sn===0)if((Oe&536870912)===0||Ue){var t=Cs;Cs<<=1,(Cs&3932160)===0&&(Cs=262144),Sn=t}else Sn=536870912;return t=En.current,t!==null&&(t.flags|=32),Sn}function fn(t,i,a){(t===tt&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(Za(t,0),Kr(t,Oe,Sn,!1)),Is(t,a),((Ge&2)===0||t!==tt)&&(t===tt&&((Ge&2)===0&&(ea|=a),ft===4&&Kr(t,Oe,Sn,!1)),Ni(t))}function W_(t,i,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Fn(t,i),f=l?zS(t,i):Jd(t,i,!0),d=l;do{if(f===0){$a&&!l&&Kr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!kS(a)){f=Jd(t,i,!1),d=!1;continue}if(f===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var b=t;f=Dl;var N=b.current.memoizedState.isDehydrated;if(N&&(Za(b,_).flags|=256),_=Jd(b,_,!1),_!==2){if(Gd&&!N){b.errorRecoveryDisabledLanes|=d,ea|=d,f=4;break e}d=hn,hn=f,d!==null&&(hn===null?hn=d:hn.push.apply(hn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){Za(t,0),Kr(t,i,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Kr(l,i,Sn,!Hr);break e;case 2:hn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=Mc+300-nn(),10<f)){if(Kr(l,i,Sn,!Hr),hi(l,0,!0)!==0)break e;rr=i,l.timeoutHandle=Iv(J_.bind(null,l,a,hn,Pc,Kd,i,Sn,ea,Wa,Hr,d,"Throttled",-0,0),f);break e}J_(l,a,hn,Pc,Kd,i,Sn,ea,Wa,Hr,d,null,-0,0)}}break}while(!0);Ni(t)}function J_(t,i,a,l,f,d,_,b,N,B,X,Z,H,Q){if(t.timeoutHandle=-1,Z=i.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kn},F_(i,d,Z);var ce=(d&62914560)===d?Mc-nn():(d&4194048)===d?Y_-nn():0;if(ce=Tw(Z,ce),ce!==null){rr=d,t.cancelPendingCommit=ce(av.bind(null,t,i,d,a,l,f,_,b,N,X,Z,null,H,Q)),Kr(t,d,_,!B);return}}av(t,i,d,a,l,f,_,b,N)}function kS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!_n(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Kr(t,i,a,l){i&=~Qd,i&=~ea,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var d=31-mt(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Ns(t,a,i)}function Lc(){return(Ge&6)===0?(Ml(0),!1):!0}function Wd(){if(Ne!==null){if(Xe===0)var t=Ne.return;else t=Ne,Ki=Gs=null,dd(t),Ha=null,pl=0,t=Ne;for(;t!==null;)N_(t.alternate,t),t=t.return;Ne=null}}function Za(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,iw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),rr=0,Wd(),tt=t,Ne=a=Gi(t.current,null),Oe=i,Xe=0,bn=null,Hr=!1,$a=Fn(t,i),Gd=!1,Wa=Sn=Qd=ea=Fr=ft=0,hn=Dl=null,Kd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-mt(l),d=1<<f;i|=t[f],l&=~d}return ir=i,ic(),a}function Z_(t,i){Re=null,K.H=Sl,i===qa||i===hc?(i=py(),Xe=3):i===td?(i=py(),Xe=4):Xe=i===Nd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,bn=i,Ne===null&&(ft=1,Ac(t,Mn(i,t.current)))}function ev(){var t=En.current;return t===null?!0:(Oe&4194048)===Oe?kn===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?t===kn:!1}function tv(){var t=K.H;return K.H=Sl,t===null?Sl:t}function nv(){var t=K.A;return K.A=PS,t}function kc(){ft=4,Hr||(Oe&4194048)!==Oe&&En.current!==null||($a=!0),(Fr&134217727)===0&&(ea&134217727)===0||tt===null||Kr(tt,Oe,Sn,!1)}function Jd(t,i,a){var l=Ge;Ge|=2;var f=tv(),d=nv();(tt!==t||Oe!==i)&&(Pc=null,Za(t,i)),i=!1;var _=ft;e:do try{if(Xe!==0&&Ne!==null){var b=Ne,N=bn;switch(Xe){case 8:Wd(),_=6;break e;case 3:case 2:case 9:case 6:En.current===null&&(i=!0);var B=Xe;if(Xe=0,bn=null,eo(t,b,N,B),a&&$a){_=0;break e}break;default:B=Xe,Xe=0,bn=null,eo(t,b,N,B)}}US(),_=ft;break}catch(X){Z_(t,X)}while(!0);return i&&t.shellSuspendCounter++,Ki=Gs=null,Ge=l,K.H=f,K.A=d,Ne===null&&(tt=null,Oe=0,ic()),_}function US(){for(;Ne!==null;)iv(Ne)}function zS(t,i){var a=Ge;Ge|=2;var l=tv(),f=nv();tt!==t||Oe!==i?(Pc=null,Vc=nn()+500,Za(t,i)):$a=Fn(t,i);e:do try{if(Xe!==0&&Ne!==null){i=Ne;var d=bn;t:switch(Xe){case 1:Xe=0,bn=null,eo(t,i,d,1);break;case 2:case 9:if(dy(d)){Xe=0,bn=null,rv(i);break}i=function(){Xe!==2&&Xe!==9||tt!==t||(Xe=7),Ni(t)},d.then(i,i);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:dy(d)?(Xe=0,bn=null,rv(i)):(Xe=0,bn=null,eo(t,i,d,7));break;case 5:var _=null;switch(Ne.tag){case 26:_=Ne.memoizedState;case 5:case 27:var b=Ne;if(_?Hv(_):b.stateNode.complete){Xe=0,bn=null;var N=b.sibling;if(N!==null)Ne=N;else{var B=b.return;B!==null?(Ne=B,Uc(B)):Ne=null}break t}}Xe=0,bn=null,eo(t,i,d,5);break;case 6:Xe=0,bn=null,eo(t,i,d,6);break;case 8:Wd(),ft=6;break e;default:throw Error(s(462))}}jS();break}catch(X){Z_(t,X)}while(!0);return Ki=Gs=null,K.H=l,K.A=f,Ge=a,Ne!==null?0:(tt=null,Oe=0,ic(),ft)}function jS(){for(;Ne!==null&&!If();)iv(Ne)}function iv(t){var i=C_(t.alternate,t,ir);t.memoizedProps=t.pendingProps,i===null?Uc(t):Ne=i}function rv(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=T_(a,i,i.pendingProps,i.type,void 0,Oe);break;case 11:i=T_(a,i,i.pendingProps,i.type.render,i.ref,Oe);break;case 5:dd(i);default:N_(a,i),i=Ne=ny(i,ir),i=C_(a,i,ir)}t.memoizedProps=t.pendingProps,i===null?Uc(t):Ne=i}function eo(t,i,a,l){Ki=Gs=null,dd(i),Ha=null,pl=0;var f=i.return;try{if(IS(t,f,i,a,Oe)){ft=1,Ac(t,Mn(a,t.current)),Ne=null;return}}catch(d){if(f!==null)throw Ne=f,d;ft=1,Ac(t,Mn(a,t.current)),Ne=null;return}i.flags&32768?(Ue||l===1?t=!0:$a||(Oe&536870912)!==0?t=!1:(Hr=t=!0,(l===2||l===9||l===3||l===6)&&(l=En.current,l!==null&&l.tag===13&&(l.flags|=16384))),sv(i,t)):Uc(i)}function Uc(t){var i=t;do{if((i.flags&32768)!==0){sv(i,Hr);return}t=i.return;var a=DS(i.alternate,i,ir);if(a!==null){Ne=a;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);ft===0&&(ft=5)}function sv(t,i){do{var a=OS(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);ft=6,Ne=null}function av(t,i,a,l,f,d,_,b,N){t.cancelPendingCommit=null;do zc();while(Mt!==0);if((Ge&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=jf,Df(t,a,d,_,b,N),t===tt&&(Ne=tt=null,Oe=0),Ja=i,Qr=t,rr=a,Yd=d,Xd=f,X_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,FS(Sr,function(){return hv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,f=se.p,se.p=2,_=Ge,Ge|=4;try{MS(t,i,a)}finally{Ge=_,se.p=f,K.T=l}}Mt=1,ov(),lv(),uv()}}function ov(){if(Mt===1){Mt=0;var t=Qr,i=Ja,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=se.p;se.p=2;var f=Ge;Ge|=4;try{B_(i,t);var d=cm,_=Kg(t.containerInfo),b=d.focusedElem,N=d.selectionRange;if(_!==b&&b&&b.ownerDocument&&Qg(b.ownerDocument.documentElement,b)){if(N!==null&&Pf(b)){var B=N.start,X=N.end;if(X===void 0&&(X=B),"selectionStart"in b)b.selectionStart=B,b.selectionEnd=Math.min(X,b.value.length);else{var Z=b.ownerDocument||document,H=Z&&Z.defaultView||window;if(H.getSelection){var Q=H.getSelection(),ce=b.textContent.length,ge=Math.min(N.start,ce),et=N.end===void 0?ge:Math.min(N.end,ce);!Q.extend&&ge>et&&(_=et,et=ge,ge=_);var U=Gg(b,ge),V=Gg(b,et);if(U&&V&&(Q.rangeCount!==1||Q.anchorNode!==U.node||Q.anchorOffset!==U.offset||Q.focusNode!==V.node||Q.focusOffset!==V.offset)){var j=Z.createRange();j.setStart(U.node,U.offset),Q.removeAllRanges(),ge>et?(Q.addRange(j),Q.extend(V.node,V.offset)):(j.setEnd(V.node,V.offset),Q.addRange(j))}}}}for(Z=[],Q=b;Q=Q.parentNode;)Q.nodeType===1&&Z.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<Z.length;b++){var W=Z[b];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Wc=!!um,cm=um=null}finally{Ge=f,se.p=l,K.T=a}}t.current=i,Mt=2}}function lv(){if(Mt===2){Mt=0;var t=Qr,i=Ja,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=se.p;se.p=2;var f=Ge;Ge|=4;try{L_(t,i.alternate,i)}finally{Ge=f,se.p=l,K.T=a}}Mt=3}}function uv(){if(Mt===4||Mt===3){Mt=0,Nu();var t=Qr,i=Ja,a=rr,l=X_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Mt=5:(Mt=0,Ja=Qr=null,cv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Gr=null),Bi(a),i=i.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Hn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,f=se.p,se.p=2,K.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var b=l[_];d(b.value,{componentStack:b.stack})}}finally{K.T=i,se.p=f}}(rr&3)!==0&&zc(),Ni(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===$d?Ol++:(Ol=0,$d=t):Ol=0,Ml(0)}}function cv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,dl(i)))}function zc(){return ov(),lv(),uv(),hv()}function hv(){if(Mt!==5)return!1;var t=Qr,i=Yd;Yd=0;var a=Bi(rr),l=K.T,f=se.p;try{se.p=32>a?32:a,K.T=null,a=Xd,Xd=null;var d=Qr,_=rr;if(Mt=0,Ja=Qr=null,rr=0,(Ge&6)!==0)throw Error(s(331));var b=Ge;if(Ge|=4,Q_(d.current),H_(d,d.current,_,a),Ge=b,Ml(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Hn,d)}catch{}return!0}finally{se.p=f,K.T=l,cv(t,i)}}function fv(t,i,a){i=Mn(a,i),i=Id(t.stateNode,i,2),t=zr(t,i,2),t!==null&&(Is(t,2),Ni(t))}function $e(t,i,a){if(t.tag===3)fv(t,t,a);else for(;i!==null;){if(i.tag===3){fv(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Gr===null||!Gr.has(l))){t=Mn(a,t),a=d_(2),l=zr(i,a,2),l!==null&&(m_(a,l,i,t),Is(l,2),Ni(l));break}}i=i.return}}function Zd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new LS;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(Gd=!0,f.add(a),t=BS.bind(null,t,i,a),i.then(t,t))}function BS(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,tt===t&&(Oe&a)===a&&(ft===4||ft===3&&(Oe&62914560)===Oe&&300>nn()-Mc?(Ge&2)===0&&Za(t,0):Qd|=a,Wa===Oe&&(Wa=0)),Ni(t)}function dv(t,i){i===0&&(i=Pu()),t=qs(t,i),t!==null&&(Is(t,i),Ni(t))}function qS(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),dv(t,a)}function HS(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),dv(t,a)}function FS(t,i){return Ot(t,i)}var jc=null,to=null,em=!1,Bc=!1,tm=!1,Yr=0;function Ni(t){t!==to&&t.next===null&&(to===null?jc=to=t:to=to.next=t),Bc=!0,em||(em=!0,QS())}function Ml(t,i){if(!tm&&Bc){tm=!0;do for(var a=!1,l=jc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-mt(42|t)+1)-1,d&=f&~(_&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,yv(l,d))}else d=Oe,d=hi(l,l===tt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Fn(l,d)||(a=!0,yv(l,d));l=l.next}while(a);tm=!1}}function GS(){mv()}function mv(){Bc=em=!1;var t=0;Yr!==0&&nw()&&(t=Yr);for(var i=nn(),a=null,l=jc;l!==null;){var f=l.next,d=pv(l,i);d===0?(l.next=null,a===null?jc=f:a.next=f,f===null&&(to=a)):(a=l,(t!==0||(d&3)!==0)&&(Bc=!0)),l=f}Mt!==0&&Mt!==5||Ml(t),Yr!==0&&(Yr=0)}function pv(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-mt(d),b=1<<_,N=f[_];N===-1?((b&a)===0||(b&l)!==0)&&(f[_]=xf(b,i)):N<=i&&(t.expiredLanes|=b),d&=~b}if(i=tt,a=Oe,a=hi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&br(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Fn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&br(l),Bi(a)){case 2:case 8:a=Ho;break;case 32:a=Sr;break;case 268435456:a=xu;break;default:a=Sr}return l=gv.bind(null,t),a=Ot(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&br(l),t.callbackPriority=2,t.callbackNode=null,2}function gv(t,i){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(zc()&&t.callbackNode!==a)return null;var l=Oe;return l=hi(t,t===tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(W_(t,l,i),pv(t,nn()),t.callbackNode!=null&&t.callbackNode===a?gv.bind(null,t):null)}function yv(t,i){if(zc())return null;W_(t,i,!0)}function QS(){rw(function(){(Ge&6)!==0?Ot(qo,GS):mv()})}function nm(){if(Yr===0){var t=ja;t===0&&(t=ui,ui<<=1,(ui&261888)===0&&(ui=256)),Yr=t}return Yr}function _v(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Aa(""+t)}function vv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function KS(t,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=_v((f[Lt]||null).action),_=l.submitter;_&&(i=(i=_[Lt]||null)?_v(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var b=new bi("action","action",null,l,f);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Yr!==0){var N=_?vv(f,_):new FormData(f);bd(a,{pending:!0,data:N,method:f.method,action:d},null,N)}}else typeof d=="function"&&(b.preventDefault(),N=_?vv(f,_):new FormData(f),bd(a,{pending:!0,data:N,method:f.method,action:d},d,N))},currentTarget:f}]})}}for(var im=0;im<zf.length;im++){var rm=zf[im],YS=rm.toLowerCase(),XS=rm[0].toUpperCase()+rm.slice(1);Jn(YS,"on"+XS)}Jn($g,"onAnimationEnd"),Jn(Wg,"onAnimationIteration"),Jn(Jg,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(hS,"onTransitionRun"),Jn(fS,"onTransitionStart"),Jn(dS,"onTransitionCancel"),Jn(Zg,"onTransitionEnd"),_i("onMouseEnter",["mouseout","mouseover"]),_i("onMouseLeave",["mouseout","mouseover"]),_i("onPointerEnter",["pointerout","pointerover"]),_i("onPointerLeave",["pointerout","pointerover"]),yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$S=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vl));function Ev(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var b=l[_],N=b.instance,B=b.currentTarget;if(b=b.listener,N!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=B;try{d(f)}catch(X){nc(X)}f.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(b=l[_],N=b.instance,B=b.currentTarget,b=b.listener,N!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=B;try{d(f)}catch(X){nc(X)}f.currentTarget=null,d=N}}}}function xe(t,i){var a=i[Ea];a===void 0&&(a=i[Ea]=new Set);var l=t+"__bubble";a.has(l)||(Tv(i,t,2,!1),a.add(l))}function sm(t,i,a){var l=0;i&&(l|=4),Tv(a,t,l,i)}var qc="_reactListening"+Math.random().toString(36).slice(2);function am(t){if(!t[qc]){t[qc]=!0,Qo.forEach(function(a){a!=="selectionchange"&&($S.has(a)||sm(a,!1,t),sm(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[qc]||(i[qc]=!0,sm("selectionchange",!1,i))}}function Tv(t,i,a,l){switch($v(i)){case 2:var f=ww;break;case 8:f=Aw;break;default:f=Tm}a=f.bind(null,i,a,t),f=void 0,!Vs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function om(t,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var b=l.stateNode.containerInfo;if(b===f)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;b!==null;){if(_=pi(b),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue e}b=b.parentNode}}l=l.return}Nr(function(){var B=d,X=Nn(a),Z=[];e:{var H=ey.get(t);if(H!==void 0){var Q=bi,ce=t;switch(t){case"keypress":if(Ls(a)===0)break e;case"keydown":case"keyup":Q=Zu;break;case"focusin":ce="focus",Q=Us;break;case"focusout":ce="blur",Q=Us;break;case"beforeblur":case"afterblur":Q=Us;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=sl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Fu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=y;break;case $g:case Wg:case Jg:Q=Qu;break;case Zg:Q=S;break;case"scroll":case"scrollend":Q=rl;break;case"wheel":Q=G;break;case"copy":case"cut":case"paste":Q=Ku;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Fi;break;case"toggle":case"beforetoggle":Q=Ae}var ge=(i&4)!==0,et=!ge&&(t==="scroll"||t==="scrollend"),U=ge?H!==null?H+"Capture":null:H;ge=[];for(var V=B,j;V!==null;){var W=V;if(j=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||j===null||U===null||(W=Yn(V,U),W!=null&&ge.push(Pl(V,W,j))),et)break;V=V.return}0<ge.length&&(H=new Q(H,ce,null,a,X),Z.push({event:H,listeners:ge}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",H&&a!==tl&&(ce=a.relatedTarget||a.fromElement)&&(pi(ce)||ce[di]))break e;if((Q||H)&&(H=X.window===X?X:(H=X.ownerDocument)?H.defaultView||H.parentWindow:window,Q?(ce=a.relatedTarget||a.toElement,Q=B,ce=ce?pi(ce):null,ce!==null&&(et=u(ce),ge=ce.tag,ce!==et||ge!==5&&ge!==27&&ge!==6)&&(ce=null)):(Q=null,ce=B),Q!==ce)){if(ge=sl,W="onMouseLeave",U="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(ge=Fi,W="onPointerLeave",U="onPointerEnter",V="pointer"),et=Q==null?H:gn(Q),j=ce==null?H:gn(ce),H=new ge(W,V+"leave",Q,a,X),H.target=et,H.relatedTarget=j,W=null,pi(X)===B&&(ge=new ge(U,V+"enter",ce,a,X),ge.target=j,ge.relatedTarget=et,W=ge),et=W,Q&&ce)t:{for(ge=WS,U=Q,V=ce,j=0,W=U;W;W=ge(W))j++;W=0;for(var fe=V;fe;fe=ge(fe))W++;for(;0<j-W;)U=ge(U),j--;for(;0<W-j;)V=ge(V),W--;for(;j--;){if(U===V||V!==null&&U===V.alternate){ge=U;break t}U=ge(U),V=ge(V)}ge=null}else ge=null;Q!==null&&bv(Z,H,Q,ge,!1),ce!==null&&et!==null&&bv(Z,et,ce,ge,!0)}}e:{if(H=B?gn(B):window,Q=H.nodeName&&H.nodeName.toLowerCase(),Q==="select"||Q==="input"&&H.type==="file")var qe=zg;else if(kg(H))if(jg)qe=lS;else{qe=aS;var he=sS}else Q=H.nodeName,!Q||Q.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?B&&wa(B.elementType)&&(qe=zg):qe=oS;if(qe&&(qe=qe(t,B))){Ug(Z,qe,a,X);break e}he&&he(t,H,B),t==="focusout"&&B&&H.type==="number"&&B.memoizedProps.value!=null&&Jo(H,"number",H.value)}switch(he=B?gn(B):window,t){case"focusin":(kg(he)||he.contentEditable==="true")&&(Oa=he,Lf=B,cl=null);break;case"focusout":cl=Lf=Oa=null;break;case"mousedown":kf=!0;break;case"contextmenu":case"mouseup":case"dragend":kf=!1,Yg(Z,a,X);break;case"selectionchange":if(cS)break;case"keydown":case"keyup":Yg(Z,a,X)}var Ie;if(Fe)e:{switch(t){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Da?zs(t,a)&&(Me="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Me="onCompositionStart");Me&&(Ai&&a.locale!=="ko"&&(Da||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Da&&(Ie=il()):(Ti=X,nl="value"in Ti?Ti.value:Ti.textContent,Da=!0)),he=Hc(B,Me),0<he.length&&(Me=new wi(Me,t,null,a,X),Z.push({event:Me,listeners:he}),Ie?Me.data=Ie:(Ie=xa(a),Ie!==null&&(Me.data=Ie)))),(Ie=Dn?tS(t,a):nS(t,a))&&(Me=Hc(B,"onBeforeInput"),0<Me.length&&(he=new wi("onBeforeInput","beforeinput",null,a,X),Z.push({event:he,listeners:Me}),he.data=Ie)),KS(Z,t,B,a,X)}Ev(Z,i)})}function Pl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Hc(t,i){for(var a=i+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Yn(t,a),f!=null&&l.unshift(Pl(t,f,d)),f=Yn(t,i),f!=null&&l.push(Pl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function WS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function bv(t,i,a,l,f){for(var d=i._reactName,_=[];a!==null&&a!==l;){var b=a,N=b.alternate,B=b.stateNode;if(b=b.tag,N!==null&&N===l)break;b!==5&&b!==26&&b!==27||B===null||(N=B,f?(B=Yn(a,d),B!=null&&_.unshift(Pl(a,B,N))):f||(B=Yn(a,d),B!=null&&_.push(Pl(a,B,N)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var JS=/\r\n?/g,ZS=/\u0000|\uFFFD/g;function Sv(t){return(typeof t=="string"?t:""+t).replace(JS,`
`).replace(ZS,"")}function wv(t,i){return i=Sv(i),Sv(t)===i}function Ze(t,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||on(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&on(t,""+l);break;case"className":yn(t,"class",l);break;case"tabIndex":yn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(t,a,l);break;case"style":el(t,l,d);break;case"data":if(i!=="object"){yn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Aa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Ze(t,i,"name",f.name,f,null),Ze(t,i,"formEncType",f.formEncType,f,null),Ze(t,i,"formMethod",f.formMethod,f,null),Ze(t,i,"formTarget",f.formTarget,f,null)):(Ze(t,i,"encType",f.encType,f,null),Ze(t,i,"method",f.method,f,null),Ze(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Aa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Kn);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Aa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":xe("beforetoggle",t),xe("toggle",t),ba(t,"popover",l);break;case"xlinkActuate":St(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":St(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":St(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":St(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":St(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":St(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":St(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":St(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":St(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ba(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Hu.get(a)||a,ba(t,a,l))}}function lm(t,i,a,l,f,d){switch(a){case"style":el(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?on(t,l):(typeof l=="number"||typeof l=="bigint")&&on(t,""+l);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ko.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=t[Lt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ba(t,a,l)}}}function Qt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",t),xe("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(t,i,d,_,a,null)}}f&&Ze(t,i,"srcSet",a.srcSet,a,null),l&&Ze(t,i,"src",a.src,a,null);return;case"input":xe("invalid",t);var b=d=_=f=null,N=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":f=X;break;case"type":_=X;break;case"checked":N=X;break;case"defaultChecked":B=X;break;case"value":d=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:Ze(t,i,l,X,a,null)}}ju(t,d,b,N,B,_,f,!1);return;case"select":xe("invalid",t),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":d=b;break;case"defaultValue":_=b;break;case"multiple":l=b;default:Ze(t,i,f,b,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Ar(t,!!l,i,!1):a!=null&&Ar(t,!!l,a,!0);return;case"textarea":xe("invalid",t),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(b=a[_],b!=null))switch(_){case"value":l=b;break;case"defaultValue":f=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Ze(t,i,_,b,a,null)}Rr(t,l,f,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ze(t,i,N,l,a,null)}return;case"dialog":xe("beforetoggle",t),xe("toggle",t),xe("cancel",t),xe("close",t);break;case"iframe":case"object":xe("load",t);break;case"video":case"audio":for(l=0;l<Vl.length;l++)xe(Vl[l],t);break;case"image":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"embed":case"source":case"link":xe("error",t),xe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(t,i,B,l,a,null)}return;default:if(wa(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&lm(t,i,X,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&Ze(t,i,b,l,a,null))}function ew(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,b=null,N=null,B=null,X=null;for(Q in a){var Z=a[Q];if(a.hasOwnProperty(Q)&&Z!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":N=Z;default:l.hasOwnProperty(Q)||Ze(t,i,Q,null,l,Z)}}for(var H in l){var Q=l[H];if(Z=a[H],l.hasOwnProperty(H)&&(Q!=null||Z!=null))switch(H){case"type":d=Q;break;case"name":f=Q;break;case"checked":B=Q;break;case"defaultChecked":X=Q;break;case"value":_=Q;break;case"defaultValue":b=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Q!==Z&&Ze(t,i,H,Q,l,Z)}}Sa(t,_,b,N,B,X,d,f);return;case"select":Q=_=b=H=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":Q=N;default:l.hasOwnProperty(d)||Ze(t,i,d,null,l,N)}for(f in l)if(d=l[f],N=a[f],l.hasOwnProperty(f)&&(d!=null||N!=null))switch(f){case"value":H=d;break;case"defaultValue":b=d;break;case"multiple":_=d;default:d!==N&&Ze(t,i,f,d,l,N)}i=b,a=_,l=Q,H!=null?Ar(t,!!a,H,!1):!!l!=!!a&&(i!=null?Ar(t,!!a,i,!0):Ar(t,!!a,a?[]:"",!1));return;case"textarea":Q=H=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ze(t,i,b,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":H=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Ze(t,i,_,f,l,d)}Bu(t,H,Q);return;case"option":for(var ce in a)if(H=a[ce],a.hasOwnProperty(ce)&&H!=null&&!l.hasOwnProperty(ce))switch(ce){case"selected":t.selected=!1;break;default:Ze(t,i,ce,null,l,H)}for(N in l)if(H=l[N],Q=a[N],l.hasOwnProperty(N)&&H!==Q&&(H!=null||Q!=null))switch(N){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Ze(t,i,N,H,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in a)H=a[ge],a.hasOwnProperty(ge)&&H!=null&&!l.hasOwnProperty(ge)&&Ze(t,i,ge,null,l,H);for(B in l)if(H=l[B],Q=a[B],l.hasOwnProperty(B)&&H!==Q&&(H!=null||Q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:Ze(t,i,B,H,l,Q)}return;default:if(wa(i)){for(var et in a)H=a[et],a.hasOwnProperty(et)&&H!==void 0&&!l.hasOwnProperty(et)&&lm(t,i,et,void 0,l,H);for(X in l)H=l[X],Q=a[X],!l.hasOwnProperty(X)||H===Q||H===void 0&&Q===void 0||lm(t,i,X,H,l,Q);return}}for(var U in a)H=a[U],a.hasOwnProperty(U)&&H!=null&&!l.hasOwnProperty(U)&&Ze(t,i,U,null,l,H);for(Z in l)H=l[Z],Q=a[Z],!l.hasOwnProperty(Z)||H===Q||H==null&&Q==null||Ze(t,i,Z,H,l,Q)}function Av(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function tw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,b=f.duration;if(d&&b&&Av(_)){for(_=0,b=f.responseEnd,l+=1;l<a.length;l++){var N=a[l],B=N.startTime;if(B>b)break;var X=N.transferSize,Z=N.initiatorType;X&&Av(Z)&&(N=N.responseEnd,_+=X*(N<b?1:(b-B)/(N-B)))}if(--l,i+=8*(d+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var um=null,cm=null;function Fc(t){return t.nodeType===9?t:t.ownerDocument}function Rv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function hm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var fm=null;function nw(){var t=window.event;return t&&t.type==="popstate"?t===fm?!1:(fm=t,!0):(fm=null,!1)}var Iv=typeof setTimeout=="function"?setTimeout:void 0,iw=typeof clearTimeout=="function"?clearTimeout:void 0,Nv=typeof Promise=="function"?Promise:void 0,rw=typeof queueMicrotask=="function"?queueMicrotask:typeof Nv<"u"?function(t){return Nv.resolve(null).then(t).catch(sw)}:Iv;function sw(t){setTimeout(function(){throw t})}function Xr(t){return t==="head"}function xv(t,i){var a=i,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),so(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ll(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ll(a);for(var d=a.firstChild;d;){var _=d.nextSibling,b=d.nodeName;d[mi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Ll(t.ownerDocument.body);a=f}while(a);so(i)}function Dv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function dm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":dm(a),Ta(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function aw(t,i,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[mi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Un(t.nextSibling),t===null)break}return null}function ow(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Un(t.nextSibling),t===null))return null;return t}function Ov(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Un(t.nextSibling),t===null))return null;return t}function mm(t){return t.data==="$?"||t.data==="$~"}function pm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function lw(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Un(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var gm=null;function Mv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Un(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function Vv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function Pv(t,i,a){switch(i=Fc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ll(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ta(t)}var zn=new Map,Lv=new Set;function Gc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var sr=se.d;se.d={f:uw,r:cw,D:hw,C:fw,L:dw,m:mw,X:gw,S:pw,M:yw};function uw(){var t=sr.f(),i=Lc();return t||i}function cw(t){var i=In(t);i!==null&&i.tag===5&&i.type==="form"?Zy(i):sr.r(t)}var no=typeof document>"u"?null:document;function kv(t,i,a){var l=no;if(l&&typeof i=="string"&&i){var f=an(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Lv.has(f)||(Lv.add(f),t={rel:t,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),Qt(i,"link",t),bt(i),l.head.appendChild(i)))}}function hw(t){sr.D(t),kv("dns-prefetch",t,null)}function fw(t,i){sr.C(t,i),kv("preconnect",t,i)}function dw(t,i,a){sr.L(t,i,a);var l=no;if(l&&t&&i){var f='link[rel="preload"][as="'+an(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+an(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+an(a.imageSizes)+'"]')):f+='[href="'+an(t)+'"]';var d=f;switch(i){case"style":d=io(t);break;case"script":d=ro(t)}zn.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),zn.set(d,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(kl(d))||i==="script"&&l.querySelector(Ul(d))||(i=l.createElement("link"),Qt(i,"link",t),bt(i),l.head.appendChild(i)))}}function mw(t,i){sr.m(t,i);var a=no;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+an(l)+'"][href="'+an(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ro(t)}if(!zn.has(d)&&(t=T({rel:"modulepreload",href:t},i),zn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ul(d)))return}l=a.createElement("link"),Qt(l,"link",t),bt(l),a.head.appendChild(l)}}}function pw(t,i,a){sr.S(t,i,a);var l=no;if(l&&t){var f=gi(l).hoistableStyles,d=io(t);i=i||"default";var _=f.get(d);if(!_){var b={loading:0,preload:null};if(_=l.querySelector(kl(d)))b.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=zn.get(d))&&ym(t,a);var N=_=l.createElement("link");bt(N),Qt(N,"link",t),N._p=new Promise(function(B,X){N.onload=B,N.onerror=X}),N.addEventListener("load",function(){b.loading|=1}),N.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Qc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:b},f.set(d,_)}}}function gw(t,i){sr.X(t,i);var a=no;if(a&&t){var l=gi(a).hoistableScripts,f=ro(t),d=l.get(f);d||(d=a.querySelector(Ul(f)),d||(t=T({src:t,async:!0},i),(i=zn.get(f))&&_m(t,i),d=a.createElement("script"),bt(d),Qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function yw(t,i){sr.M(t,i);var a=no;if(a&&t){var l=gi(a).hoistableScripts,f=ro(t),d=l.get(f);d||(d=a.querySelector(Ul(f)),d||(t=T({src:t,async:!0,type:"module"},i),(i=zn.get(f))&&_m(t,i),d=a.createElement("script"),bt(d),Qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Uv(t,i,a,l){var f=(f=Ce.current)?Gc(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=io(a.href),a=gi(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=io(a.href);var d=gi(f).hoistableStyles,_=d.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=f.querySelector(kl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),zn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},zn.set(t,a),d||_w(f,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ro(a),a=gi(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function io(t){return'href="'+an(t)+'"'}function kl(t){return'link[rel="stylesheet"]['+t+"]"}function zv(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function _w(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Qt(i,"link",a),bt(i),t.head.appendChild(i))}function ro(t){return'[src="'+an(t)+'"]'}function Ul(t){return"script[async]"+t}function jv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+an(a.href)+'"]');if(l)return i.instance=l,bt(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),bt(l),Qt(l,"style",f),Qc(l,a.precedence,t),i.instance=l;case"stylesheet":f=io(a.href);var d=t.querySelector(kl(f));if(d)return i.state.loading|=4,i.instance=d,bt(d),d;l=zv(a),(f=zn.get(f))&&ym(l,f),d=(t.ownerDocument||t).createElement("link"),bt(d);var _=d;return _._p=new Promise(function(b,N){_.onload=b,_.onerror=N}),Qt(d,"link",l),i.state.loading|=4,Qc(d,a.precedence,t),i.instance=d;case"script":return d=ro(a.src),(f=t.querySelector(Ul(d)))?(i.instance=f,bt(f),f):(l=a,(f=zn.get(d))&&(l=T({},a),_m(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),bt(f),Qt(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Qc(l,a.precedence,t));return i.instance}function Qc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var b=l[_];if(b.dataset.precedence===i)d=b;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function ym(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function _m(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Kc=null;function Bv(t,i,a){if(Kc===null){var l=new Map,f=Kc=new Map;f.set(a,l)}else f=Kc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[mi]||d[Tt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var b=l.get(_);b?b.push(d):l.set(_,[d])}}return l}function qv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function vw(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Hv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Ew(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=io(l.href),d=i.querySelector(kl(f));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Yc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,bt(d);return}d=i.ownerDocument||i,l=zv(l),(f=zn.get(f))&&ym(l,f),d=d.createElement("link"),bt(d);var _=d;_._p=new Promise(function(b,N){_.onload=b,_.onerror=N}),Qt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Yc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var vm=0;function Tw(t,i){return t.stylesheets&&t.count===0&&$c(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&$c(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&vm===0&&(vm=62500*tw());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&$c(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>vm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Yc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$c(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Xc=null;function $c(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Xc=new Map,i.forEach(bw,t),Xc=null,Yc.call(t))}function bw(t,i){if(!(i.state.loading&4)){var a=Xc.get(t);if(a)var l=a.get(null);else{a=new Map,Xc.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=i.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=Yc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var zl={$$typeof:ne,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function Sw(t,i,a,l,f,d,_,b,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.hiddenUpdates=fi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Fv(t,i,a,l,f,d,_,b,N,B,X,Z){return t=new Sw(t,i,a,_,N,B,X,Z,b),i=1,d===!0&&(i|=24),d=vn(3,null,null,i),t.current=d,d.stateNode=t,i=Jf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},nd(d),t}function Gv(t){return t?(t=Pa,t):Pa}function Qv(t,i,a,l,f,d){f=Gv(f),l.context===null?l.context=f:l.pendingContext=f,l=Ur(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=zr(t,l,i),a!==null&&(fn(a,t,i),yl(a,t,i))}function Kv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Em(t,i){Kv(t,i),(t=t.alternate)&&Kv(t,i)}function Yv(t){if(t.tag===13||t.tag===31){var i=qs(t,67108864);i!==null&&fn(i,t,67108864),Em(t,67108864)}}function Xv(t){if(t.tag===13||t.tag===31){var i=wn();i=xs(i);var a=qs(t,i);a!==null&&fn(a,t,i),Em(t,i)}}var Wc=!0;function ww(t,i,a,l){var f=K.T;K.T=null;var d=se.p;try{se.p=2,Tm(t,i,a,l)}finally{se.p=d,K.T=f}}function Aw(t,i,a,l){var f=K.T;K.T=null;var d=se.p;try{se.p=8,Tm(t,i,a,l)}finally{se.p=d,K.T=f}}function Tm(t,i,a,l){if(Wc){var f=bm(l);if(f===null)om(t,i,l,Jc,a),Wv(t,l);else if(Cw(f,t,i,a,l))l.stopPropagation();else if(Wv(t,l),i&4&&-1<Rw.indexOf(t)){for(;f!==null;){var d=In(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ci(d.pendingLanes);if(_!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var N=1<<31-mt(_);b.entanglements[1]|=N,_&=~N}Ni(d),(Ge&6)===0&&(Vc=nn()+500,Ml(0))}}break;case 31:case 13:b=qs(d,2),b!==null&&fn(b,d,2),Lc(),Em(d,2)}if(d=bm(l),d===null&&om(t,i,l,Jc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else om(t,i,l,null,a)}}function bm(t){return t=Nn(t),Sm(t)}var Jc=null;function Sm(t){if(Jc=null,t=pi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Jc=t,null}function $v(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rs()){case qo:return 2;case Ho:return 8;case Sr:case Nf:return 32;case xu:return 268435456;default:return 32}default:return 32}}var wm=!1,$r=null,Wr=null,Jr=null,jl=new Map,Bl=new Map,Zr=[],Rw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Wv(t,i){switch(t){case"focusin":case"focusout":$r=null;break;case"dragenter":case"dragleave":Wr=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":jl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bl.delete(i.pointerId)}}function ql(t,i,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=In(i),i!==null&&Yv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function Cw(t,i,a,l,f){switch(i){case"focusin":return $r=ql($r,t,i,a,l,f),!0;case"dragenter":return Wr=ql(Wr,t,i,a,l,f),!0;case"mouseover":return Jr=ql(Jr,t,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return jl.set(d,ql(jl.get(d)||null,t,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Bl.set(d,ql(Bl.get(d)||null,t,i,a,l,f)),!0}return!1}function Jv(t){var i=pi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,Gn(t.priority,function(){Xv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Gn(t.priority,function(){Xv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=bm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);tl=l,a.target.dispatchEvent(l),tl=null}else return i=In(a),i!==null&&Yv(i),t.blockedOn=a,!1;i.shift()}return!0}function Zv(t,i,a){Zc(t)&&a.delete(i)}function Iw(){wm=!1,$r!==null&&Zc($r)&&($r=null),Wr!==null&&Zc(Wr)&&(Wr=null),Jr!==null&&Zc(Jr)&&(Jr=null),jl.forEach(Zv),Bl.forEach(Zv)}function eh(t,i){t.blockedOn===i&&(t.blockedOn=null,wm||(wm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Iw)))}var th=null;function e0(t){th!==t&&(th=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){th===t&&(th=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(Sm(l||a)===null)continue;break}var d=In(a);d!==null&&(t.splice(i,3),i-=3,bd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function so(t){function i(N){return eh(N,t)}$r!==null&&eh($r,t),Wr!==null&&eh(Wr,t),Jr!==null&&eh(Jr,t),jl.forEach(i),Bl.forEach(i);for(var a=0;a<Zr.length;a++){var l=Zr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Zr.length&&(a=Zr[0],a.blockedOn===null);)Jv(a),a.blockedOn===null&&Zr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[Lt]||null;if(typeof d=="function")_||e0(a);else if(_){var b=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Lt]||null)b=_.formAction;else if(Sm(f)!==null)continue}else b=_.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),e0(a)}}}function t0(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function Am(t){this._internalRoot=t}nh.prototype.render=Am.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=wn();Qv(a,l,t,i,null,null)},nh.prototype.unmount=Am.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Qv(t.current,2,null,t,null,null),Lc(),i[di]=null}};function nh(t){this._internalRoot=t}nh.prototype.unstable_scheduleHydration=function(t){if(t){var i=Lu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Zr.length&&i!==0&&i<Zr[a].priority;a++);Zr.splice(a,0,t),a===0&&Jv(t)}};var n0=e.version;if(n0!=="19.2.0")throw Error(s(527,n0,"19.2.0"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var Nw={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ih.isDisabled&&ih.supportsFiber)try{Hn=ih.inject(Nw),Bt=ih}catch{}}return Fl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",f=u_,d=c_,_=h_;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Fv(t,1,!1,null,null,a,l,null,f,d,_,t0),t[di]=i.current,am(t),new Am(i)},Fl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=u_,_=c_,b=h_,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=Fv(t,1,!0,i,a??null,l,f,N,d,_,b,t0),i.context=Gv(null),a=i.current,l=wn(),l=xs(l),f=Ur(l),f.callback=null,zr(a,f,l),a=l,i.current.lanes=a,Is(i,a),Ni(i),t[di]=i.current,am(t),new nh(i)},Fl.version="19.2.0",Fl}var f0;function zw(){if(f0)return Im.exports;f0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Im.exports=Uw(),Im.exports}var jw=zw();const Bw=ZE(jw);var d0="popstate";function qw(r={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return Qm("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:su(o)}return Fw(e,n,null,r)}function ut(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function si(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Hw(){return Math.random().toString(36).substring(2,10)}function m0(r,e){return{usr:r.state,key:r.key,idx:e}}function Qm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Co(e):e,state:n,key:e&&e.key||s||Hw()}}function su({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Co(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function Fw(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function T(){m="POP";let q=E(),ie=q==null?null:q-g;g=q,p&&p({action:m,location:Y.location,delta:ie})}function w(q,ie){m="PUSH";let $=Qm(Y.location,q,ie);g=E()+1;let ne=m0($,g),pe=Y.createHref($);try{h.pushState(ne,"",pe)}catch(Te){if(Te instanceof DOMException&&Te.name==="DataCloneError")throw Te;o.location.assign(pe)}u&&p&&p({action:m,location:Y.location,delta:1})}function M(q,ie){m="REPLACE";let $=Qm(Y.location,q,ie);g=E();let ne=m0($,g),pe=Y.createHref($);h.replaceState(ne,"",pe),u&&p&&p({action:m,location:Y.location,delta:0})}function F(q){return Gw(q)}let Y={get action(){return m},get location(){return r(o,h)},listen(q){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(d0,T),p=q,()=>{o.removeEventListener(d0,T),p=null}},createHref(q){return e(o,q)},createURL:F,encodeLocation(q){let ie=F(q);return{pathname:ie.pathname,search:ie.search,hash:ie.hash}},push:w,replace:M,go(q){return h.go(q)}};return Y}function Gw(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ut(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:su(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function eT(r,e,n="/"){return Qw(r,e,n,!1)}function Qw(r,e,n,s){let o=typeof e=="string"?Co(e):e,u=fr(o.pathname||"/",n);if(u==null)return null;let h=tT(r);Kw(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=rA(u);m=nA(h[p],g,s)}return m}function tT(r,e=[],n=[],s="",o=!1){let u=(h,m,p=o,g)=>{let E={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;ut(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=ur([s,E.relativePath]),w=n.concat(E);h.children&&h.children.length>0&&(ut(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),tT(h.children,e,w,T,p)),!(h.path==null&&!h.index)&&e.push({path:T,score:eA(T,h.index),routesMeta:w})};return r.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let p of nT(h.path))u(h,m,!0,p)}),e}function nT(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=nT(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function Kw(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:tA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Yw=/^:[\w-]+$/,Xw=3,$w=2,Ww=1,Jw=10,Zw=-2,p0=r=>r==="*";function eA(r,e){let n=r.split("/"),s=n.length;return n.some(p0)&&(s+=Zw),e&&(s+=$w),n.filter(o=>!p0(o)).reduce((o,u)=>o+(Yw.test(u)?Xw:u===""?Ww:Jw),s)}function tA(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function nA(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=Rh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),w=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=Rh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:ur([u,T.pathname]),pathnameBase:lA(ur([u,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(u=ur([u,T.pathnameBase]))}return h}function Rh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=iA(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:T},w)=>{if(E==="*"){let F=m[w]||"";h=u.slice(0,u.length-F.length).replace(/(.)\/+$/,"$1")}const M=m[w];return T&&!M?g[E]=void 0:g[E]=(M||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function iA(r,e=!1,n=!0){si(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function rA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return si(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function fr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function sA(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Co(r):r;return{pathname:n?n.startsWith("/")?n:aA(n,e):e,search:uA(s),hash:cA(o)}}function aA(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Om(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function oA(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function wp(r){let e=oA(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Ap(r,e,n,s=!1){let o;typeof r=="string"?o=Co(r):(o={...r},ut(!o.pathname||!o.pathname.includes("?"),Om("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),Om("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),Om("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let T=e.length-1;if(!s&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),T-=1;o.pathname=w.join("/")}m=T>=0?e[T]:"/"}let p=sA(o,m),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var ur=r=>r.join("/").replace(/\/\/+/g,"/"),lA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),uA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,cA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function hA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var iT=["POST","PUT","PATCH","DELETE"];new Set(iT);var fA=["GET",...iT];new Set(fA);var Io=k.createContext(null);Io.displayName="DataRouter";var Zh=k.createContext(null);Zh.displayName="DataRouterState";k.createContext(!1);var rT=k.createContext({isTransitioning:!1});rT.displayName="ViewTransition";var dA=k.createContext(new Map);dA.displayName="Fetchers";var mA=k.createContext(null);mA.displayName="Await";var oi=k.createContext(null);oi.displayName="Navigation";var mu=k.createContext(null);mu.displayName="Location";var ji=k.createContext({outlet:null,matches:[],isDataRoute:!1});ji.displayName="Route";var Rp=k.createContext(null);Rp.displayName="RouteError";function pA(r,{relative:e}={}){ut(No(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=k.useContext(oi),{hash:o,pathname:u,search:h}=pu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:ur([n,u])),s.createHref({pathname:m,search:h,hash:o})}function No(){return k.useContext(mu)!=null}function _s(){return ut(No(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(mu).location}var sT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function aT(r){k.useContext(oi).static||k.useLayoutEffect(r)}function oT(){let{isDataRoute:r}=k.useContext(ji);return r?IA():gA()}function gA(){ut(No(),"useNavigate() may be used only in the context of a <Router> component.");let r=k.useContext(Io),{basename:e,navigator:n}=k.useContext(oi),{matches:s}=k.useContext(ji),{pathname:o}=_s(),u=JSON.stringify(wp(s)),h=k.useRef(!1);return aT(()=>{h.current=!0}),k.useCallback((p,g={})=>{if(si(h.current,sT),!h.current)return;if(typeof p=="number"){n.go(p);return}let E=Ap(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ur([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}k.createContext(null);function pu(r,{relative:e}={}){let{matches:n}=k.useContext(ji),{pathname:s}=_s(),o=JSON.stringify(wp(n));return k.useMemo(()=>Ap(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function yA(r,e){return lT(r,e)}function lT(r,e,n,s,o){ut(No(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=k.useContext(oi),{matches:h}=k.useContext(ji),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let $=T&&T.path||"";uT(g,!T||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let w=_s(),M;if(e){let $=typeof e=="string"?Co(e):e;ut(E==="/"||$.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${$.pathname}" was given in the \`location\` prop.`),M=$}else M=w;let F=M.pathname||"/",Y=F;if(E!=="/"){let $=E.replace(/^\//,"").split("/");Y="/"+F.replace(/^\//,"").split("/").slice($.length).join("/")}let q=eT(r,{pathname:Y});si(T||q!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),si(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ie=bA(q&&q.map($=>Object.assign({},$,{params:Object.assign({},p,$.params),pathname:ur([E,u.encodeLocation?u.encodeLocation($.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?E:ur([E,u.encodeLocation?u.encodeLocation($.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathnameBase])})),h,n,s,o);return e&&ie?k.createElement(mu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},ie):ie}function _A(){let r=CA(),e=hA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:u},"ErrorBoundary")," or"," ",k.createElement("code",{style:u},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:o},n):null,h)}var vA=k.createElement(_A,null),EA=class extends k.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?k.createElement(ji.Provider,{value:this.props.routeContext},k.createElement(Rp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function TA({routeContext:r,match:e,children:n}){let s=k.useContext(Io);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(ji.Provider,{value:r},n)}function bA(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,h=n?.errors;if(h!=null){let g=u.findIndex(E=>E.route.id&&h?.[E.route.id]!==void 0);ut(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let m=!1,p=-1;if(n)for(let g=0;g<u.length;g++){let E=u[g];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(p=g),E.route.id){let{loaderData:T,errors:w}=n,M=E.route.loader&&!T.hasOwnProperty(E.route.id)&&(!w||w[E.route.id]===void 0);if(E.route.lazy||M){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,E,T)=>{let w,M=!1,F=null,Y=null;n&&(w=h&&E.route.id?h[E.route.id]:void 0,F=E.route.errorElement||vA,m&&(p<0&&T===0?(uT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,Y=null):p===T&&(M=!0,Y=E.route.hydrateFallbackElement||null)));let q=e.concat(u.slice(0,T+1)),ie=()=>{let $;return w?$=F:M?$=Y:E.route.Component?$=k.createElement(E.route.Component,null):E.route.element?$=E.route.element:$=g,k.createElement(TA,{match:E,routeContext:{outlet:g,matches:q,isDataRoute:n!=null},children:$})};return n&&(E.route.ErrorBoundary||E.route.errorElement||T===0)?k.createElement(EA,{location:n.location,revalidation:n.revalidation,component:F,error:w,children:ie(),routeContext:{outlet:null,matches:q,isDataRoute:!0},unstable_onError:s}):ie()},null)}function Cp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SA(r){let e=k.useContext(Io);return ut(e,Cp(r)),e}function wA(r){let e=k.useContext(Zh);return ut(e,Cp(r)),e}function AA(r){let e=k.useContext(ji);return ut(e,Cp(r)),e}function Ip(r){let e=AA(r),n=e.matches[e.matches.length-1];return ut(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function RA(){return Ip("useRouteId")}function CA(){let r=k.useContext(Rp),e=wA("useRouteError"),n=Ip("useRouteError");return r!==void 0?r:e.errors?.[n]}function IA(){let{router:r}=SA("useNavigate"),e=Ip("useNavigate"),n=k.useRef(!1);return aT(()=>{n.current=!0}),k.useCallback(async(o,u={})=>{si(n.current,sT),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var g0={};function uT(r,e,n){!e&&!g0[r]&&(g0[r]=!0,si(!1,n))}k.memo(NA);function NA({routes:r,future:e,state:n,unstable_onError:s}){return lT(r,void 0,n,s,e)}function rh({to:r,replace:e,state:n,relative:s}){ut(No(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=k.useContext(oi);si(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=k.useContext(ji),{pathname:h}=_s(),m=oT(),p=Ap(r,wp(u),h,s==="path"),g=JSON.stringify(p);return k.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function Ql(r){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function xA({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ut(!No(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),m=k.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=Co(n));let{pathname:p="/",search:g="",hash:E="",state:T=null,key:w="default"}=n,M=k.useMemo(()=>{let F=fr(p,h);return F==null?null:{location:{pathname:F,search:g,hash:E,state:T,key:w},navigationType:s}},[h,p,g,E,T,w,s]);return si(M!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:k.createElement(oi.Provider,{value:m},k.createElement(mu.Provider,{children:e,value:M}))}function DA({children:r,location:e}){return yA(Km(r),e)}function Km(r,e=[]){let n=[];return k.Children.forEach(r,(s,o)=>{if(!k.isValidElement(s))return;let u=[...e,o];if(s.type===k.Fragment){n.push.apply(n,Km(s.props.children,u));return}ut(s.type===Ql,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Km(s.props.children,u)),n.push(h)}),n}var dh="get",mh="application/x-www-form-urlencoded";function ef(r){return r!=null&&typeof r.tagName=="string"}function OA(r){return ef(r)&&r.tagName.toLowerCase()==="button"}function MA(r){return ef(r)&&r.tagName.toLowerCase()==="form"}function VA(r){return ef(r)&&r.tagName.toLowerCase()==="input"}function PA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function LA(r,e){return r.button===0&&(!e||e==="_self")&&!PA(r)}var sh=null;function kA(){if(sh===null)try{new FormData(document.createElement("form"),0),sh=!1}catch{sh=!0}return sh}var UA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Mm(r){return r!=null&&!UA.has(r)?(si(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mh}"`),null):r}function zA(r,e){let n,s,o,u,h;if(MA(r)){let m=r.getAttribute("action");s=m?fr(m,e):null,n=r.getAttribute("method")||dh,o=Mm(r.getAttribute("enctype"))||mh,u=new FormData(r)}else if(OA(r)||VA(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?fr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||dh,o=Mm(r.getAttribute("formenctype"))||Mm(m.getAttribute("enctype"))||mh,u=new FormData(m,r),!kA()){let{name:g,type:E,value:T}=r;if(E==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,T)}}else{if(ef(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=dh,s=null,o=mh,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Np(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function jA(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&fr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function BA(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function HA(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await BA(u,n);return h.links?h.links():[]}return[]}));return KA(s.flat(1).filter(qA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function y0(r,e,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function FA(r,e,{includeHydrateFallback:n}={}){return GA(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function GA(r){return[...new Set(r)]}function QA(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function KA(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(QA(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function cT(){let r=k.useContext(Io);return Np(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function YA(){let r=k.useContext(Zh);return Np(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var xp=k.createContext(void 0);xp.displayName="FrameworkContext";function hT(){let r=k.useContext(xp);return Np(r,"You must render this element inside a <HydratedRouter> element"),r}function XA(r,e){let n=k.useContext(xp),[s,o]=k.useState(!1),[u,h]=k.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=e,w=k.useRef(null);k.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let Y=ie=>{ie.forEach($=>{h($.isIntersecting)})},q=new IntersectionObserver(Y,{threshold:.5});return w.current&&q.observe(w.current),()=>{q.disconnect()}}},[r]),k.useEffect(()=>{if(s){let Y=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(Y)}}},[s]);let M=()=>{o(!0)},F=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:Gl(m,M),onBlur:Gl(p,F),onMouseEnter:Gl(g,M),onMouseLeave:Gl(E,F),onTouchStart:Gl(T,M)}]:[!1,w,{}]}function Gl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function $A({page:r,...e}){let{router:n}=cT(),s=k.useMemo(()=>eT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?k.createElement(JA,{page:r,matches:s,...e}):null}function WA(r){let{manifest:e,routeModules:n}=hT(),[s,o]=k.useState([]);return k.useEffect(()=>{let u=!1;return HA(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),s}function JA({page:r,matches:e,...n}){let s=_s(),{manifest:o,routeModules:u}=hT(),{basename:h}=cT(),{loaderData:m,matches:p}=YA(),g=k.useMemo(()=>y0(r,e,p,o,s,"data"),[r,e,p,o,s]),E=k.useMemo(()=>y0(r,e,p,o,s,"assets"),[r,e,p,o,s]),T=k.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let F=new Set,Y=!1;if(e.forEach(ie=>{let $=o.routes[ie.route.id];!$||!$.hasLoader||(!g.some(ne=>ne.route.id===ie.route.id)&&ie.route.id in m&&u[ie.route.id]?.shouldRevalidate||$.hasClientLoader?Y=!0:F.add(ie.route.id))}),F.size===0)return[];let q=jA(r,h,"data");return Y&&F.size>0&&q.searchParams.set("_routes",e.filter(ie=>F.has(ie.route.id)).map(ie=>ie.route.id).join(",")),[q.pathname+q.search]},[h,m,s,o,g,e,r,u]),w=k.useMemo(()=>FA(E,o),[E,o]),M=WA(E);return k.createElement(k.Fragment,null,T.map(F=>k.createElement("link",{key:F,rel:"prefetch",as:"fetch",href:F,...n})),w.map(F=>k.createElement("link",{key:F,rel:"modulepreload",href:F,...n})),M.map(({key:F,link:Y})=>k.createElement("link",{key:F,nonce:n.nonce,...Y})))}function ZA(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var fT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fT&&(window.__reactRouterVersion="7.9.5")}catch{}function eR({basename:r,children:e,window:n}){let s=k.useRef();s.current==null&&(s.current=qw({window:n,v5Compat:!0}));let o=s.current,[u,h]=k.useState({action:o.action,location:o.location}),m=k.useCallback(p=>{k.startTransition(()=>h(p))},[h]);return k.useLayoutEffect(()=>o.listen(m),[o,m]),k.createElement(xA,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var dT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dp=k.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:E,viewTransition:T,...w},M){let{basename:F}=k.useContext(oi),Y=typeof g=="string"&&dT.test(g),q,ie=!1;if(typeof g=="string"&&Y&&(q=g,fT))try{let A=new URL(window.location.href),O=g.startsWith("//")?new URL(A.protocol+g):new URL(g),D=fr(O.pathname,F);O.origin===A.origin&&D!=null?g=D+O.search+O.hash:ie=!0}catch{si(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=pA(g,{relative:o}),[ne,pe,Te]=XA(s,w),we=rR(g,{replace:h,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T});function I(A){e&&e(A),A.defaultPrevented||we(A)}let R=k.createElement("a",{...w,...Te,href:q||$,onClick:ie||u?e:I,ref:ZA(M,pe),target:p,"data-discover":!Y&&n==="render"?"true":void 0});return ne&&!Y?k.createElement(k.Fragment,null,R,k.createElement($A,{page:$})):R});Dp.displayName="Link";var tR=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},E){let T=pu(h,{relative:g.relative}),w=_s(),M=k.useContext(Zh),{navigator:F,basename:Y}=k.useContext(oi),q=M!=null&&uR(T)&&m===!0,ie=F.encodeLocation?F.encodeLocation(T).pathname:T.pathname,$=w.pathname,ne=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;n||($=$.toLowerCase(),ne=ne?ne.toLowerCase():null,ie=ie.toLowerCase()),ne&&Y&&(ne=fr(ne,Y)||ne);const pe=ie!=="/"&&ie.endsWith("/")?ie.length-1:ie.length;let Te=$===ie||!o&&$.startsWith(ie)&&$.charAt(pe)==="/",we=ne!=null&&(ne===ie||!o&&ne.startsWith(ie)&&ne.charAt(ie.length)==="/"),I={isActive:Te,isPending:we,isTransitioning:q},R=Te?e:void 0,A;typeof s=="function"?A=s(I):A=[s,Te?"active":null,we?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(I):u;return k.createElement(Dp,{...g,"aria-current":R,className:A,ref:E,style:O,to:h,viewTransition:m},typeof p=="function"?p(I):p)});tR.displayName="NavLink";var nR=k.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=dh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:T,...w},M)=>{let F=oR(),Y=lR(m,{relative:g}),q=h.toLowerCase()==="get"?"get":"post",ie=typeof m=="string"&&dT.test(m),$=ne=>{if(p&&p(ne),ne.defaultPrevented)return;ne.preventDefault();let pe=ne.nativeEvent.submitter,Te=pe?.getAttribute("formmethod")||h;F(pe||ne.currentTarget,{fetcherKey:e,method:Te,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:T})};return k.createElement("form",{ref:M,method:q,action:Y,onSubmit:s?p:$,...w,"data-discover":!ie&&r==="render"?"true":void 0})});nR.displayName="Form";function iR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mT(r){let e=k.useContext(Io);return ut(e,iR(r)),e}function rR(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=oT(),p=_s(),g=pu(r,{relative:u});return k.useCallback(E=>{if(LA(E,e)){E.preventDefault();let T=n!==void 0?n:su(p)===su(g);m(r,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,n,s,e,r,o,u,h])}var sR=0,aR=()=>`__${String(++sR)}__`;function oR(){let{router:r}=mT("useSubmit"),{basename:e}=k.useContext(oi),n=RA();return k.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=zA(s,e);if(o.navigate===!1){let E=o.fetcherKey||aR();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function lR(r,{relative:e}={}){let{basename:n}=k.useContext(oi),s=k.useContext(ji);ut(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...pu(r||".",{relative:e})},h=_s();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ur([n,u.pathname])),su(u)}function uR(r,{relative:e}={}){let n=k.useContext(rT);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=mT("useViewTransitionState"),o=pu(r,{relative:e});if(!n.isTransitioning)return!1;let u=fr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=fr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Rh(o.pathname,h)!=null||Rh(o.pathname,u)!=null}const cR=()=>{};var _0={};const pT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},hR=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],h=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},gT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let w=(m&15)<<2|g>>6,M=g&63;p||(M=64,h||(w=64)),s.push(n[E],n[T],n[w],n[M])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(pT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):hR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new fR;const w=u<<2|m>>4;if(s.push(w),g!==64){const M=m<<4&240|g>>2;if(s.push(M),T!==64){const F=g<<6&192|T;s.push(F)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class fR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dR=function(r){const e=pT(r);return gT.encodeByteArray(e,!0)},Ch=function(r){return dR(r).replace(/\./g,"")},yT=function(r){try{return gT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function mR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const pR=()=>mR().__FIREBASE_DEFAULTS__,gR=()=>{if(typeof process>"u"||typeof _0>"u")return;const r=_0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},yR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&yT(r[1]);return e&&JSON.parse(e)},tf=()=>{try{return cR()||pR()||gR()||yR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},_T=r=>tf()?.emulatorHosts?.[r],_R=r=>{const e=_T(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},vT=()=>tf()?.config,ET=r=>tf()?.[`_${r}`];class vR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function xo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function TT(r){return(await fetch(r,{credentials:"include"})).ok}function ER(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Ch(JSON.stringify(n)),Ch(JSON.stringify(h)),""].join(".")}const Zl={};function TR(){const r={prod:[],emulator:[]};for(const e of Object.keys(Zl))Zl[e]?r.emulator.push(e):r.prod.push(e);return r}function bR(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let v0=!1;function bT(r,e){if(typeof window>"u"||typeof document>"u"||!xo(window.location.host)||Zl[r]===e||Zl[r]||v0)return;Zl[r]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=TR().prod.length>0;function h(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,M){w.setAttribute("width","24"),w.setAttribute("id",M),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{v0=!0,h()},w}function E(w,M){w.setAttribute("id",M),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=bR(s),M=n("text"),F=document.getElementById(M)||document.createElement("span"),Y=n("learnmore"),q=document.getElementById(Y)||document.createElement("a"),ie=n("preprendIcon"),$=document.getElementById(ie)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const ne=w.element;m(ne),E(q,Y);const pe=g();p($,ie),ne.append($,F,q,pe),document.body.appendChild(ne)}u?(F.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function wR(){const r=tf()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function RR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function CR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IR(){const r=tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function NR(){return!wR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xR(){try{return typeof indexedDB=="object"}catch{return!1}}function DR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const OR="FirebaseError";class vr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=OR,Object.setPrototypeOf(this,vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gu.prototype.create)}}class gu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?MR(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new vr(o,m,s)}}function MR(r,e){return r.replace(VR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const VR=/\{\$([^}]+)}/g;function PR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function dr(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(E0(u)&&E0(h)){if(!dr(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function E0(r){return r!==null&&typeof r=="object"}function yu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Kl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Yl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function LR(r,e){const n=new kR(r,e);return n.subscribe.bind(n)}class kR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");UR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Vm),o.error===void 0&&(o.error=Vm),o.complete===void 0&&(o.complete=Vm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Vm(){}function Pt(r){return r&&r._delegate?r._delegate:r}class aa{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ta="[DEFAULT]";class zR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new vR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BR(e))try{this.getOrInitializeService({instanceIdentifier:ta})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ta){return this.instances.has(e)}getOptions(e=ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:jR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ta){return this.component?this.component.multipleInstances?e:ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jR(r){return r===ta?void 0:r}function BR(r){return r.instantiationMode==="EAGER"}class qR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new zR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ve;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ve||(Ve={}));const HR={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},FR=Ve.INFO,GR={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},QR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=GR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Op{constructor(e){this.name=e,this._logLevel=FR,this._logHandler=QR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const KR=(r,e)=>e.some(n=>r instanceof n);let T0,b0;function YR(){return T0||(T0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XR(){return b0||(b0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ST=new WeakMap,Ym=new WeakMap,wT=new WeakMap,Pm=new WeakMap,Mp=new WeakMap;function $R(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(os(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&ST.set(n,r)}).catch(()=>{}),Mp.set(e,r),e}function WR(r){if(Ym.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});Ym.set(r,e)}let Xm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Ym.get(r);if(e==="objectStoreNames")return r.objectStoreNames||wT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return os(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function JR(r){Xm=r(Xm)}function ZR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Lm(this),e,...n);return wT.set(s,e.sort?e.sort():[e]),os(s)}:XR().includes(r)?function(...e){return r.apply(Lm(this),e),os(ST.get(this))}:function(...e){return os(r.apply(Lm(this),e))}}function e2(r){return typeof r=="function"?ZR(r):(r instanceof IDBTransaction&&WR(r),KR(r,YR())?new Proxy(r,Xm):r)}function os(r){if(r instanceof IDBRequest)return $R(r);if(Pm.has(r))return Pm.get(r);const e=e2(r);return e!==r&&(Pm.set(r,e),Mp.set(e,r)),e}const Lm=r=>Mp.get(r);function t2(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),m=os(h);return s&&h.addEventListener("upgradeneeded",p=>{s(os(h.result),p.oldVersion,p.newVersion,os(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const n2=["get","getKey","getAll","getAllKeys","count"],i2=["put","add","delete","clear"],km=new Map;function S0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(km.get(e))return km.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=i2.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||n2.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return km.set(e,u),u}JR(r=>({...r,get:(e,n,s)=>S0(e,n)||r.get(e,n,s),has:(e,n)=>!!S0(e,n)||r.has(e,n)}));class r2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(s2(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function s2(r){return r.getComponent()?.type==="VERSION"}const $m="@firebase/app",w0="0.14.5";const mr=new Op("@firebase/app"),a2="@firebase/app-compat",o2="@firebase/analytics-compat",l2="@firebase/analytics",u2="@firebase/app-check-compat",c2="@firebase/app-check",h2="@firebase/auth",f2="@firebase/auth-compat",d2="@firebase/database",m2="@firebase/data-connect",p2="@firebase/database-compat",g2="@firebase/functions",y2="@firebase/functions-compat",_2="@firebase/installations",v2="@firebase/installations-compat",E2="@firebase/messaging",T2="@firebase/messaging-compat",b2="@firebase/performance",S2="@firebase/performance-compat",w2="@firebase/remote-config",A2="@firebase/remote-config-compat",R2="@firebase/storage",C2="@firebase/storage-compat",I2="@firebase/firestore",N2="@firebase/ai",x2="@firebase/firestore-compat",D2="firebase",O2="12.5.0";const Wm="[DEFAULT]",M2={[$m]:"fire-core",[a2]:"fire-core-compat",[l2]:"fire-analytics",[o2]:"fire-analytics-compat",[c2]:"fire-app-check",[u2]:"fire-app-check-compat",[h2]:"fire-auth",[f2]:"fire-auth-compat",[d2]:"fire-rtdb",[m2]:"fire-data-connect",[p2]:"fire-rtdb-compat",[g2]:"fire-fn",[y2]:"fire-fn-compat",[_2]:"fire-iid",[v2]:"fire-iid-compat",[E2]:"fire-fcm",[T2]:"fire-fcm-compat",[b2]:"fire-perf",[S2]:"fire-perf-compat",[w2]:"fire-rc",[A2]:"fire-rc-compat",[R2]:"fire-gcs",[C2]:"fire-gcs-compat",[I2]:"fire-fst",[x2]:"fire-fst-compat",[N2]:"fire-vertex","fire-js":"fire-js",[D2]:"fire-js-all"};const Ih=new Map,V2=new Map,Jm=new Map;function A0(r,e){try{r.container.addComponent(e)}catch(n){mr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function yo(r){const e=r.name;if(Jm.has(e))return mr.debug(`There were multiple attempts to register component ${e}.`),!1;Jm.set(e,r);for(const n of Ih.values())A0(n,r);for(const n of V2.values())A0(n,r);return!0}function Vp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function An(r){return r==null?!1:r.settings!==void 0}const P2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ls=new gu("app","Firebase",P2);class L2{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ls.create("app-deleted",{appName:this._name})}}const Do=O2;function AT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Wm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ls.create("bad-app-name",{appName:String(o)});if(n||(n=vT()),!n)throw ls.create("no-options");const u=Ih.get(o);if(u){if(dr(n,u.options)&&dr(s,u.config))return u;throw ls.create("duplicate-app",{appName:o})}const h=new qR(o);for(const p of Jm.values())h.addComponent(p);const m=new L2(n,s,h);return Ih.set(o,m),m}function RT(r=Wm){const e=Ih.get(r);if(!e&&r===Wm&&vT())return AT();if(!e)throw ls.create("no-app",{appName:r});return e}function us(r,e,n){let s=M2[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mr.warn(h.join(" "));return}yo(new aa(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const k2="firebase-heartbeat-database",U2=1,au="firebase-heartbeat-store";let Um=null;function CT(){return Um||(Um=t2(k2,U2,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(au)}catch(n){console.warn(n)}}}}).catch(r=>{throw ls.create("idb-open",{originalErrorMessage:r.message})})),Um}async function z2(r){try{const n=(await CT()).transaction(au),s=await n.objectStore(au).get(IT(r));return await n.done,s}catch(e){if(e instanceof vr)mr.warn(e.message);else{const n=ls.create("idb-get",{originalErrorMessage:e?.message});mr.warn(n.message)}}}async function R0(r,e){try{const s=(await CT()).transaction(au,"readwrite");await s.objectStore(au).put(e,IT(r)),await s.done}catch(n){if(n instanceof vr)mr.warn(n.message);else{const s=ls.create("idb-set",{originalErrorMessage:n?.message});mr.warn(s.message)}}}function IT(r){return`${r.name}!${r.options.appId}`}const j2=1024,B2=30;class q2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new F2(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=C0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>B2){const o=G2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){mr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=C0(),{heartbeatsToSend:n,unsentEntries:s}=H2(this._heartbeatsCache.heartbeats),o=Ch(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return mr.warn(e),""}}}function C0(){return new Date().toISOString().substring(0,10)}function H2(r,e=j2){const n=[];let s=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),I0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),I0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class F2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xR()?DR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await z2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return R0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return R0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function I0(r){return Ch(JSON.stringify({version:2,heartbeats:r})).length}function G2(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function Q2(r){yo(new aa("platform-logger",e=>new r2(e),"PRIVATE")),yo(new aa("heartbeat",e=>new q2(e),"PRIVATE")),us($m,w0,r),us($m,w0,"esm2020"),us("fire-js","")}Q2("");function NT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const K2=NT,xT=new gu("auth","Firebase",NT());const Nh=new Op("@firebase/auth");function Y2(r,...e){Nh.logLevel<=Ve.WARN&&Nh.warn(`Auth (${Do}): ${r}`,...e)}function ph(r,...e){Nh.logLevel<=Ve.ERROR&&Nh.error(`Auth (${Do}): ${r}`,...e)}function qn(r,...e){throw Lp(r,...e)}function ri(r,...e){return Lp(r,...e)}function Pp(r,e,n){const s={...K2(),[e]:n};return new gu("auth","Firebase",s).create(e,{appName:r.name})}function cr(r){return Pp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function X2(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&qn(r,"argument-error"),Pp(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Lp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return xT.create(r,...e)}function ye(r,e,...n){if(!r)throw Lp(e,...n)}function or(r){const e="INTERNAL ASSERTION FAILED: "+r;throw ph(e),new Error(e)}function pr(r,e){r||or(e)}function Zm(){return typeof self<"u"&&self.location?.href||""}function $2(){return N0()==="http:"||N0()==="https:"}function N0(){return typeof self<"u"&&self.location?.protocol||null}function W2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($2()||RR()||"connection"in navigator)?navigator.onLine:!0}function J2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class _u{constructor(e,n){this.shortDelay=e,this.longDelay=n,pr(n>e,"Short delay should be less than long delay!"),this.isMobile=SR()||CR()}get(){return W2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function kp(r,e){pr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class DT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Z2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const eC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tC=new _u(3e4,6e4);function vs(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Er(r,e,n,s,o={}){return OT(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=yu({key:r.config.apiKey,...h}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return AR()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&xo(r.emulatorConfig.host)&&(g.credentials="include"),DT.fetch()(await MT(r,r.config.apiHost,n,m),g)})}async function OT(r,e,n){r._canInitEmulator=!1;const s={...Z2,...e};try{const o=new iC(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw ah(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ah(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw ah(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw ah(r,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Pp(r,E,g);qn(r,E)}}catch(o){if(o instanceof vr)throw o;qn(r,"network-request-failed",{message:String(o)})}}async function vu(r,e,n,s,o={}){const u=await Er(r,e,n,s,o);return"mfaPendingCredential"in u&&qn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function MT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,h=u.config.emulator?kp(r.config,o):`${r.config.apiScheme}://${o}`;return eC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function nC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class iC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ri(this.auth,"network-request-failed")),tC.get())})}}function ah(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ri(r,e,s);return o.customData._tokenResponse=n,o}function x0(r){return r!==void 0&&r.enterprise!==void 0}class rC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return nC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function sC(r,e){return Er(r,"GET","/v2/recaptchaConfig",vs(r,e))}async function aC(r,e){return Er(r,"POST","/v1/accounts:delete",e)}async function xh(r,e){return Er(r,"POST","/v1/accounts:lookup",e)}function eu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function oC(r,e=!1){const n=Pt(r),s=await n.getIdToken(e),o=Up(s);ye(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:eu(zm(o.auth_time)),issuedAtTime:eu(zm(o.iat)),expirationTime:eu(zm(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function zm(r){return Number(r)*1e3}function Up(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return ph("JWT malformed, contained fewer than 3 sections"),null;try{const o=yT(n);return o?JSON.parse(o):(ph("Failed to decode base64 JWT payload"),null)}catch(o){return ph("Caught error parsing JWT payload as JSON",o?.toString()),null}}function D0(r){const e=Up(r);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function _o(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof vr&&lC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function lC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class uC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ep{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=eu(this.lastLoginAt),this.creationTime=eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Dh(r){const e=r.auth,n=await r.getIdToken(),s=await _o(r,xh(e,{idToken:n}));ye(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?VT(o.providerUserInfo):[],h=hC(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!h?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new ep(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,E)}async function cC(r){const e=Pt(r);await Dh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hC(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function VT(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function fC(r,e){const n=await OT(r,{},async()=>{const s=yu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await MT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&xo(r.emulatorConfig.host)&&(p.credentials="include"),DT.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function dC(r,e){return Er(r,"POST","/v2/accounts:revokeToken",vs(r,e))}class ho{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):D0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ye(e.length!==0,"internal-error");const n=D0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await fC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new ho;return s&&(ye(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(ye(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(ye(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ho,this.toJSON())}_performRefresh(){return or("not implemented")}}function ts(r,e){ye(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ti{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new uC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ep(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await _o(this,this.stsTokenManager.getToken(this.auth,e));return ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return oC(this,e)}reload(){return cC(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ti({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Dh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(An(this.auth.app))return Promise.reject(cr(this.auth));const e=await this.getIdToken();return await _o(this,aC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:w,isAnonymous:M,providerData:F,stsTokenManager:Y}=n;ye(T&&Y,e,"internal-error");const q=ho.fromJSON(this.name,Y);ye(typeof T=="string",e,"internal-error"),ts(s,e.name),ts(o,e.name),ye(typeof w=="boolean",e,"internal-error"),ye(typeof M=="boolean",e,"internal-error"),ts(u,e.name),ts(h,e.name),ts(m,e.name),ts(p,e.name),ts(g,e.name),ts(E,e.name);const ie=new ti({uid:T,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:M,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:q,createdAt:g,lastLoginAt:E});return F&&Array.isArray(F)&&(ie.providerData=F.map($=>({...$}))),p&&(ie._redirectEventId=p),ie}static async _fromIdTokenResponse(e,n,s=!1){const o=new ho;o.updateFromServerResponse(n);const u=new ti({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Dh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ye(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?VT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new ho;m.updateFromIdToken(s);const p=new ti({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new ep(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const O0=new Map;function lr(r){pr(r instanceof Function,"Expected a class definition");let e=O0.get(r);return e?(pr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,O0.set(r,e),e)}class PT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}PT.type="NONE";const M0=PT;function gh(r,e,n){return`firebase:${r}:${e}:${n}`}class fo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=gh(this.userKey,o.apiKey,u),this.fullPersistenceKey=gh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await xh(this.auth,{idToken:e}).catch(()=>{});return n?ti._fromGetAccountInfoResponse(this.auth,n,e):null}return ti._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new fo(lr(M0),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||lr(M0);const h=gh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(h);if(E){let T;if(typeof E=="string"){const w=await xh(e,{idToken:E}).catch(()=>{});if(!w)break;T=await ti._fromGetAccountInfoResponse(e,w,E)}else T=ti._fromJSON(e,E);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new fo(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new fo(u,e,s))}}function V0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(LT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BT(e))return"Blackberry";if(qT(e))return"Webos";if(kT(e))return"Safari";if((e.includes("chrome/")||UT(e))&&!e.includes("edge/"))return"Chrome";if(jT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function LT(r=tn()){return/firefox\//i.test(r)}function kT(r=tn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function UT(r=tn()){return/crios\//i.test(r)}function zT(r=tn()){return/iemobile/i.test(r)}function jT(r=tn()){return/android/i.test(r)}function BT(r=tn()){return/blackberry/i.test(r)}function qT(r=tn()){return/webos/i.test(r)}function zp(r=tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function mC(r=tn()){return zp(r)&&!!window.navigator?.standalone}function pC(){return IR()&&document.documentMode===10}function HT(r=tn()){return zp(r)||jT(r)||qT(r)||BT(r)||/windows phone/i.test(r)||zT(r)}function FT(r,e=[]){let n;switch(r){case"Browser":n=V0(tn());break;case"Worker":n=`${V0(tn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Do}/${s}`}class gC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function yC(r,e={}){return Er(r,"GET","/v2/passwordPolicy",vs(r,e))}const _C=6;class vC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??_C,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class EC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new P0(this),this.idTokenSubscription=new P0(this),this.beforeStateQueue=new gC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=lr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await fo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await xh(this,{idToken:e}),s=await ti._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(An(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Dh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=J2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(An(this.app))return Promise.reject(cr(this));const n=e?Pt(e):null;return n&&ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return An(this.app)?Promise.reject(cr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return An(this.app)?Promise.reject(cr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(lr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await yC(this),n=new vC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new gu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await dC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&lr(e)||this._popupRedirectResolver;ye(n,this,"argument-error"),this.redirectPersistenceManager=await fo.create(this,[lr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=FT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Y2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Es(r){return Pt(r)}class P0{constructor(e){this.auth=e,this.observer=null,this.addObserver=LR(n=>this.observer=n)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let nf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TC(r){nf=r}function GT(r){return nf.loadJS(r)}function bC(){return nf.recaptchaEnterpriseScript}function SC(){return nf.gapiScript}function wC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class AC{constructor(){this.enterprise=new RC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class RC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const CC="recaptcha-enterprise",QT="NO_RECAPTCHA";class IC{constructor(e){this.type=CC,this.auth=Es(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{sC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new rC(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;x0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(QT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new AC().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&x0(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=bC();p.length!==0&&(p+=m),GT(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function L0(r,e,n,s=!1,o=!1){const u=new IC(r);let h;if(o)h=QT;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function tp(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await L0(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await L0(r,e,n,n==="getOobCode");return s(r,h)}else return Promise.reject(u)})}function NC(r,e){const n=Vp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(dr(u,e??{}))return o;qn(o,"already-initialized")}return n.initialize({options:e})}function xC(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(lr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function DC(r,e,n){const s=Es(r);ye(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=KT(e),{host:h,port:m}=OC(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ye(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ye(dr(g,s.config.emulator)&&dr(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,xo(h)?(TT(`${u}//${h}${p}`),bT("Auth",!0)):MC()}function KT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function OC(r){const e=KT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:k0(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:k0(h)}}}function k0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function MC(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class jp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return or("not implemented")}_getIdTokenResponse(e){return or("not implemented")}_linkToIdToken(e,n){return or("not implemented")}_getReauthenticationResolver(e){return or("not implemented")}}async function VC(r,e){return Er(r,"POST","/v1/accounts:signUp",e)}async function PC(r,e){return vu(r,"POST","/v1/accounts:signInWithPassword",vs(r,e))}async function LC(r,e){return vu(r,"POST","/v1/accounts:signInWithEmailLink",vs(r,e))}async function kC(r,e){return vu(r,"POST","/v1/accounts:signInWithEmailLink",vs(r,e))}class ou extends jp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new ou(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new ou(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tp(e,n,"signInWithPassword",PC);case"emailLink":return LC(e,{email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tp(e,s,"signUpPassword",VC);case"emailLink":return kC(e,{idToken:n,email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function mo(r,e){return vu(r,"POST","/v1/accounts:signInWithIdp",vs(r,e))}const UC="http://localhost";class oa extends jp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new oa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new oa(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return mo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,mo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,mo(e,n)}buildRequest(){const e={requestUri:UC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=yu(n)}return e}}function zC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function jC(r){const e=Kl(Yl(r)).link,n=e?Kl(Yl(e)).deep_link_id:null,s=Kl(Yl(r)).deep_link_id;return(s?Kl(Yl(s)).link:null)||s||n||e||r}class Bp{constructor(e){const n=Kl(Yl(e)),s=n.apiKey??null,o=n.oobCode??null,u=zC(n.mode??null);ye(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=jC(e);try{return new Bp(n)}catch{return null}}}class Oo{constructor(){this.providerId=Oo.PROVIDER_ID}static credential(e,n){return ou._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Bp.parseLink(n);return ye(s,"argument-error"),ou._fromEmailAndCode(e,s.code,s.tenantId)}}Oo.PROVIDER_ID="password";Oo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Oo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class qp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Eu extends qp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ns extends Eu{constructor(){super("facebook.com")}static credential(e){return oa._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ns.credential(e.oauthAccessToken)}catch{return null}}}ns.FACEBOOK_SIGN_IN_METHOD="facebook.com";ns.PROVIDER_ID="facebook.com";class Di extends Eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return oa._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Di.credentialFromTaggedObject(e)}static credentialFromError(e){return Di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Di.credential(n,s)}catch{return null}}}Di.GOOGLE_SIGN_IN_METHOD="google.com";Di.PROVIDER_ID="google.com";class is extends Eu{constructor(){super("github.com")}static credential(e){return oa._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch{return null}}}is.GITHUB_SIGN_IN_METHOD="github.com";is.PROVIDER_ID="github.com";class rs extends Eu{constructor(){super("twitter.com")}static credential(e,n){return oa._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return rs.credential(n,s)}catch{return null}}}rs.TWITTER_SIGN_IN_METHOD="twitter.com";rs.PROVIDER_ID="twitter.com";async function BC(r,e){return vu(r,"POST","/v1/accounts:signUp",vs(r,e))}class la{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ti._fromIdTokenResponse(e,s,o),h=U0(s);return new la({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=U0(s);return new la({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function U0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Oh extends vr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Oh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Oh(e,n,s,o)}}function YT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Oh._fromErrorAndOperation(r,u,e,s):u})}async function qC(r,e,n=!1){const s=await _o(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return la._forOperation(r,"link",s)}async function HC(r,e,n=!1){const{auth:s}=r;if(An(s.app))return Promise.reject(cr(s));const o="reauthenticate";try{const u=await _o(r,YT(s,o,e,r),n);ye(u.idToken,s,"internal-error");const h=Up(u.idToken);ye(h,s,"internal-error");const{sub:m}=h;return ye(r.uid===m,s,"user-mismatch"),la._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&qn(s,"user-mismatch"),u}}async function XT(r,e,n=!1){if(An(r.app))return Promise.reject(cr(r));const s="signIn",o=await YT(r,s,e),u=await la._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function FC(r,e){return XT(Es(r),e)}async function $T(r){const e=Es(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function GC(r,e,n){if(An(r.app))return Promise.reject(cr(r));const s=Es(r),h=await tp(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",BC).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&$T(r),p}),m=await la._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function QC(r,e,n){return An(r.app)?Promise.reject(cr(r)):FC(Pt(r),Oo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&$T(r),s})}async function KC(r,e){return Er(r,"POST","/v1/accounts:update",e)}async function YC(r,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=Pt(r),u={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},h=await _o(s,KC(s.auth,u));s.displayName=h.displayName||null,s.photoURL=h.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(h)}function XC(r,e,n,s){return Pt(r).onIdTokenChanged(e,n,s)}function $C(r,e,n){return Pt(r).beforeAuthStateChanged(e,n)}function WC(r,e,n,s){return Pt(r).onAuthStateChanged(e,n,s)}const Mh="__sak";class WT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Mh,"1"),this.storage.removeItem(Mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const JC=1e3,ZC=10;class JT extends WT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=HT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);pC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,ZC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},JC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}JT.type="LOCAL";const eI=JT;class ZT extends WT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ZT.type="SESSION";const e1=ZT;function tI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class rf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new rf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await tI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rf.receivers=[];function Hp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class nI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=Hp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const w=T;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Mi(){return window}function iI(r){Mi().location.href=r}function t1(){return typeof Mi().WorkerGlobalScope<"u"&&typeof Mi().importScripts=="function"}async function rI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sI(){return navigator?.serviceWorker?.controller||null}function aI(){return t1()?self:null}const n1="firebaseLocalStorageDb",oI=1,Vh="firebaseLocalStorage",i1="fbase_key";class Tu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sf(r,e){return r.transaction([Vh],e?"readwrite":"readonly").objectStore(Vh)}function lI(){const r=indexedDB.deleteDatabase(n1);return new Tu(r).toPromise()}function np(){const r=indexedDB.open(n1,oI);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Vh,{keyPath:i1})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Vh)?e(s):(s.close(),await lI(),e(await np()))})})}async function z0(r,e,n){const s=sf(r,!0).put({[i1]:e,value:n});return new Tu(s).toPromise()}async function uI(r,e){const n=sf(r,!1).get(e),s=await new Tu(n).toPromise();return s===void 0?null:s.value}function j0(r,e){const n=sf(r,!0).delete(e);return new Tu(n).toPromise()}const cI=800,hI=3;class r1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await np(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>hI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return t1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rf._getInstance(aI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await rI(),!this.activeServiceWorker)return;this.sender=new nI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await np();return await z0(e,Mh,"1"),await j0(e,Mh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>z0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>uI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>j0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=sf(o,!1).getAll();return new Tu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}r1.type="LOCAL";const fI=r1;new _u(3e4,6e4);function s1(r,e){return e?lr(e):(ye(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Fp extends jp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return mo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return mo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return mo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function dI(r){return XT(r.auth,new Fp(r),r.bypassAuthState)}function mI(r){const{auth:e,user:n}=r;return ye(n,e,"internal-error"),HC(n,new Fp(r),r.bypassAuthState)}async function pI(r){const{auth:e,user:n}=r;return ye(n,e,"internal-error"),qC(n,new Fp(r),r.bypassAuthState)}class a1{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dI;case"linkViaPopup":case"linkViaRedirect":return pI;case"reauthViaPopup":case"reauthViaRedirect":return mI;default:qn(this.auth,"internal-error")}}resolve(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const gI=new _u(2e3,1e4);async function o1(r,e,n){if(An(r.app))return Promise.reject(ri(r,"operation-not-supported-in-this-environment"));const s=Es(r);X2(r,e,qp);const o=s1(s,n);return new na(s,"signInViaPopup",e,o).executeNotNull()}class na extends a1{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,na.currentPopupAction&&na.currentPopupAction.cancel(),na.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){pr(this.filter.length===1,"Popup operations only handle one event");const e=Hp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,na.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,gI.get())};e()}}na.currentPopupAction=null;const yI="pendingRedirect",yh=new Map;class _I extends a1{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=yh.get(this.auth._key());if(!e){try{const s=await vI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}yh.set(this.auth._key(),e)}return this.bypassAuthState||yh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vI(r,e){const n=bI(e),s=TI(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function EI(r,e){yh.set(r._key(),e)}function TI(r){return lr(r._redirectPersistence)}function bI(r){return gh(yI,r.config.apiKey,r.name)}async function SI(r,e,n=!1){if(An(r.app))return Promise.reject(cr(r));const s=Es(r),o=s1(s,e),h=await new _I(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}const wI=600*1e3;class AI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!RI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!l1(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ri(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=wI&&this.cachedEventUids.clear(),this.cachedEventUids.has(B0(e))}saveEventToCache(e){this.cachedEventUids.add(B0(e)),this.lastProcessedEventTime=Date.now()}}function B0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function l1({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function RI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return l1(r);default:return!1}}async function CI(r,e={}){return Er(r,"GET","/v1/projects",e)}const II=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NI=/^https?/;async function xI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await CI(r);for(const n of e)try{if(DI(n))return}catch{}qn(r,"unauthorized-domain")}function DI(r){const e=Zm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!NI.test(n))return!1;if(II.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const OI=new _u(3e4,6e4);function q0(){const r=Mi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function MI(r){return new Promise((e,n)=>{function s(){q0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{q0(),n(ri(r,"network-request-failed"))},timeout:OI.get()})}if(Mi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Mi().gapi?.load)s();else{const o=wC("iframefcb");return Mi()[o]=()=>{gapi.load?s():n(ri(r,"network-request-failed"))},GT(`${SC()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw _h=null,e})}let _h=null;function VI(r){return _h=_h||MI(r),_h}const PI=new _u(5e3,15e3),LI="__/auth/iframe",kI="emulator/auth/iframe",UI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jI(r){const e=r.config;ye(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?kp(e,kI):`https://${r.config.authDomain}/${LI}`,s={apiKey:e.apiKey,appName:r.name,v:Do},o=zI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${yu(s).slice(1)}`}async function BI(r){const e=await VI(r),n=Mi().gapi;return ye(n,r,"internal-error"),e.open({where:document.body,url:jI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=ri(r,"network-request-failed"),m=Mi().setTimeout(()=>{u(h)},PI.get());function p(){Mi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}const qI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},HI=500,FI=600,GI="_blank",QI="http://localhost";class H0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KI(r,e,n,s=HI,o=FI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...qI,width:s.toString(),height:o.toString(),top:u,left:h},g=tn().toLowerCase();n&&(m=UT(g)?GI:n),LT(g)&&(e=e||QI,p.scrollbars="yes");const E=Object.entries(p).reduce((w,[M,F])=>`${w}${M}=${F},`,"");if(mC(g)&&m!=="_self")return YI(e||"",m),new H0(null);const T=window.open(e||"",m,E);ye(T,r,"popup-blocked");try{T.focus()}catch{}return new H0(T)}function YI(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const XI="__/auth/handler",$I="emulator/auth/handler",WI=encodeURIComponent("fac");async function F0(r,e,n,s,o,u){ye(r.config.authDomain,r,"auth-domain-config-required"),ye(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Do,eventId:o};if(e instanceof qp){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",PR(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))h[E]=T}if(e instanceof Eu){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(h.scopes=E.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${WI}=${encodeURIComponent(p)}`:"";return`${JI(r)}?${yu(m).slice(1)}${g}`}function JI({config:r}){return r.emulator?kp(r,$I):`https://${r.authDomain}/${XI}`}const jm="webStorageSupport";class ZI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=e1,this._completeRedirectFn=SI,this._overrideRedirectResult=EI}async _openPopup(e,n,s,o){pr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await F0(e,n,s,Zm(),o);return KI(e,u,Hp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await F0(e,n,s,Zm(),o);return iI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(pr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await BI(e),s=new AI(e);return n.register("authEvent",o=>(ye(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(jm,{type:jm},o=>{const u=o?.[0]?.[jm];u!==void 0&&n(!!u),qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=xI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return HT()||kT()||zp()}}const eN=ZI;var G0="@firebase/auth",Q0="1.11.1";class tN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function nN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iN(r){yo(new aa("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;ye(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FT(r)},g=new EC(s,o,u,p);return xC(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),yo(new aa("auth-internal",e=>{const n=Es(e.getProvider("auth").getImmediate());return(s=>new tN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),us(G0,Q0,nN(r)),us(G0,Q0,"esm2020")}const rN=300,sN=ET("authIdTokenMaxAge")||rN;let K0=null;const aN=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>sN)return;const o=n?.token;K0!==o&&(K0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function oN(r=RT()){const e=Vp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=NC(r,{popupRedirectResolver:eN,persistence:[fI,eI,e1]}),s=ET("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=aN(u.toString());$C(n,h,()=>h(n.currentUser)),XC(n,m=>h(m))}}const o=_T("auth");return o&&DC(n,`http://${o}`),n}function lN(){return document.getElementsByTagName("head")?.[0]??document}TC({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=ri("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",lN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iN("Browser");var uN="firebase",cN="12.5.0";us(uN,cN,"app");var Y0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var cs,u1;(function(){var r;function e(I,R){function A(){}A.prototype=R.prototype,I.F=R.prototype,I.prototype=new A,I.prototype.constructor=I,I.D=function(O,D,L){for(var C=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)C[ke-2]=arguments[ke];return R.prototype[D].apply(O,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,R,A){A||(A=0);const O=Array(16);if(typeof R=="string")for(var D=0;D<16;++D)O[D]=R.charCodeAt(A++)|R.charCodeAt(A++)<<8|R.charCodeAt(A++)<<16|R.charCodeAt(A++)<<24;else for(D=0;D<16;++D)O[D]=R[A++]|R[A++]<<8|R[A++]<<16|R[A++]<<24;R=I.g[0],A=I.g[1],D=I.g[2];let L=I.g[3],C;C=R+(L^A&(D^L))+O[0]+3614090360&4294967295,R=A+(C<<7&4294967295|C>>>25),C=L+(D^R&(A^D))+O[1]+3905402710&4294967295,L=R+(C<<12&4294967295|C>>>20),C=D+(A^L&(R^A))+O[2]+606105819&4294967295,D=L+(C<<17&4294967295|C>>>15),C=A+(R^D&(L^R))+O[3]+3250441966&4294967295,A=D+(C<<22&4294967295|C>>>10),C=R+(L^A&(D^L))+O[4]+4118548399&4294967295,R=A+(C<<7&4294967295|C>>>25),C=L+(D^R&(A^D))+O[5]+1200080426&4294967295,L=R+(C<<12&4294967295|C>>>20),C=D+(A^L&(R^A))+O[6]+2821735955&4294967295,D=L+(C<<17&4294967295|C>>>15),C=A+(R^D&(L^R))+O[7]+4249261313&4294967295,A=D+(C<<22&4294967295|C>>>10),C=R+(L^A&(D^L))+O[8]+1770035416&4294967295,R=A+(C<<7&4294967295|C>>>25),C=L+(D^R&(A^D))+O[9]+2336552879&4294967295,L=R+(C<<12&4294967295|C>>>20),C=D+(A^L&(R^A))+O[10]+4294925233&4294967295,D=L+(C<<17&4294967295|C>>>15),C=A+(R^D&(L^R))+O[11]+2304563134&4294967295,A=D+(C<<22&4294967295|C>>>10),C=R+(L^A&(D^L))+O[12]+1804603682&4294967295,R=A+(C<<7&4294967295|C>>>25),C=L+(D^R&(A^D))+O[13]+4254626195&4294967295,L=R+(C<<12&4294967295|C>>>20),C=D+(A^L&(R^A))+O[14]+2792965006&4294967295,D=L+(C<<17&4294967295|C>>>15),C=A+(R^D&(L^R))+O[15]+1236535329&4294967295,A=D+(C<<22&4294967295|C>>>10),C=R+(D^L&(A^D))+O[1]+4129170786&4294967295,R=A+(C<<5&4294967295|C>>>27),C=L+(A^D&(R^A))+O[6]+3225465664&4294967295,L=R+(C<<9&4294967295|C>>>23),C=D+(R^A&(L^R))+O[11]+643717713&4294967295,D=L+(C<<14&4294967295|C>>>18),C=A+(L^R&(D^L))+O[0]+3921069994&4294967295,A=D+(C<<20&4294967295|C>>>12),C=R+(D^L&(A^D))+O[5]+3593408605&4294967295,R=A+(C<<5&4294967295|C>>>27),C=L+(A^D&(R^A))+O[10]+38016083&4294967295,L=R+(C<<9&4294967295|C>>>23),C=D+(R^A&(L^R))+O[15]+3634488961&4294967295,D=L+(C<<14&4294967295|C>>>18),C=A+(L^R&(D^L))+O[4]+3889429448&4294967295,A=D+(C<<20&4294967295|C>>>12),C=R+(D^L&(A^D))+O[9]+568446438&4294967295,R=A+(C<<5&4294967295|C>>>27),C=L+(A^D&(R^A))+O[14]+3275163606&4294967295,L=R+(C<<9&4294967295|C>>>23),C=D+(R^A&(L^R))+O[3]+4107603335&4294967295,D=L+(C<<14&4294967295|C>>>18),C=A+(L^R&(D^L))+O[8]+1163531501&4294967295,A=D+(C<<20&4294967295|C>>>12),C=R+(D^L&(A^D))+O[13]+2850285829&4294967295,R=A+(C<<5&4294967295|C>>>27),C=L+(A^D&(R^A))+O[2]+4243563512&4294967295,L=R+(C<<9&4294967295|C>>>23),C=D+(R^A&(L^R))+O[7]+1735328473&4294967295,D=L+(C<<14&4294967295|C>>>18),C=A+(L^R&(D^L))+O[12]+2368359562&4294967295,A=D+(C<<20&4294967295|C>>>12),C=R+(A^D^L)+O[5]+4294588738&4294967295,R=A+(C<<4&4294967295|C>>>28),C=L+(R^A^D)+O[8]+2272392833&4294967295,L=R+(C<<11&4294967295|C>>>21),C=D+(L^R^A)+O[11]+1839030562&4294967295,D=L+(C<<16&4294967295|C>>>16),C=A+(D^L^R)+O[14]+4259657740&4294967295,A=D+(C<<23&4294967295|C>>>9),C=R+(A^D^L)+O[1]+2763975236&4294967295,R=A+(C<<4&4294967295|C>>>28),C=L+(R^A^D)+O[4]+1272893353&4294967295,L=R+(C<<11&4294967295|C>>>21),C=D+(L^R^A)+O[7]+4139469664&4294967295,D=L+(C<<16&4294967295|C>>>16),C=A+(D^L^R)+O[10]+3200236656&4294967295,A=D+(C<<23&4294967295|C>>>9),C=R+(A^D^L)+O[13]+681279174&4294967295,R=A+(C<<4&4294967295|C>>>28),C=L+(R^A^D)+O[0]+3936430074&4294967295,L=R+(C<<11&4294967295|C>>>21),C=D+(L^R^A)+O[3]+3572445317&4294967295,D=L+(C<<16&4294967295|C>>>16),C=A+(D^L^R)+O[6]+76029189&4294967295,A=D+(C<<23&4294967295|C>>>9),C=R+(A^D^L)+O[9]+3654602809&4294967295,R=A+(C<<4&4294967295|C>>>28),C=L+(R^A^D)+O[12]+3873151461&4294967295,L=R+(C<<11&4294967295|C>>>21),C=D+(L^R^A)+O[15]+530742520&4294967295,D=L+(C<<16&4294967295|C>>>16),C=A+(D^L^R)+O[2]+3299628645&4294967295,A=D+(C<<23&4294967295|C>>>9),C=R+(D^(A|~L))+O[0]+4096336452&4294967295,R=A+(C<<6&4294967295|C>>>26),C=L+(A^(R|~D))+O[7]+1126891415&4294967295,L=R+(C<<10&4294967295|C>>>22),C=D+(R^(L|~A))+O[14]+2878612391&4294967295,D=L+(C<<15&4294967295|C>>>17),C=A+(L^(D|~R))+O[5]+4237533241&4294967295,A=D+(C<<21&4294967295|C>>>11),C=R+(D^(A|~L))+O[12]+1700485571&4294967295,R=A+(C<<6&4294967295|C>>>26),C=L+(A^(R|~D))+O[3]+2399980690&4294967295,L=R+(C<<10&4294967295|C>>>22),C=D+(R^(L|~A))+O[10]+4293915773&4294967295,D=L+(C<<15&4294967295|C>>>17),C=A+(L^(D|~R))+O[1]+2240044497&4294967295,A=D+(C<<21&4294967295|C>>>11),C=R+(D^(A|~L))+O[8]+1873313359&4294967295,R=A+(C<<6&4294967295|C>>>26),C=L+(A^(R|~D))+O[15]+4264355552&4294967295,L=R+(C<<10&4294967295|C>>>22),C=D+(R^(L|~A))+O[6]+2734768916&4294967295,D=L+(C<<15&4294967295|C>>>17),C=A+(L^(D|~R))+O[13]+1309151649&4294967295,A=D+(C<<21&4294967295|C>>>11),C=R+(D^(A|~L))+O[4]+4149444226&4294967295,R=A+(C<<6&4294967295|C>>>26),C=L+(A^(R|~D))+O[11]+3174756917&4294967295,L=R+(C<<10&4294967295|C>>>22),C=D+(R^(L|~A))+O[2]+718787259&4294967295,D=L+(C<<15&4294967295|C>>>17),C=A+(L^(D|~R))+O[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+L&4294967295}s.prototype.v=function(I,R){R===void 0&&(R=I.length);const A=R-this.blockSize,O=this.C;let D=this.h,L=0;for(;L<R;){if(D==0)for(;L<=A;)o(this,I,L),L+=this.blockSize;if(typeof I=="string"){for(;L<R;)if(O[D++]=I.charCodeAt(L++),D==this.blockSize){o(this,O),D=0;break}}else for(;L<R;)if(O[D++]=I[L++],D==this.blockSize){o(this,O),D=0;break}}this.h=D,this.o+=R},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;R=this.o*8;for(var A=I.length-8;A<I.length;++A)I[A]=R&255,R/=256;for(this.v(I),I=Array(16),R=0,A=0;A<4;++A)for(let O=0;O<32;O+=8)I[R++]=this.g[A]>>>O&255;return I};function u(I,R){var A=m;return Object.prototype.hasOwnProperty.call(A,I)?A[I]:A[I]=R(I)}function h(I,R){this.h=R;const A=[];let O=!0;for(let D=I.length-1;D>=0;D--){const L=I[D]|0;O&&L==R||(A[D]=L,O=!1)}this.g=A}var m={};function p(I){return-128<=I&&I<128?u(I,function(R){return new h([R|0],R<0?-1:0)}):new h([I|0],I<0?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return T;if(I<0)return q(g(-I));const R=[];let A=1;for(let O=0;I>=A;O++)R[O]=I/A|0,A*=4294967296;return new h(R,0)}function E(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return q(E(I.substring(1),R));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=g(Math.pow(R,8));let O=T;for(let L=0;L<I.length;L+=8){var D=Math.min(8,I.length-L);const C=parseInt(I.substring(L,L+D),R);D<8?(D=g(Math.pow(R,D)),O=O.j(D).add(g(C))):(O=O.j(A),O=O.add(g(C)))}return O}var T=p(0),w=p(1),M=p(16777216);r=h.prototype,r.m=function(){if(Y(this))return-q(this).m();let I=0,R=1;for(let A=0;A<this.g.length;A++){const O=this.i(A);I+=(O>=0?O:4294967296+O)*R,R*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(F(this))return"0";if(Y(this))return"-"+q(this).toString(I);const R=g(Math.pow(I,6));var A=this;let O="";for(;;){const D=pe(A,R).g;A=ie(A,D.j(R));let L=((A.g.length>0?A.g[0]:A.h)>>>0).toString(I);if(A=D,F(A))return L+O;for(;L.length<6;)L="0"+L;O=L+O}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function F(I){if(I.h!=0)return!1;for(let R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function Y(I){return I.h==-1}r.l=function(I){return I=ie(this,I),Y(I)?-1:F(I)?0:1};function q(I){const R=I.g.length,A=[];for(let O=0;O<R;O++)A[O]=~I.g[O];return new h(A,~I.h).add(w)}r.abs=function(){return Y(this)?q(this):this},r.add=function(I){const R=Math.max(this.g.length,I.g.length),A=[];let O=0;for(let D=0;D<=R;D++){let L=O+(this.i(D)&65535)+(I.i(D)&65535),C=(L>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);O=C>>>16,L&=65535,C&=65535,A[D]=C<<16|L}return new h(A,A[A.length-1]&-2147483648?-1:0)};function ie(I,R){return I.add(q(R))}r.j=function(I){if(F(this)||F(I))return T;if(Y(this))return Y(I)?q(this).j(q(I)):q(q(this).j(I));if(Y(I))return q(this.j(q(I)));if(this.l(M)<0&&I.l(M)<0)return g(this.m()*I.m());const R=this.g.length+I.g.length,A=[];for(var O=0;O<2*R;O++)A[O]=0;for(O=0;O<this.g.length;O++)for(let D=0;D<I.g.length;D++){const L=this.i(O)>>>16,C=this.i(O)&65535,ke=I.i(D)>>>16,De=I.i(D)&65535;A[2*O+2*D]+=C*De,$(A,2*O+2*D),A[2*O+2*D+1]+=L*De,$(A,2*O+2*D+1),A[2*O+2*D+1]+=C*ke,$(A,2*O+2*D+1),A[2*O+2*D+2]+=L*ke,$(A,2*O+2*D+2)}for(I=0;I<R;I++)A[I]=A[2*I+1]<<16|A[2*I];for(I=R;I<2*R;I++)A[I]=0;return new h(A,0)};function $(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function ne(I,R){this.g=I,this.h=R}function pe(I,R){if(F(R))throw Error("division by zero");if(F(I))return new ne(T,T);if(Y(I))return R=pe(q(I),R),new ne(q(R.g),q(R.h));if(Y(R))return R=pe(I,q(R)),new ne(q(R.g),R.h);if(I.g.length>30){if(Y(I)||Y(R))throw Error("slowDivide_ only works with positive integers.");for(var A=w,O=R;O.l(I)<=0;)A=Te(A),O=Te(O);var D=we(A,1),L=we(O,1);for(O=we(O,2),A=we(A,2);!F(O);){var C=L.add(O);C.l(I)<=0&&(D=D.add(A),L=C),O=we(O,1),A=we(A,1)}return R=ie(I,D.j(R)),new ne(D,R)}for(D=T;I.l(R)>=0;){for(A=Math.max(1,Math.floor(I.m()/R.m())),O=Math.ceil(Math.log(A)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),L=g(A),C=L.j(R);Y(C)||C.l(I)>0;)A-=O,L=g(A),C=L.j(R);F(L)&&(L=w),D=D.add(L),I=ie(I,C)}return new ne(D,I)}r.B=function(I){return pe(this,I).h},r.and=function(I){const R=Math.max(this.g.length,I.g.length),A=[];for(let O=0;O<R;O++)A[O]=this.i(O)&I.i(O);return new h(A,this.h&I.h)},r.or=function(I){const R=Math.max(this.g.length,I.g.length),A=[];for(let O=0;O<R;O++)A[O]=this.i(O)|I.i(O);return new h(A,this.h|I.h)},r.xor=function(I){const R=Math.max(this.g.length,I.g.length),A=[];for(let O=0;O<R;O++)A[O]=this.i(O)^I.i(O);return new h(A,this.h^I.h)};function Te(I){const R=I.g.length+1,A=[];for(let O=0;O<R;O++)A[O]=I.i(O)<<1|I.i(O-1)>>>31;return new h(A,I.h)}function we(I,R){const A=R>>5;R%=32;const O=I.g.length-A,D=[];for(let L=0;L<O;L++)D[L]=R>0?I.i(L+A)>>>R|I.i(L+A+1)<<32-R:I.i(L+A);return new h(D,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,u1=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,cs=h}).apply(typeof Y0<"u"?Y0:typeof self<"u"?self:typeof window<"u"?window:{});var oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var c1,Xl,h1,vh,ip,f1,d1,m1;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof oh=="object"&&oh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var z=c[S];if(!(z in v))break e;v=v[z]}c=c[c.length-1],S=v[c],y=y(S),y!=S&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&v.push([S,y[S]]);return v}});var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,v){return c.call.apply(c.bind,arguments)}function g(c,y,v){return g=p,g.apply(null,arguments)}function E(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function T(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,z,G){for(var re=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)re[Ae-2]=arguments[Ae];return y.prototype[z].apply(S,re)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function M(c){const y=c.length;if(y>0){const v=Array(y);for(let S=0;S<y;S++)v[S]=c[S];return v}return[]}function F(c,y){for(let S=1;S<arguments.length;S++){const z=arguments[S];var v=typeof z;if(v=v!="object"?v:z?Array.isArray(z)?"array":v:"null",v=="array"||v=="object"&&typeof z.length=="number"){v=c.length||0;const G=z.length||0;c.length=v+G;for(let re=0;re<G;re++)c[v+re]=z[re]}else c.push(z)}}class Y{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function q(c){h.setTimeout(()=>{throw c},0)}function ie(){var c=I;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ${constructor(){this.h=this.g=null}add(y,v){const S=ne.get();S.set(y,v),this.h?this.h.next=S:this.g=S,this.h=S}}var ne=new Y(()=>new pe,c=>c.reset());class pe{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,we=!1,I=new $,R=()=>{const c=Promise.resolve(void 0);Te=()=>{c.then(A)}};function A(){for(var c;c=ie();){try{c.h.call(c.g)}catch(v){q(v)}var y=ne;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}we=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};h.addEventListener("test",v,y),h.removeEventListener("test",v,y)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function ke(c,y){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(ke,D),ke.prototype.init=function(c,y){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ke.Z.h.call(this)},ke.prototype.h=function(){ke.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var De="closure_listenable_"+(Math.random()*1e6|0),K=0;function se(c,y,v,S,z){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!S,this.ha=z,this.key=++K,this.da=this.fa=!1}function me(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Be(c,y,v){for(const S in c)y.call(v,c[S],S,c)}function Ke(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function P(c){const y={};for(const v in c)y[v]=c[v];return y}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,y){let v,S;for(let z=1;z<arguments.length;z++){S=arguments[z];for(v in S)c[v]=S[v];for(let G=0;G<ee.length;G++)v=ee[G],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,y,v,S,z){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const re=Ce(c,y,S,z);return re>-1?(y=c[re],v||(y.fa=!1)):(y=new se(y,this.src,G,!!S,z),y.fa=v,c.push(y)),y};function ve(c,y){const v=y.type;if(v in c.g){var S=c.g[v],z=Array.prototype.indexOf.call(S,y,void 0),G;(G=z>=0)&&Array.prototype.splice.call(S,z,1),G&&(me(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ce(c,y,v,S){for(let z=0;z<c.length;++z){const G=c[z];if(!G.da&&G.listener==y&&G.capture==!!v&&G.ha==S)return z}return-1}var ze="closure_lm_"+(Math.random()*1e6|0),Dt={};function at(c,y,v,S,z){if(Array.isArray(y)){for(let G=0;G<y.length;G++)at(c,y[G],v,S,z);return null}return v=Bo(v),c&&c[De]?c.J(y,v,m(S)?!!S.capture:!1,z):ws(c,y,v,!1,S,z)}function ws(c,y,v,S,z,G){if(!y)throw Error("Invalid event type");const re=m(z)?!!z.capture:!!z;let Ae=As(c);if(Ae||(c[ze]=Ae=new ue(c)),v=Ae.add(y,v,S,re,G),v.proxy)return v;if(S=ga(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)L||(z=re),z===void 0&&(z=!1),c.addEventListener(y.toString(),S,z);else if(c.attachEvent)c.attachEvent(li(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ga(){function c(v){return y.call(c.src,c.listener,v)}const y=zo;return c}function ya(c,y,v,S,z){if(Array.isArray(y))for(var G=0;G<y.length;G++)ya(c,y[G],v,S,z);else S=m(S)?!!S.capture:!!S,v=Bo(v),c&&c[De]?(c=c.i,G=String(y).toString(),G in c.g&&(y=c.g[G],v=Ce(y,v,S,z),v>-1&&(me(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[G],c.h--)))):c&&(c=As(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ce(y,v,S,z)),(v=c>-1?y[c]:null)&&_a(v))}function _a(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[De])ve(y.i,c);else{var v=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(v,S,c.capture):y.detachEvent?y.detachEvent(li(v),S):y.addListener&&y.removeListener&&y.removeListener(S),(v=As(y))?(ve(v,c),v.h==0&&(v.src=null,y[ze]=null)):me(c)}}}function li(c){return c in Dt?Dt[c]:Dt[c]="on"+c}function zo(c,y){if(c.da)c=!0;else{y=new ke(y,this);const v=c.listener,S=c.ha||c.src;c.fa&&_a(c),c=v.call(S,y)}return c}function As(c){return c=c[ze],c instanceof ue?c:null}var jo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Bo(c){return typeof c=="function"?c:(c[jo]||(c[jo]=function(y){return c.handleEvent(y)}),c[jo])}function vt(){O.call(this),this.i=new ue(this),this.M=this,this.G=null}T(vt,O),vt.prototype[De]=!0,vt.prototype.removeEventListener=function(c,y,v,S){ya(this,c,y,v,S)};function Ot(c,y){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new D(y,c);else if(y instanceof D)y.target=y.target||c;else{var z=y;y=new D(S,c),ae(y,z)}z=!0;let G,re;if(v)for(re=v.length-1;re>=0;re--)G=y.g=v[re],z=br(G,S,!0,y)&&z;if(G=y.g=c,z=br(G,S,!0,y)&&z,z=br(G,S,!1,y)&&z,v)for(re=0;re<v.length;re++)G=y.g=v[re],z=br(G,S,!1,y)&&z}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let S=0;S<v.length;S++)me(v[S]);delete c.g[y],c.h--}}this.G=null},vt.prototype.J=function(c,y,v,S){return this.i.add(String(c),y,!1,v,S)},vt.prototype.K=function(c,y,v,S){return this.i.add(String(c),y,!0,v,S)};function br(c,y,v,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let G=0;G<y.length;++G){const re=y[G];if(re&&!re.da&&re.capture==v){const Ae=re.listener,pt=re.ha||re.src;re.fa&&ve(c.i,re),z=Ae.call(pt,S)!==!1&&z}}return z&&!S.defaultPrevented}function If(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function Nu(c){c.g=If(()=>{c.g=null,c.i&&(c.i=!1,Nu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class nn extends O{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Nu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rs(c){O.call(this),this.h=c,this.g={}}T(Rs,O);var qo=[];function Ho(c){Be(c.g,function(y,v){this.g.hasOwnProperty(v)&&_a(y)},c),c.g={}}Rs.prototype.N=function(){Rs.Z.N.call(this),Ho(this)},Rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sr=h.JSON.stringify,Nf=h.JSON.parse,xu=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Du(){}function Ou(){}var Hn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Bt(){D.call(this,"d")}T(Bt,D);function Cn(){D.call(this,"c")}T(Cn,D);var mt={},Mu=null;function va(){return Mu=Mu||new vt}mt.Ia="serverreachability";function Vu(c){D.call(this,mt.Ia,c)}T(Vu,D);function ui(c){const y=va();Ot(y,new Vu(y))}mt.STAT_EVENT="statevent";function Cs(c,y){D.call(this,mt.STAT_EVENT,c),this.stat=y}T(Cs,D);function Et(c){const y=va();Ot(y,new Cs(y,c))}mt.Ja="timingevent";function ci(c,y){D.call(this,mt.Ja,c),this.size=y}T(ci,D);function hi(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function Fn(){this.g=!0}Fn.prototype.ua=function(){this.g=!1};function xf(c,y,v,S,z,G){c.info(function(){if(c.g)if(G){var re="",Ae=G.split("&");for(let Fe=0;Fe<Ae.length;Fe++){var pt=Ae[Fe].split("=");if(pt.length>1){const ot=pt[0];pt=pt[1];const Dn=ot.split("_");re=Dn.length>=2&&Dn[1]=="type"?re+(ot+"="+pt+"&"):re+(ot+"=redacted&")}}}else re=null;else re=G;return"XMLHTTP REQ ("+S+") [attempt "+z+"]: "+y+`
`+v+`
`+re})}function Pu(c,y,v,S,z,G,re){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+z+"]: "+y+`
`+v+`
`+G+" "+re})}function fi(c,y,v,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Df(c,v)+(S?" "+S:"")})}function Is(c,y){c.info(function(){return"TIMEOUT: "+y})}Fn.prototype.info=function(){};function Df(c,y){if(!c.g)return y;if(!y)return null;try{const G=JSON.parse(y);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var v=G[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var z=S[0];if(z!="noop"&&z!="stop"&&z!="close")for(let re=1;re<S.length;re++)S[re]=""}}}}return Sr(G)}catch{return y}}var Ns={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Fo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Go;function xs(){}T(xs,Du),xs.prototype.g=function(){return new XMLHttpRequest},Go=new xs;function Bi(c){return encodeURIComponent(String(c))}function Lu(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function Gn(c,y,v,S){this.j=c,this.i=y,this.l=v,this.S=S||1,this.V=new Rs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qn}function Qn(){this.i=null,this.g="",this.h=!1}var Tt={},Lt={};function di(c,y,v){c.M=1,c.A=Ds(St(y)),c.u=v,c.R=!0,Ea(c,null)}function Ea(c,y){c.F=Date.now(),mi(c),c.B=St(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),wa(v.i,"t",S),c.C=0,v=c.j.L,c.h=new Qn,c.g=Wu(c.j,v?y:null,!c.u),c.P>0&&(c.O=new nn(g(c.Y,c,c.g),c.P)),y=c.V,v=c.g,S=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(qo[0]=z.toString()),z=qo);for(let G=0;G<z.length;G++){const re=at(v,z[G],S||y.handleEvent,!1,y.h||y);if(!re)break;y.g[re.key]=re}y=c.J?P(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),ui(),xf(c.i,c.v,c.B,c.l,c.S,c.u)}Gn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Xn(c)==3?y.j():this.Y(c)},Gn.prototype.Y=function(c){try{if(c==this.g)e:{const Ae=Xn(this.g),pt=this.g.ya(),Fe=this.g.ca();if(!(Ae<3)&&(Ae!=3||this.g&&(this.h.h||this.g.la()||qt(this.g)))){this.K||Ae!=4||pt==7||(pt==8||Fe<=0?ui(3):ui(2)),pi(this);var y=this.g.ca();this.X=y;var v=Of(this);if(this.o=y==200,Pu(this.i,this.v,this.B,this.l,this.S,Ae,y),this.o){if(this.U&&!this.L){t:{if(this.g){var S,z=this.g;if((S=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(S)){var G=S;break t}}G=null}if(c=G)fi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gi(this,c);else{this.o=!1,this.m=3,Et(12),gn(this),In(this);break e}}if(this.R){c=!0;let ot;for(;!this.K&&this.C<v.length;)if(ot=Uu(this,v),ot==Lt){Ae==4&&(this.m=4,Et(14),c=!1),fi(this.i,this.l,null,"[Incomplete Response]");break}else if(ot==Tt){this.m=4,Et(15),fi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else fi(this.i,this.l,ot,null),gi(this,ot);if(ku(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||v.length!=0||this.h.h||(this.m=1,Et(16),c=!1),this.o=this.o&&c,!c)fi(this.i,this.l,v,"[Invalid Chunked Response]"),gn(this),In(this);else if(v.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),al(re),re.P=!0,Et(11))}}else fi(this.i,this.l,v,null),gi(this,v);Ae==4&&gn(this),this.o&&!this.K&&(Ae==4?Ku(this.j,this):(this.o=!1,mi(this)))}else Hi(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),gn(this),In(this)}}}catch{}finally{}};function Of(c){if(!ku(c))return c.g.la();const y=qt(c.g);if(y==="")return"";let v="";const S=y.length,z=Xn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return gn(c),In(c),"";c.h.i=new h.TextDecoder}for(let G=0;G<S;G++)c.h.h=!0,v+=c.h.i.decode(y[G],{stream:!(z&&G==S-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function ku(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Uu(c,y){var v=c.C,S=y.indexOf(`
`,v);return S==-1?Lt:(v=Number(y.substring(v,S)),isNaN(v)?Tt:(S+=1,S+v>y.length?Lt:(y=y.slice(S,S+v),c.C=S+v,y)))}Gn.prototype.cancel=function(){this.K=!0,gn(this)};function mi(c){c.T=Date.now()+c.H,Ta(c,c.H)}function Ta(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=hi(g(c.aa,c),y)}function pi(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Gn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Is(this.i,this.B),this.M!=2&&(ui(),Et(17)),gn(this),this.m=2,In(this)):Ta(this,this.T-c)};function In(c){c.j.I==0||c.K||Ku(c.j,c)}function gn(c){pi(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Ho(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function gi(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||_i(v.h,c))){if(!c.L&&_i(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var z=S;if(z[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Na(v),Dr(v);else break e;Us(v),Et(18)}}else v.xa=z[1],0<v.xa-v.K&&z[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=hi(g(v.Va,v),6e3));yi(v.h)<=1&&v.ta&&(v.ta=void 0)}else wi(v,11)}else if((c.L||v.g==c)&&Na(v),!C(y))for(z=v.Ba.g.parse(y),y=0;y<z.length;y++){let Fe=z[y];const ot=Fe[0];if(!(ot<=v.K))if(v.K=ot,Fe=Fe[1],v.I==2)if(Fe[0]=="c"){v.M=Fe[1],v.ba=Fe[2];const Dn=Fe[3];Dn!=null&&(v.ka=Dn,v.j.info("VER="+v.ka));const Ai=Fe[4];Ai!=null&&(v.za=Ai,v.j.info("SVER="+v.za));const $n=Fe[5];$n!=null&&typeof $n=="number"&&$n>0&&(S=1.5*$n,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Wn=c.g;if(Wn){const zs=Wn.g?Wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zs){var G=S.h;G.g||zs.indexOf("spdy")==-1&&zs.indexOf("quic")==-1&&zs.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Yo(G,G.h),G.h=null))}if(S.G){const xa=Wn.g?Wn.g.getResponseHeader("X-HTTP-Session-Id"):null;xa&&(S.wa=xa,Ye(S.J,S.G,xa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var re=c;if(S.na=$u(S,S.L?S.ba:null,S.W),re.L){Xo(S.h,re);var Ae=re,pt=S.O;pt&&(Ae.H=pt),Ae.D&&(pi(Ae),mi(Ae)),S.g=re}else Gu(S);v.i.length>0&&Si(v)}else Fe[0]!="stop"&&Fe[0]!="close"||wi(v,7);else v.I==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?wi(v,7):rl(v):Fe[0]!="noop"&&v.l&&v.l.qa(Fe),v.A=0)}}ui(4)}catch{}}var bt=class{constructor(c,y){this.g=c,this.map=y}};function Qo(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ko(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function yi(c){return c.h?1:c.g?c.g.size:0}function _i(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Yo(c,y){c.g?c.g.add(y):c.h=y}function Xo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Qo.prototype.cancel=function(){if(this.i=$o(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function $o(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return M(c.i)}var zu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ba(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let z,G=null;S>=0?(z=c[v].substring(0,S),G=c[v].substring(S+1)):z=c[v],y(z,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function yn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof yn?(this.l=c.l,kt(this,c.j),this.o=c.o,this.g=c.g,wr(this,c.u),this.h=c.h,Wo(this,Hu(c.i)),this.m=c.m):c&&(y=String(c).match(zu))?(this.l=!1,kt(this,y[1]||"",!0),this.o=vi(y[2]||""),this.g=vi(y[3]||"",!0),wr(this,y[4]),this.h=vi(y[5]||"",!0),Wo(this,y[6]||"",!0),this.m=vi(y[7]||"")):(this.l=!1,this.i=new Rr(null,this.l))}yn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Os(y,Sa,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Os(y,Sa,!0),"@"),c.push(Bi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Os(v,v.charAt(0)=="/"?Jo:ju,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Os(v,Bu)),c.join("")},yn.prototype.resolve=function(c){const y=St(this);let v=!!c.j;v?kt(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var S=c.h;if(v)wr(y,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var z=y.h.lastIndexOf("/");z!=-1&&(S=y.h.slice(0,z+1)+S)}if(z=S,z==".."||z==".")S="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){S=z.lastIndexOf("/",0)==0,z=z.split("/");const G=[];for(let re=0;re<z.length;){const Ae=z[re++];Ae=="."?S&&re==z.length&&G.push(""):Ae==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),S&&re==z.length&&G.push("")):(G.push(Ae),S=!0)}S=G.join("/")}else S=z}return v?y.h=S:v=c.i.toString()!=="",v?Wo(y,Hu(c.i)):v=!!c.m,v&&(y.m=c.m),y};function St(c){return new yn(c)}function kt(c,y,v){c.j=v?vi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function wr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Wo(c,y,v){y instanceof Rr?(c.i=y,Aa(c.i,c.l)):(v||(y=Os(y,Ar)),c.i=new Rr(y,c.l))}function Ye(c,y,v){c.i.set(y,v)}function Ds(c){return Ye(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function vi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Os(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,an),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function an(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Sa=/[#\/\?@]/g,ju=/[#\?:]/g,Jo=/[#\?]/g,Ar=/[#\?@]/g,Bu=/#/g;function Rr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function on(c){c.g||(c.g=new Map,c.h=0,c.i&&ba(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=Rr.prototype,r.add=function(c,y){on(this),this.i=null,c=Cr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function qu(c,y){on(c),y=Cr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Zo(c,y){return on(c),y=Cr(c,y),c.g.has(y)}r.forEach=function(c,y){on(this),this.g.forEach(function(v,S){v.forEach(function(z){c.call(y,z,S,this)},this)},this)};function el(c,y){on(c);let v=[];if(typeof y=="string")Zo(c,y)&&(v=v.concat(c.g.get(Cr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}r.set=function(c,y){return on(this),this.i=null,c=Cr(this,c),Zo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=el(this,c),c.length>0?String(c[0]):y):y};function wa(c,y,v){qu(c,y),v.length>0&&(c.i=null,c.g.set(Cr(c,y),M(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var v=y[S];const z=Bi(v);v=el(this,v);for(let G=0;G<v.length;G++){let re=z;v[G]!==""&&(re+="="+Bi(v[G])),c.push(re)}}return this.i=c.join("&")};function Hu(c){const y=new Rr;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Cr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Aa(c,y){y&&!c.j&&(on(c),c.i=null,c.g.forEach(function(v,S){const z=S.toLowerCase();S!=z&&(qu(this,S),wa(this,z,v))},c)),c.j=y}function Kn(c,y){const v=new Fn;if(h.Image){const S=new Image;S.onload=E(Nn,v,"TestLoadImage: loaded",!0,y,S),S.onerror=E(Nn,v,"TestLoadImage: error",!1,y,S),S.onabort=E(Nn,v,"TestLoadImage: abort",!1,y,S),S.ontimeout=E(Nn,v,"TestLoadImage: timeout",!1,y,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function tl(c,y){const v=new Fn,S=new AbortController,z=setTimeout(()=>{S.abort(),Nn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(G=>{clearTimeout(z),G.ok?Nn(v,"TestPingServer: ok",!0,y):Nn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Nn(v,"TestPingServer: error",!1,y)})}function Nn(c,y,v,S,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),S(v)}catch{}}function Ir(){this.g=new xu}function Ei(c){this.i=c.Sb||null,this.h=c.ab||!1}T(Ei,Du),Ei.prototype.g=function(){return new Ms(this.i,this.h)};function Ms(c,y){vt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Ms,vt),r=Ms.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Yn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Nr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ra(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ra(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Nr(this):Yn(this),this.readyState==3&&Ra(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Nr(this))},r.Na=function(c){this.g&&(this.response=c,Nr(this))},r.ga=function(){this.g&&Nr(this)};function Nr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Yn(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Yn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ms.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function xn(c){let y="";return Be(c,function(v,S){y+=S,y+=":",y+=v,y+=`\r
`}),y}function Vs(c,y,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=xn(v),typeof c=="string"?v!=null&&Bi(v):Ye(c,y,v))}function We(c){vt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(We,vt);var Ti=/^https?$/i,nl=["POST","PUT"];r=We.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Go.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(G){Ps(this,G);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var z in S)v.set(z,S[z]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const G of S.keys())v.set(G,S.get(G));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),z=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(nl,y,void 0)>=0)||S||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,re]of v)this.g.setRequestHeader(G,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){Ps(this,G)}};function Ps(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,il(c),qi(c)}function il(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ot(this,"complete"),Ot(this,"abort"),qi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qi(this,!0)),We.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ls(this):this.Xa())},r.Xa=function(){Ls(this)};function Ls(c){if(c.h&&typeof u<"u"){if(c.v&&Xn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ot(c,"readystatechange"),Xn(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var S;if(S=G===0){let re=String(c.D).match(zu)[1]||null;!re&&h.self&&h.self.location&&(re=h.self.location.protocol.slice(0,-1)),S=!Ti.test(re?re.toLowerCase():"")}v=S}if(v)Ot(c,"complete"),Ot(c,"success");else{c.o=6;try{var z=Xn(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",il(c)}}finally{qi(c)}}}}function qi(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||Ot(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Xn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Xn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Nf(y)}};function qt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Hi(c){const y={};c=(c.g&&Xn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(C(c[S]))continue;var v=Lu(c[S]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=y[z]||[];y[z]=G,G.push(v)}Ke(y,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function bi(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function xr(c){this.za=0,this.i=[],this.j=new Fn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=bi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=bi("baseRetryDelayMs",5e3,c),this.Za=bi("retryDelaySeedMs",1e4,c),this.Ta=bi("forwardChannelMaxRetries",2,c),this.va=bi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Qo(c&&c.concurrentRequestLimit),this.Ba=new Ir,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=xr.prototype,r.ka=8,r.I=1,r.connect=function(c,y,v,S){Et(0),this.W=c,this.H=y||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=$u(this,null,this.W),Si(this)};function rl(c){if(Ca(c),c.I==3){var y=c.V++,v=St(c.J);if(Ye(v,"SID",c.M),Ye(v,"RID",y),Ye(v,"TYPE","terminate"),ks(c,v),y=new Gn(c,c.j,y),y.M=2,y.A=Ds(St(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&h.Image&&(new Image().src=y.A,v=!0),v||(y.g=Wu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),mi(y)}Xu(c)}function Dr(c){c.g&&(al(c),c.g.cancel(),c.g=null)}function Ca(c){Dr(c),c.v&&(h.clearTimeout(c.v),c.v=null),Na(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Si(c){if(!Ko(c.h)&&!c.m){c.m=!0;var y=c.Ea;Te||R(),we||(Te(),we=!0),I.add(y,c),c.D=0}}function Ia(c,y){return yi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=hi(g(c.Ea,c,y),Yu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new Gn(this,this.j,c);let G=this.o;if(this.U&&(G?(G=P(G),ae(G,this.U)):G=this.U),this.u!==null||this.R||(z.J=G,G=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Fu(this,z,y),v=St(this.J),Ye(v,"RID",c),Ye(v,"CVER",22),this.G&&Ye(v,"X-HTTP-Session-Id",this.G),ks(this,v),G&&(this.R?y="headers="+Bi(xn(G))+"&"+y:this.u&&Vs(v,this.u,G)),Yo(this.h,z),this.Ra&&Ye(v,"TYPE","init"),this.S?(Ye(v,"$req",y),Ye(v,"SID","null"),z.U=!0,di(z,v,null)):di(z,v,y),this.I=2}}else this.I==3&&(c?sl(this,c):this.i.length==0||Ko(this.h)||sl(this))};function sl(c,y){var v;y?v=y.l:v=c.V++;const S=St(c.J);Ye(S,"SID",c.M),Ye(S,"RID",v),Ye(S,"AID",c.K),ks(c,S),c.u&&c.o&&Vs(S,c.u,c.o),v=new Gn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Fu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Yo(c.h,v),di(v,S,y)}function ks(c,y){c.H&&Be(c.H,function(v,S){Ye(y,S,v)}),c.l&&Be({},function(v,S){Ye(y,S,v)})}function Fu(c,y,v){v=Math.min(c.i.length,v);const S=c.l?g(c.l.Ka,c.l,c):null;e:{var z=c.i;let Ae=-1;for(;;){const pt=["count="+v];Ae==-1?v>0?(Ae=z[0].g,pt.push("ofs="+Ae)):Ae=0:pt.push("ofs="+Ae);let Fe=!0;for(let ot=0;ot<v;ot++){var G=z[ot].g;const Dn=z[ot].map;if(G-=Ae,G<0)Ae=Math.max(0,z[ot].g-100),Fe=!1;else try{G="req"+G+"_"||"";try{var re=Dn instanceof Map?Dn:Object.entries(Dn);for(const[Ai,$n]of re){let Wn=$n;m($n)&&(Wn=Sr($n)),pt.push(G+Ai+"="+encodeURIComponent(Wn))}}catch(Ai){throw pt.push(G+"type="+encodeURIComponent("_badmap")),Ai}}catch{S&&S(Dn)}}if(Fe){re=pt.join("&");break e}}re=void 0}return c=c.i.splice(0,v),y.G=c,re}function Gu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;Te||R(),we||(Te(),we=!0),I.add(y,c),c.A=0}}function Us(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=hi(g(c.Da,c),Yu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Qu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=hi(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),Dr(this),Qu(this))};function al(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function Qu(c){c.g=new Gn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=St(c.na);Ye(y,"RID","rpc"),Ye(y,"SID",c.M),Ye(y,"AID",c.K),Ye(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ye(y,"TO",c.ia),Ye(y,"TYPE","xmlhttp"),ks(c,y),c.u&&c.o&&Vs(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Ds(St(y)),v.u=null,v.R=!0,Ea(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Dr(this),Us(this),Et(19))};function Na(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Ku(c,y){var v=null;if(c.g==y){Na(c),al(c),c.g=null;var S=2}else if(_i(c.h,y))v=y.G,Xo(c.h,y),S=1;else return;if(c.I!=0){if(y.o)if(S==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var z=c.D;S=va(),Ot(S,new ci(S,v)),Si(c)}else Gu(c);else if(z=y.m,z==3||z==0&&y.X>0||!(S==1&&Ia(c,y)||S==2&&Us(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),z){case 1:wi(c,5);break;case 4:wi(c,10);break;case 3:wi(c,6);break;default:wi(c,2)}}}function Yu(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function wi(c,y){if(c.j.info("Error code "+y),y==2){var v=g(c.bb,c),S=c.Ua;const z=!S;S=new yn(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||kt(S,"https"),Ds(S),z?Kn(S.toString(),v):tl(S.toString(),v)}else Et(2);c.I=0,c.l&&c.l.pa(y),Xu(c),Ca(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function Xu(c){if(c.I=0,c.ja=[],c.l){const y=$o(c.h);(y.length!=0||c.i.length!=0)&&(F(c.ja,y),F(c.ja,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.oa()}}function $u(c,y,v){var S=v instanceof yn?St(v):new yn(v);if(S.g!="")y&&(S.g=y+"."+S.g),wr(S,S.u);else{var z=h.location;S=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const G=new yn(null);S&&kt(G,S),y&&(G.g=y),z&&wr(G,z),v&&(G.h=v),S=G}return v=c.G,y=c.wa,v&&y&&Ye(S,v,y),Ye(S,"VER",c.ka),ks(c,S),S}function Wu(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new We(new Ei({ab:v})):new We(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ju(){}r=Ju.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Or(){}Or.prototype.g=function(c,y){return new rn(c,y)};function rn(c,y){vt.call(this),this.g=new xr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!C(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!C(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Fi(this)}T(rn,vt),rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){rl(this.g)},rn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=Sr(c),c=v);y.i.push(new bt(y.Ya++,c)),y.I==3&&Si(y)},rn.prototype.N=function(){this.g.l=null,delete this.j,rl(this.g),delete this.g,rn.Z.N.call(this)};function Zu(c){Bt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(Zu,Bt);function ec(){Cn.call(this),this.status=1}T(ec,Cn);function Fi(c){this.g=c}T(Fi,Ju),Fi.prototype.ra=function(){Ot(this.g,"a")},Fi.prototype.qa=function(c){Ot(this.g,new Zu(c))},Fi.prototype.pa=function(c){Ot(this.g,new ec)},Fi.prototype.oa=function(){Ot(this.g,"b")},Or.prototype.createWebChannel=Or.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,m1=function(){return new Or},d1=function(){return va()},f1=mt,ip={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ns.NO_ERROR=0,Ns.TIMEOUT=8,Ns.HTTP_ERROR=6,vh=Ns,Fo.COMPLETE="complete",h1=Fo,Ou.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",vt.prototype.listen=vt.prototype.J,Xl=Ou,We.prototype.listenOnce=We.prototype.K,We.prototype.getLastError=We.prototype.Ha,We.prototype.getLastErrorCode=We.prototype.ya,We.prototype.getStatus=We.prototype.ca,We.prototype.getResponseJson=We.prototype.La,We.prototype.getResponseText=We.prototype.la,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Fa,c1=We}).apply(typeof oh<"u"?oh:typeof self<"u"?self:typeof window<"u"?window:{});const X0="@firebase/firestore",$0="4.9.2";let Zt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");let Mo="12.3.0";const ua=new Op("@firebase/firestore");function oo(){return ua.logLevel}function le(r,...e){if(ua.logLevel<=Ve.DEBUG){const n=e.map(Gp);ua.debug(`Firestore (${Mo}): ${r}`,...n)}}function gr(r,...e){if(ua.logLevel<=Ve.ERROR){const n=e.map(Gp);ua.error(`Firestore (${Mo}): ${r}`,...n)}}function vo(r,...e){if(ua.logLevel<=Ve.WARN){const n=e.map(Gp);ua.warn(`Firestore (${Mo}): ${r}`,...n)}}function Gp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function _e(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,p1(r,s,n)}function p1(r,e,n){let s=`FIRESTORE (${Mo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw gr(s),new Error(s)}function Qe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||p1(e,o,s)}function Se(r,e){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends vr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class hr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class g1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Zt.UNAUTHENTICATED)))}shutdown(){}}class fN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class dN{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new hr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new hr,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new hr)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qe(typeof s.accessToken=="string",31837,{l:s}),new g1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class mN{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class pN{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new mN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class W0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,An(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const s=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,le("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new W0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new W0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function yN(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Qp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=yN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Pe(r,e){return r<e?-1:r>e?1:0}function rp(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Bm(o)===Bm(u)?Pe(o,u):Bm(o)?1:-1}return Pe(r.length,e.length)}const _N=55296,vN=57343;function Bm(r){const e=r.charCodeAt(0);return e>=_N&&e<=vN}function Eo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const J0="__name__";class xi{constructor(e,n,s){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&_e(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return xi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=xi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Pe(e.length,n.length)}static compareSegments(e,n){const s=xi.isNumericId(e),o=xi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?xi.extractNumericId(e).compare(xi.extractNumericId(n)):rp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return cs.fromString(e.substring(4,e.length-2))}}class nt extends xi{construct(e,n,s){return new nt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new oe(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new nt(n)}static emptyPath(){return new nt([])}}const EN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends xi{construct(e,n,s){return new Yt(e,n,s)}static isValidIdentifier(e){return EN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===J0}static keyField(){return new Yt([J0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new oe(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new oe(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new oe(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new oe(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}class de{constructor(e){this.path=e}static fromPath(e){return new de(nt.fromString(e))}static fromName(e){return new de(nt.fromString(e).popFirst(5))}static empty(){return new de(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new nt(e.slice()))}}function y1(r,e,n){if(!n)throw new oe(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function TN(r,e,n,s){if(e===!0&&s===!0)throw new oe(J.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Z0(r){if(!de.isDocumentKey(r))throw new oe(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function eE(r){if(de.isDocumentKey(r))throw new oe(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function _1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function af(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":_e(12329,{type:typeof r})}function Bn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new oe(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=af(r);throw new oe(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function xt(r,e){const n={typeString:r};return e&&(n.value=e),n}function bu(r,e){if(!_1(r))throw new oe(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new oe(J.INVALID_ARGUMENT,n);return!0}const tE=-62135596800,nE=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*nE);return new st(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<tE)throw new oe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/nE}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bu(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-tE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:xt("string",st._jsonSchemaVersion),seconds:xt("number"),nanoseconds:xt("number")};class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new st(0,0))}static max(){return new Ee(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const lu=-1;function bN(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ee.fromTimestamp(s===1e9?new st(n+1,0):new st(n,s));return new fs(o,de.empty(),e)}function SN(r){return new fs(r.readTime,r.key,lu)}class fs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new fs(Ee.min(),de.empty(),lu)}static max(){return new fs(Ee.max(),de.empty(),lu)}}function wN(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(r.documentKey,e.documentKey),n!==0?n:Pe(r.largestBatchId,e.largestBatchId))}const AN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Vo(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==AN)throw r;le("LocalStore","Unexpectedly lost primary lease")}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,s)=>{n(e)}))}static reject(e){return new te(((n,s)=>{s(e)}))}static waitFor(e){return new te(((n,s)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(p=>s(p)))})),h=!0,u===o&&n()}))}static or(e){let n=te.resolve(!1);for(const s of e)n=n.next((o=>o?te.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new te(((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((E=>{h[g]=E,++m,m===u&&s(h)}),(E=>o(E)))}}))}static doWhile(e,n){return new te(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function CN(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Po(r){return r.name==="IndexedDbTransactionError"}class of{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}of.ce=-1;const Kp=-1;function lf(r){return r==null}function Ph(r){return r===0&&1/r==-1/0}function IN(r){return typeof r=="number"&&Number.isInteger(r)&&!Ph(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const v1="";function NN(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=iE(e)),e=xN(r.get(n),e);return iE(e)}function xN(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case v1:n+="";break;default:n+=u}}return n}function iE(r){return r+v1+""}function rE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Ts(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function E1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ct{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lh(this.root,e,this.comparator,!1)}getReverseIterator(){return new lh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lh(this.root,e,this.comparator,!0)}}class lh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Kt.RED,this.left=o??Kt.EMPTY,this.right=u??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Kt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new sE(this.data.getIterator())}getIteratorFrom(e){return new sE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class sE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Rn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Rn([])}unionWith(e){let n=new Vt(Yt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Eo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class T1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new T1("Invalid base64 string: "+u):u}})(e);return new $t(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const DN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ds(r){if(Qe(!!r,39018),typeof r=="string"){let e=0;const n=DN.exec(r);if(Qe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(r.seconds),nanos:_t(r.nanos)}}function _t(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ms(r){return typeof r=="string"?$t.fromBase64String(r):$t.fromUint8Array(r)}const b1="server_timestamp",S1="__type__",w1="__previous_value__",A1="__local_write_time__";function Yp(r){return(r?.mapValue?.fields||{})[S1]?.stringValue===b1}function uf(r){const e=r.mapValue.fields[w1];return Yp(e)?uf(e):e}function uu(r){const e=ds(r.mapValue.fields[A1].timestampValue);return new st(e.seconds,e.nanos)}class ON{constructor(e,n,s,o,u,h,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const Lh="(default)";class cu{constructor(e,n){this.projectId=e,this.database=n||Lh}static empty(){return new cu("","")}get isDefaultDatabase(){return this.database===Lh}isEqual(e){return e instanceof cu&&e.projectId===this.projectId&&e.database===this.database}}const R1="__type__",MN="__max__",uh={mapValue:{}},C1="__vector__",kh="value";function ps(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Yp(r)?4:PN(r)?9007199254740991:VN(r)?10:11:_e(28295,{value:r})}function zi(r,e){if(r===e)return!0;const n=ps(r);if(n!==ps(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return uu(r).isEqual(uu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ds(o.timestampValue),m=ds(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return ms(o.bytesValue).isEqual(ms(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=_t(o.doubleValue),m=_t(u.doubleValue);return h===m?Ph(h)===Ph(m):isNaN(h)&&isNaN(m)}return!1})(r,e);case 9:return Eo(r.arrayValue.values||[],e.arrayValue.values||[],zi);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(rE(h)!==rE(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!zi(h[p],m[p])))return!1;return!0})(r,e);default:return _e(52216,{left:r})}}function hu(r,e){return(r.values||[]).find((n=>zi(n,e)))!==void 0}function To(r,e){if(r===e)return 0;const n=ps(r),s=ps(e);if(n!==s)return Pe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(r.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=_t(u.integerValue||u.doubleValue),p=_t(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return aE(r.timestampValue,e.timestampValue);case 4:return aE(uu(r),uu(e));case 5:return rp(r.stringValue,e.stringValue);case 6:return(function(u,h){const m=ms(u),p=ms(h);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Pe(m[g],p[g]);if(E!==0)return E}return Pe(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=Pe(_t(u.latitude),_t(h.latitude));return m!==0?m:Pe(_t(u.longitude),_t(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return oE(r.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},p=h.fields||{},g=m[kh]?.arrayValue,E=p[kh]?.arrayValue,T=Pe(g?.values?.length||0,E?.values?.length||0);return T!==0?T:oE(g,E)})(r.mapValue,e.mapValue);case 11:return(function(u,h){if(u===uh.mapValue&&h===uh.mapValue)return 0;if(u===uh.mapValue)return 1;if(h===uh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const w=rp(p[T],E[T]);if(w!==0)return w;const M=To(m[p[T]],g[E[T]]);if(M!==0)return M}return Pe(p.length,E.length)})(r.mapValue,e.mapValue);default:throw _e(23264,{he:n})}}function aE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Pe(r,e);const n=ds(r),s=ds(e),o=Pe(n.seconds,s.seconds);return o!==0?o:Pe(n.nanos,s.nanos)}function oE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=To(n[o],s[o]);if(u)return u}return Pe(n.length,s.length)}function bo(r){return sp(r)}function sp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=ds(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ms(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return de.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=sp(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${sp(n.fields[h])}`;return o+"}"})(r.mapValue):_e(61005,{value:r})}function Eh(r){switch(ps(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=uf(r);return e?16+Eh(e):16;case 5:return 2*r.stringValue.length;case 6:return ms(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Eh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Ts(s.fields,((u,h)=>{o+=u.length+Eh(h)})),o})(r.mapValue);default:throw _e(13486,{value:r})}}function lE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function ap(r){return!!r&&"integerValue"in r}function Xp(r){return!!r&&"arrayValue"in r}function uE(r){return!!r&&"nullValue"in r}function cE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Th(r){return!!r&&"mapValue"in r}function VN(r){return(r?.mapValue?.fields||{})[R1]?.stringValue===C1}function tu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ts(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=tu(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=tu(r.arrayValue.values[n]);return e}return{...r}}function PN(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===MN}class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Th(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=tu(n)}setAll(e){let n=Yt.emptyPath(),s={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=tu(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Th(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return zi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Th(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Ts(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new mn(tu(this.value))}}function I1(r){const e=[];return Ts(r.fields,((n,s)=>{const o=new Yt([n]);if(Th(s)){const u=I1(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new Rn(e)}class en{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new en(e,0,Ee.min(),Ee.min(),Ee.min(),mn.empty(),0)}static newFoundDocument(e,n,s,o){return new en(e,1,n,Ee.min(),s,o,0)}static newNoDocument(e,n){return new en(e,2,n,Ee.min(),Ee.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,Ee.min(),Ee.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Uh{constructor(e,n){this.position=e,this.inclusive=n}}function hE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=de.comparator(de.fromName(h.referenceValue),n.key):s=To(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function fE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!zi(r.position[n],e.position[n]))return!1;return!0}class fu{constructor(e,n="asc"){this.field=e,this.dir=n}}function LN(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class N1{}class Nt extends N1{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new UN(e,n,s):n==="array-contains"?new BN(e,s):n==="in"?new qN(e,s):n==="not-in"?new HN(e,s):n==="array-contains-any"?new FN(e,s):new Nt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new zN(e,s):new jN(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(To(n,this.value)):n!==null&&ps(this.value)===ps(n)&&this.matchesComparison(To(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends N1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ai(e,n)}matches(e){return x1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function x1(r){return r.op==="and"}function D1(r){return kN(r)&&x1(r)}function kN(r){for(const e of r.filters)if(e instanceof ai)return!1;return!0}function op(r){if(r instanceof Nt)return r.field.canonicalString()+r.op.toString()+bo(r.value);if(D1(r))return r.filters.map((e=>op(e))).join(",");{const e=r.filters.map((n=>op(n))).join(",");return`${r.op}(${e})`}}function O1(r,e){return r instanceof Nt?(function(s,o){return o instanceof Nt&&s.op===o.op&&s.field.isEqual(o.field)&&zi(s.value,o.value)})(r,e):r instanceof ai?(function(s,o){return o instanceof ai&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&O1(h,o.filters[m])),!0):!1})(r,e):void _e(19439)}function M1(r){return r instanceof Nt?(function(n){return`${n.field.canonicalString()} ${n.op} ${bo(n.value)}`})(r):r instanceof ai?(function(n){return n.op.toString()+" {"+n.getFilters().map(M1).join(" ,")+"}"})(r):"Filter"}class UN extends Nt{constructor(e,n,s){super(e,n,s),this.key=de.fromName(s.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class zN extends Nt{constructor(e,n){super(e,"in",n),this.keys=V1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class jN extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=V1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function V1(r,e){return(e.arrayValue?.values||[]).map((n=>de.fromName(n.referenceValue)))}class BN extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Xp(n)&&hu(n.arrayValue,this.value)}}class qN extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&hu(this.value.arrayValue,n)}}class HN extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!hu(this.value.arrayValue,n)}}class FN extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Xp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>hu(this.value.arrayValue,s)))}}class GN{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function dE(r,e=null,n=[],s=[],o=null,u=null,h=null){return new GN(r,e,n,s,o,u,h)}function $p(r){const e=Se(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>op(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),lf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>bo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>bo(s))).join(",")),e.Te=n}return e.Te}function Wp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!LN(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!O1(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!fE(r.startAt,e.startAt)&&fE(r.endAt,e.endAt)}function lp(r){return de.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Lo{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function QN(r,e,n,s,o,u,h,m){return new Lo(r,e,n,s,o,u,h,m)}function cf(r){return new Lo(r)}function mE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function P1(r){return r.collectionGroup!==null}function nu(r){const e=Se(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Vt(Yt.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new fu(u,s))})),n.has(Yt.keyField().canonicalString())||e.Ie.push(new fu(Yt.keyField(),s))}return e.Ie}function Vi(r){const e=Se(r);return e.Ee||(e.Ee=KN(e,nu(r))),e.Ee}function KN(r,e){if(r.limitType==="F")return dE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new fu(o.field,u)}));const n=r.endAt?new Uh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Uh(r.startAt.position,r.startAt.inclusive):null;return dE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function up(r,e){const n=r.filters.concat([e]);return new Lo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function zh(r,e,n){return new Lo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function hf(r,e){return Wp(Vi(r),Vi(e))&&r.limitType===e.limitType}function L1(r){return`${$p(Vi(r))}|lt:${r.limitType}`}function lo(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>M1(o))).join(", ")}]`),lf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>bo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>bo(o))).join(",")),`Target(${s})`})(Vi(r))}; limitType=${r.limitType})`}function ff(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):de.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of nu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(h,m,p){const g=hE(h,m,p);return h.inclusive?g<=0:g<0})(s.startAt,nu(s),o)||s.endAt&&!(function(h,m,p){const g=hE(h,m,p);return h.inclusive?g>=0:g>0})(s.endAt,nu(s),o))})(r,e)}function YN(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function k1(r){return(e,n)=>{let s=!1;for(const o of nu(r)){const u=XN(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function XN(r,e,n){const s=r.field.isKeyField()?de.comparator(e.key,n.key):(function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?To(p,g):_e(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return _e(19790,{direction:r.dir})}}class da{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ts(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return E1(this.inner)}size(){return this.innerSize}}const $N=new ct(de.comparator);function yr(){return $N}const U1=new ct(de.comparator);function $l(...r){let e=U1;for(const n of r)e=e.insert(n.key,n);return e}function z1(r){let e=U1;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ia(){return iu()}function j1(){return iu()}function iu(){return new da((r=>r.toString()),((r,e)=>r.isEqual(e)))}const WN=new ct(de.comparator),JN=new Vt(de.comparator);function Le(...r){let e=JN;for(const n of r)e=e.add(n);return e}const ZN=new Vt(Pe);function ex(){return ZN}function Jp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ph(e)?"-0":e}}function B1(r){return{integerValue:""+r}}function tx(r,e){return IN(e)?B1(e):Jp(r,e)}class df{constructor(){this._=void 0}}function nx(r,e,n){return r instanceof du?(function(o,u){const h={fields:{[S1]:{stringValue:b1},[A1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Yp(u)&&(u=uf(u)),u&&(h.fields[w1]=u),{mapValue:h}})(n,e):r instanceof So?H1(r,e):r instanceof wo?F1(r,e):(function(o,u){const h=q1(o,u),m=pE(h)+pE(o.Ae);return ap(h)&&ap(o.Ae)?B1(m):Jp(o.serializer,m)})(r,e)}function ix(r,e,n){return r instanceof So?H1(r,e):r instanceof wo?F1(r,e):n}function q1(r,e){return r instanceof jh?(function(s){return ap(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class du extends df{}class So extends df{constructor(e){super(),this.elements=e}}function H1(r,e){const n=G1(e);for(const s of r.elements)n.some((o=>zi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class wo extends df{constructor(e){super(),this.elements=e}}function F1(r,e){let n=G1(e);for(const s of r.elements)n=n.filter((o=>!zi(o,s)));return{arrayValue:{values:n}}}class jh extends df{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function pE(r){return _t(r.integerValue||r.doubleValue)}function G1(r){return Xp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Zp{constructor(e,n){this.field=e,this.transform=n}}function rx(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof So&&o instanceof So||s instanceof wo&&o instanceof wo?Eo(s.elements,o.elements,zi):s instanceof jh&&o instanceof jh?zi(s.Ae,o.Ae):s instanceof du&&o instanceof du})(r.transform,e.transform)}class sx{constructor(e,n){this.version=e,this.transformResults=n}}class Pi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Pi}static exists(e){return new Pi(void 0,e)}static updateTime(e){return new Pi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class mf{}function Q1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Y1(r.key,Pi.none()):new Su(r.key,r.data,Pi.none());{const n=r.data,s=mn.empty();let o=new Vt(Yt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new bs(r.key,s,new Rn(o.toArray()),Pi.none())}}function ax(r,e,n){r instanceof Su?(function(o,u,h){const m=o.value.clone(),p=yE(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(r,e,n):r instanceof bs?(function(o,u,h){if(!bh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=yE(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(K1(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function ru(r,e,n,s){return r instanceof Su?(function(u,h,m,p){if(!bh(u.precondition,h))return m;const g=u.value.clone(),E=_E(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof bs?(function(u,h,m,p){if(!bh(u.precondition,h))return m;const g=_E(u.fieldTransforms,p,h),E=h.data;return E.setAll(K1(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,s):(function(u,h,m){return bh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(r,e,n)}function ox(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=q1(s.transform,o||null);u!=null&&(n===null&&(n=mn.empty()),n.set(s.field,u))}return n||null}function gE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Eo(s,o,((u,h)=>rx(u,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Su extends mf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class bs extends mf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function K1(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function yE(r,e,n){const s=new Map;Qe(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,ix(h,m,n[o]))}return s}function _E(r,e,n){const s=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);s.set(o.field,nx(u,h,e))}return s}class Y1 extends mf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lx extends mf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ux{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&ax(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=ru(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=ru(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=j1();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=Q1(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Ee.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Le())}isEqual(e){return this.batchId===e.batchId&&Eo(this.mutations,e.mutations,((n,s)=>gE(n,s)))&&Eo(this.baseMutations,e.baseMutations,((n,s)=>gE(n,s)))}}class eg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Qe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return WN})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new eg(e,n,s,o)}}class cx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class hx{constructor(e,n){this.count=e,this.unchangedNames=n}}var It,je;function fx(r){switch(r){case J.OK:return _e(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return _e(15467,{code:r})}}function X1(r){if(r===void 0)return gr("GRPC error has no .code"),J.UNKNOWN;switch(r){case It.OK:return J.OK;case It.CANCELLED:return J.CANCELLED;case It.UNKNOWN:return J.UNKNOWN;case It.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case It.INTERNAL:return J.INTERNAL;case It.UNAVAILABLE:return J.UNAVAILABLE;case It.UNAUTHENTICATED:return J.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case It.NOT_FOUND:return J.NOT_FOUND;case It.ALREADY_EXISTS:return J.ALREADY_EXISTS;case It.PERMISSION_DENIED:return J.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case It.ABORTED:return J.ABORTED;case It.OUT_OF_RANGE:return J.OUT_OF_RANGE;case It.UNIMPLEMENTED:return J.UNIMPLEMENTED;case It.DATA_LOSS:return J.DATA_LOSS;default:return _e(39323,{code:r})}}(je=It||(It={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";function dx(){return new TextEncoder}const mx=new cs([4294967295,4294967295],0);function vE(r){const e=dx().encode(r),n=new u1;return n.update(e),new Uint8Array(n.digest())}function EE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new cs([n,s],0),new cs([o,u],0)]}class tg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Wl(`Invalid padding: ${n}`);if(s<0)throw new Wl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Wl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Wl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=cs.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(cs.fromNumber(s)));return o.compare(mx)===1&&(o=new cs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=vE(e),[s,o]=EE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new tg(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=vE(e),[s,o]=EE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class pf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,wu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new pf(Ee.min(),o,new ct(Pe),yr(),Le())}}class wu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new wu(s,n,Le(),Le(),Le())}}class Sh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class $1{constructor(e,n){this.targetId=e,this.Ce=n}}class W1{constructor(e,n,s=$t.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class TE{constructor(){this.ve=0,this.Fe=bE(),this.Me=$t.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),n=Le(),s=Le();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:_e(38017,{changeType:u})}})),new wu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=bE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class px{constructor(e){this.Ge=e,this.ze=new Map,this.je=yr(),this.Je=ch(),this.He=ch(),this.Ye=new ct(Pe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(lp(u))if(s===0){const h=new de(u.path);this.et(n,h,en.newNoDocument(h,Ee.min()))}else Qe(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=ms(s).toUint8Array()}catch(p){if(p instanceof T1)return vo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new tg(h,o,u)}catch(p){return vo(p instanceof Wl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&lp(m.target)){const p=new de(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,en.newNoDocument(p,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let s=Le();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new pf(e,n,this.Ye,this.je,s);return this.je=yr(),this.Je=ch(),this.He=ch(),this.Ye=new ct(Pe),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new TE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Vt(Pe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Vt(Pe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new TE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ch(){return new ct(de.comparator)}function bE(){return new ct(de.comparator)}const gx={asc:"ASCENDING",desc:"DESCENDING"},yx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_x={and:"AND",or:"OR"};class vx{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function cp(r,e){return r.useProto3Json||lf(e)?e:{value:e}}function Bh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function J1(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Ex(r,e){return Bh(r,e.toTimestamp())}function Li(r){return Qe(!!r,49232),Ee.fromTimestamp((function(n){const s=ds(n);return new st(s.seconds,s.nanos)})(r))}function ng(r,e){return hp(r,e).canonicalString()}function hp(r,e){const n=(function(o){return new nt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function Z1(r){const e=nt.fromString(r);return Qe(rb(e),10190,{key:e.toString()}),e}function fp(r,e){return ng(r.databaseId,e.path)}function qm(r,e){const n=Z1(e);if(n.get(1)!==r.databaseId.projectId)throw new oe(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new oe(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new de(tb(n))}function eb(r,e){return ng(r.databaseId,e)}function Tx(r){const e=Z1(r);return e.length===4?nt.emptyPath():tb(e)}function dp(r){return new nt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function tb(r){return Qe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function SE(r,e,n){return{name:fp(r,e),fields:n.value.mapValue.fields}}function bx(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:_e(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(Qe(E===void 0||typeof E=="string",58123),$t.fromBase64String(E||"")):(Qe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),$t.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(g){const E=g.code===void 0?J.UNKNOWN:X1(g.code);return new oe(E,g.message||"")})(h);n=new W1(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=qm(r,s.document.name),u=Li(s.document.updateTime),h=s.document.createTime?Li(s.document.createTime):Ee.min(),m=new mn({mapValue:{fields:s.document.fields}}),p=en.newFoundDocument(o,u,h,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new Sh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=qm(r,s.document),u=s.readTime?Li(s.readTime):Ee.min(),h=en.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Sh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=qm(r,s.document),u=s.removedTargetIds||[];n=new Sh([],u,o,null)}else{if(!("filter"in e))return _e(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new hx(o,u),m=s.targetId;n=new $1(m,h)}}return n}function Sx(r,e){let n;if(e instanceof Su)n={update:SE(r,e.key,e.value)};else if(e instanceof Y1)n={delete:fp(r,e.key)};else if(e instanceof bs)n={update:SE(r,e.key,e.data),updateMask:Ox(e.fieldMask)};else{if(!(e instanceof lx))return _e(16599,{Vt:e.type});n={verify:fp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof du)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof So)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof wo)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof jh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw _e(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:Ex(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_e(27497)})(r,e.precondition)),n}function wx(r,e){return r&&r.length>0?(Qe(e!==void 0,14353),r.map((n=>(function(o,u){let h=o.updateTime?Li(o.updateTime):Li(u);return h.isEqual(Ee.min())&&(h=Li(u)),new sx(h,o.transformResults||[])})(n,e)))):[]}function Ax(r,e){return{documents:[eb(r,e.path)]}}function Rx(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=eb(r,o);const u=(function(g){if(g.length!==0)return ib(ai.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((E=>(function(w){return{field:uo(w.field),direction:Nx(w.dir)}})(E)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=cp(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function Cx(r){let e=Tx(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Qe(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const w=nb(T);return w instanceof ai&&D1(w)?w.getFilters():[w]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((w=>(function(F){return new fu(co(F.field),(function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let w;return w=typeof T=="object"?T.value:T,lf(w)?null:w})(n.limit));let p=null;n.startAt&&(p=(function(T){const w=!!T.before,M=T.values||[];return new Uh(M,w)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const w=!T.before,M=T.values||[];return new Uh(M,w)})(n.endAt)),QN(e,o,h,u,m,"F",p,g)}function Ix(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function nb(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=co(n.unaryFilter.field);return Nt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=co(n.unaryFilter.field);return Nt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=co(n.unaryFilter.field);return Nt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=co(n.unaryFilter.field);return Nt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Nt.create(co(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ai.create(n.compositeFilter.filters.map((s=>nb(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(n.compositeFilter.op))})(r):_e(30097,{filter:r})}function Nx(r){return gx[r]}function xx(r){return yx[r]}function Dx(r){return _x[r]}function uo(r){return{fieldPath:r.canonicalString()}}function co(r){return Yt.fromServerFormat(r.fieldPath)}function ib(r){return r instanceof Nt?(function(n){if(n.op==="=="){if(cE(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NAN"}};if(uE(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(cE(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NAN"}};if(uE(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uo(n.field),op:xx(n.op),value:n.value}}})(r):r instanceof ai?(function(n){const s=n.getFilters().map((o=>ib(o)));return s.length===1?s[0]:{compositeFilter:{op:Dx(n.op),filters:s}}})(r):_e(54877,{filter:r})}function Ox(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function rb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class as{constructor(e,n,s,o,u=Ee.min(),h=Ee.min(),m=$t.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new as(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Mx{constructor(e){this.yt=e}}function Vx(r){const e=Cx({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?zh(e,e.limit,"L"):e}class Px{constructor(){this.Cn=new Lx}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(fs.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(fs.min())}updateCollectionGroup(e,n,s){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class Lx{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Vt(nt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Vt(nt.comparator)).toArray()}}const wE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sb=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(sb,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);class Ao{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ao(0)}static cr(){return new Ao(-1)}}const AE="LruGarbageCollector",kx=1048576;function RE([r,e],[n,s]){const o=Pe(r,n);return o===0?Pe(e,s):o}class Ux{constructor(e){this.Ir=e,this.buffer=new Vt(RE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();RE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class zx{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(AE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Po(n)?le(AE,"Ignoring IndexedDB error during garbage collection: ",n):await Vo(n)}await this.Vr(3e5)}))}}class jx{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(of.ce);const s=new Ux(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(wE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,h,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),oo()<=Ve.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function Bx(r,e){return new jx(r,e)}class qx{constructor(){this.changes=new da((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?te.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Hx{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Fx{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&ru(s.mutation,o,Rn.empty(),st.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Le()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Le()){const o=ia();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let h=$l();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const s=ia();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Le())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,s,o){let u=yr();const h=iu(),m=(function(){return iu()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof bs)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),ru(E.mutation,g,E.mutation.getFieldMask(),st.now())):h.set(g.key,Rn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,E)=>h.set(g,E))),n.forEach(((g,E)=>m.set(g,new Hx(E,h.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=iu();let o=new ct(((h,m)=>h-m)),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||Rn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const T=(o.get(m.batchId)||Le()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,T=j1();E.forEach((w=>{if(!u.has(w)){const M=Q1(n.get(w),s.get(w));M!==null&&T.set(w,M),u=u.add(w)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,T))}return te.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(h){return de.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):P1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):te.resolve(ia());let m=lu,p=u;return h.next((g=>te.forEach(g,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?te.resolve():this.remoteDocumentCache.getEntry(e,E).next((w=>{p=p.insert(E,w)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Le()))).next((E=>({batchId:m,changes:z1(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next((s=>{let o=$l();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=$l();return this.indexManager.getCollectionParents(e,u).next((m=>te.forEach(m,(p=>{const g=(function(T,w){return new Lo(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((E=>{E.forEach(((T,w)=>{h=h.insert(T,w)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((h=>{u.forEach(((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,en.newInvalidDocument(E)))}));let m=$l();return h.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&ru(E.mutation,g,Rn.empty(),st.now()),ff(n,g)&&(m=m.insert(p,g))})),m}))}}class Gx{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Li(o.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:Vx(o.bundledQuery),readTime:Li(o.readTime)}})(n)),te.resolve()}}class Qx{constructor(){this.overlays=new ct(de.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ia();return te.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),te.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),te.resolve()}getOverlaysForCollection(e,n,s){const o=ia(),u=n.length+1,h=new de(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ct(((g,E)=>g-E));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=ia(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=ia(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return te.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new cx(n,s));let u=this.qr.get(n);u===void 0&&(u=Le(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class Kx{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}class ig{constructor(){this.Qr=new Vt(zt.$r),this.Ur=new Vt(zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new zt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new zt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new de(new nt([])),s=new zt(n,e),o=new zt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new de(new nt([])),s=new zt(n,e),o=new zt(n,e+1);let u=Le();return this.Ur.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new zt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class zt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return de.comparator(e.key,n.key)||Pe(e.Yr,n.Yr)}static Kr(e,n){return Pe(e.Yr,n.Yr)||de.comparator(e.key,n.key)}}class Yx{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Vt(zt.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new ux(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new zt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(h)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Kp:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new zt(n,0),o=new zt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(h=>{const m=this.Xr(h.Yr);u.push(m)})),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Vt(Pe);return n.forEach((o=>{const u=new zt(o,0),h=new zt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{s=s.add(m.Yr)}))})),te.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;de.isDocumentKey(u)||(u=u.child(""));const h=new zt(new de(u),0);let m=new Vt(Pe);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),h),te.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Qe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return te.forEach(n.mutations,(o=>{const u=new zt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new zt(n,0),o=this.Zr.firstAfterOrEqual(s);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Xx{constructor(e){this.ri=e,this.docs=(function(){return new ct(de.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return te.resolve(s?s.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let s=yr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():en.newInvalidDocument(o))})),te.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=yr();const h=n.path,m=new de(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||wN(SN(E),s)<=0||(o.has(E.key)||ff(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,s,o){_e(9500)}ii(e,n){return te.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new $x(this)}getSize(e){return te.resolve(this.size)}}class $x extends qx{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class Wx{constructor(e){this.persistence=e,this.si=new da((n=>$p(n)),Wp),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this.oi=0,this._i=new ig,this.targetCount=0,this.ai=Ao.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ao(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),te.waitFor(u).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return te.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),te.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return te.resolve(s)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}class ab{constructor(e,n){this.ui={},this.overlays={},this.ci=new of(0),this.li=!1,this.li=!0,this.hi=new Kx,this.referenceDelegate=e(this),this.Pi=new Wx(this),this.indexManager=new Px,this.remoteDocumentCache=(function(o){return new Xx(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new Mx(n),this.Ii=new Gx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Qx,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new Yx(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){le("MemoryPersistence","Starting transaction:",e);const o=new Jx(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return te.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class Jx extends RN{constructor(e){super(),this.currentSequenceNumber=e}}class rg{constructor(e){this.persistence=e,this.Ri=new ig,this.Vi=null}static mi(e){return new rg(e)}get fi(){if(this.Vi)return this.Vi;throw _e(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),te.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(s=>{const o=de.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Ee.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class qh{constructor(e,n){this.persistence=e,this.pi=new da((s=>NN(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=Bx(this,n)}static mi(e,n){return new qh(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return te.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?te.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((m=>{m||(s++,u.removeEntry(h,Ee.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Eh(e.data.value)),n}br(e,n,s){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class sg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Le(),o=Le();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new sg(e,n.fromCache,s,o)}}class Zx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class eD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return NR()?8:CN(tn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new Zx;return this.Ss(e,n,h).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,h,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(oo()<=Ve.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",lo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(oo()<=Ve.DEBUG&&le("QueryEngine","Query:",lo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(oo()<=Ve.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",lo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vi(n))):te.resolve())}ys(e,n){if(mE(n))return te.resolve(null);let s=Vi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=zh(n,null,"F"),s=Vi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const h=Le(...u);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,h,p.readTime)?this.ys(e,zh(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return mE(n)||o.isEqual(Ee.min())?te.resolve(null):this.ps.getDocuments(e,s).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,s,o)?te.resolve(null):(oo()<=Ve.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),lo(n)),this.vs(e,h,n,bN(o,lu)).next((m=>m)))}))}Ds(e,n){let s=new Vt(k1(e));return n.forEach(((o,u)=>{ff(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return oo()<=Ve.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",lo(n)),this.ps.getDocumentsMatchingQuery(e,n,fs.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const ag="LocalStore",tD=3e8;class nD{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ct(Pe),this.xs=new da((u=>$p(u)),Wp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Fx(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function iD(r,e,n,s){return new nD(r,e,n,s)}async function ob(r,e){const n=Se(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let p=Le();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function rD(r,e){const n=Se(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const T=g.batch,w=T.keys();let M=te.resolve();return w.forEach((F=>{M=M.next((()=>E.getEntry(p,F))).next((Y=>{const q=g.docVersions.get(F);Qe(q!==null,48541),Y.version.compareTo(q)<0&&(T.applyToRemoteDocument(Y,g),Y.isValidDocument()&&(Y.setReadTime(g.commitVersion),E.addEntry(Y)))}))})),M.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Le();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function lb(r){const e=Se(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function sD(r,e){const n=Se(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,T)=>{const w=o.get(T);if(!w)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,T))));let M=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?M=M.withResumeToken($t.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):E.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(E.resumeToken,s)),o=o.insert(T,M),(function(Y,q,ie){return Y.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=tD?!0:ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0})(w,M,E)&&m.push(n.Pi.updateTargetData(u,M))}));let p=yr(),g=Le();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(aD(u,h,e.documentUpdates).next((E=>{p=E.ks,g=E.qs}))),!s.isEqual(Ee.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return te.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function aD(r,e,n){let s=Le(),o=Le();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let h=yr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ee.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):le(ag,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:h,qs:o}}))}function oD(r,e){const n=Se(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Kp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function lD(r,e){const n=Se(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,te.resolve(o)):n.Pi.allocateTargetId(s).next((h=>(o=new as(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function mp(r,e,n){const s=Se(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Po(h))throw h;le(ag,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function CE(r,e,n){const s=Se(r);let o=Ee.min(),u=Le();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,E){const T=Se(p),w=T.xs.get(E);return w!==void 0?te.resolve(T.Ms.get(w)):T.Pi.getTargetData(g,E)})(s,h,Vi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,e,n?o:Ee.min(),n?u:Le()))).next((m=>(uD(s,YN(e),m),{documents:m,Qs:u})))))}function uD(r,e,n){let s=r.Os.get(e)||Ee.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class IE{constructor(){this.activeTargetIds=ex()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cD{constructor(){this.Mo=new IE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new IE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class hD{Oo(e){}shutdown(){}}const NE="ConnectivityMonitor";class xE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(NE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(NE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let hh=null;function pp(){return hh===null?hh=(function(){return 268435456+Math.round(2147483648*Math.random())})():hh++,"0x"+hh.toString(16)}const Hm="RestConnection",fD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Lh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const h=pp(),m=this.zo(e,n.toUriEncodedString());le(Hm,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),E=xo(g);return this.Jo(e,m,p,s,E).then((T=>(le(Hm,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw vo(Hm,`RPC '${e}' ${h} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,u,h){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Mo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=fD[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class mD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Jt="WebChannelConnection";class pD extends dD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const h=pp();return new Promise(((m,p)=>{const g=new c1;g.setWithCredentials(!0),g.listenOnce(h1.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case vh.NO_ERROR:const T=g.getResponseJson();le(Jt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),m(T);break;case vh.TIMEOUT:le(Jt,`RPC '${e}' ${h} timed out`),p(new oe(J.DEADLINE_EXCEEDED,"Request time out"));break;case vh.HTTP_ERROR:const w=g.getStatus();if(le(Jt,`RPC '${e}' ${h} failed with status:`,w,"response text:",g.getResponseText()),w>0){let M=g.getResponseJson();Array.isArray(M)&&(M=M[0]);const F=M?.error;if(F&&F.status&&F.message){const Y=(function(ie){const $=ie.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf($)>=0?$:J.UNKNOWN})(F.status);p(new oe(Y,F.message))}else p(new oe(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new oe(J.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{le(Jt,`RPC '${e}' ${h} completed.`)}}));const E=JSON.stringify(o);le(Jt,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=pp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=m1(),m=d1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");le(Jt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const T=h.createWebChannel(E,p);this.I_(T);let w=!1,M=!1;const F=new mD({Yo:q=>{M?le(Jt,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(w||(le(Jt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),w=!0),le(Jt,`RPC '${e}' stream ${o} sending:`,q),T.send(q))},Zo:()=>T.close()}),Y=(q,ie,$)=>{q.listen(ie,(ne=>{try{$(ne)}catch(pe){setTimeout((()=>{throw pe}),0)}}))};return Y(T,Xl.EventType.OPEN,(()=>{M||(le(Jt,`RPC '${e}' stream ${o} transport opened.`),F.o_())})),Y(T,Xl.EventType.CLOSE,(()=>{M||(M=!0,le(Jt,`RPC '${e}' stream ${o} transport closed`),F.a_(),this.E_(T))})),Y(T,Xl.EventType.ERROR,(q=>{M||(M=!0,vo(Jt,`RPC '${e}' stream ${o} transport errored. Name:`,q.name,"Message:",q.message),F.a_(new oe(J.UNAVAILABLE,"The operation could not be completed")))})),Y(T,Xl.EventType.MESSAGE,(q=>{if(!M){const ie=q.data[0];Qe(!!ie,16349);const $=ie,ne=$?.error||$[0]?.error;if(ne){le(Jt,`RPC '${e}' stream ${o} received error:`,ne);const pe=ne.status;let Te=(function(R){const A=It[R];if(A!==void 0)return X1(A)})(pe),we=ne.message;Te===void 0&&(Te=J.INTERNAL,we="Unknown error status: "+pe+" with message "+ne.message),M=!0,F.a_(new oe(Te,we)),T.close()}else le(Jt,`RPC '${e}' stream ${o} received:`,ie),F.u_(ie)}})),Y(m,f1.STAT_EVENT,(q=>{q.stat===ip.PROXY?le(Jt,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===ip.NOPROXY&&le(Jt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{F.__()}),0),F}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Fm(){return typeof document<"u"?document:null}function gf(r){return new vx(r,!0)}class ub{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const DE="PersistentStream";class cb{constructor(e,n,s,o,u,h,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ub(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(gr(n.toString()),gr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new oe(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(DE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(le(DE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class gD extends cb{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=bx(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Ee.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ee.min():h.readTime?Li(h.readTime):Ee.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=dp(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=lp(p)?{documents:Ax(u,p)}:{query:Rx(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=J1(u,h.resumeToken);const g=cp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Ee.min())>0){m.readTime=Bh(u,h.snapshotVersion.toTimestamp());const g=cp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=Ix(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=dp(this.serializer),n.removeTarget=e,this.q_(n)}}class yD extends cb{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=wx(e.writeResults,e.commitTime),s=Li(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=dp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>Sx(this.serializer,s)))};this.q_(n)}}class _D{}class vD extends _D{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,hp(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(J.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,hp(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new oe(J.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class ED{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gr(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ca="RemoteStore";class TD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{ma(this)&&(le(ca,"Restarting streams for network reachability change."),await(async function(p){const g=Se(p);g.Ea.add(4),await Au(g),g.Ra.set("Unknown"),g.Ea.delete(4),await yf(g)})(this))}))})),this.Ra=new ED(s,o)}}async function yf(r){if(ma(r))for(const e of r.da)await e(!0)}async function Au(r){for(const e of r.da)await e(!1)}function hb(r,e){const n=Se(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),cg(n)?ug(n):ko(n).O_()&&lg(n,e))}function og(r,e){const n=Se(r),s=ko(n);n.Ia.delete(e),s.O_()&&fb(n,e),n.Ia.size===0&&(s.O_()?s.L_():ma(n)&&n.Ra.set("Unknown"))}function lg(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ko(r).Y_(e)}function fb(r,e){r.Va.Ue(e),ko(r).Z_(e)}function ug(r){r.Va=new px({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),ko(r).start(),r.Ra.ua()}function cg(r){return ma(r)&&!ko(r).x_()&&r.Ia.size>0}function ma(r){return Se(r).Ea.size===0}function db(r){r.Va=void 0}async function bD(r){r.Ra.set("Online")}async function SD(r){r.Ia.forEach(((e,n)=>{lg(r,e)}))}async function wD(r,e){db(r),cg(r)?(r.Ra.ha(e),ug(r)):r.Ra.set("Unknown")}async function AD(r,e,n){if(r.Ra.set("Online"),e instanceof W1&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){le(ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Hh(r,s)}else if(e instanceof Sh?r.Va.Ze(e):e instanceof $1?r.Va.st(e):r.Va.tt(e),!n.isEqual(Ee.min()))try{const s=await lb(r.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken($t.EMPTY_BYTE_STRING,E.snapshotVersion)),fb(u,p);const T=new as(E.target,p,g,E.sequenceNumber);lg(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){le(ca,"Failed to raise snapshot:",s),await Hh(r,s)}}async function Hh(r,e,n){if(!Po(e))throw e;r.Ea.add(1),await Au(r),r.Ra.set("Offline"),n||(n=()=>lb(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{le(ca,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await yf(r)}))}function mb(r,e){return e().catch((n=>Hh(r,n,e)))}async function _f(r){const e=Se(r),n=gs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Kp;for(;RD(e);)try{const o=await oD(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,CD(e,o)}catch(o){await Hh(e,o)}pb(e)&&gb(e)}function RD(r){return ma(r)&&r.Ta.length<10}function CD(r,e){r.Ta.push(e);const n=gs(r);n.O_()&&n.X_&&n.ea(e.mutations)}function pb(r){return ma(r)&&!gs(r).x_()&&r.Ta.length>0}function gb(r){gs(r).start()}async function ID(r){gs(r).ra()}async function ND(r){const e=gs(r);for(const n of r.Ta)e.ea(n.mutations)}async function xD(r,e,n){const s=r.Ta.shift(),o=eg.from(s,e,n);await mb(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await _f(r)}async function DD(r,e){e&&gs(r).X_&&await(async function(s,o){if((function(h){return fx(h)&&h!==J.ABORTED})(o.code)){const u=s.Ta.shift();gs(s).B_(),await mb(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await _f(s)}})(r,e),pb(r)&&gb(r)}async function OE(r,e){const n=Se(r);n.asyncQueue.verifyOperationInProgress(),le(ca,"RemoteStore received new credentials");const s=ma(n);n.Ea.add(3),await Au(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await yf(n)}async function OD(r,e){const n=Se(r);e?(n.Ea.delete(2),await yf(n)):e||(n.Ea.add(2),await Au(n),n.Ra.set("Unknown"))}function ko(r){return r.ma||(r.ma=(function(n,s,o){const u=Se(n);return u.sa(),new gD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:bD.bind(null,r),t_:SD.bind(null,r),r_:wD.bind(null,r),H_:AD.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),cg(r)?ug(r):r.Ra.set("Unknown")):(await r.ma.stop(),db(r))}))),r.ma}function gs(r){return r.fa||(r.fa=(function(n,s,o){const u=Se(n);return u.sa(),new yD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:ID.bind(null,r),r_:DD.bind(null,r),ta:ND.bind(null,r),na:xD.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await _f(r)):(await r.fa.stop(),r.Ta.length>0&&(le(ca,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class hg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new hg(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fg(r,e){if(gr("AsyncQueue",`${e}: ${r}`),Po(r))return new oe(J.UNAVAILABLE,`${e}: ${r}`);throw r}class po{static emptySet(e){return new po(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||de.comparator(n.key,s.key):(n,s)=>de.comparator(n.key,s.key),this.keyedMap=$l(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof po)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new po;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class ME{constructor(){this.ga=new ct(de.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):_e(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Ro{constructor(e,n,s,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new Ro(e,n,po.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class MD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class VD{constructor(){this.queries=VE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Se(n),u=o.queries;o.queries=VE(),u.forEach(((h,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new oe(J.ABORTED,"Firestore shutting down"))}}function VE(){return new da((r=>L1(r)),hf)}async function dg(r,e){const n=Se(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new MD,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=fg(h,`Initialization of query '${lo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&pg(n)}async function mg(r,e){const n=Se(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function PD(r,e){const n=Se(r);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&pg(n)}function LD(r,e,n){const s=Se(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function pg(r){r.Ca.forEach((e=>{e.next()}))}var gp,PE;(PE=gp||(gp={})).Ma="default",PE.Cache="cache";class gg{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ro(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ro.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==gp.Cache}}class yb{constructor(e){this.key=e}}class _b{constructor(e){this.key=e}}class kD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Le(),this.mutatedKeys=Le(),this.eu=k1(e),this.tu=new po(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new ME,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const w=o.get(E),M=ff(this.query,T)?T:null,F=!!w&&this.mutatedKeys.has(w.key),Y=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let q=!1;w&&M?w.data.isEqual(M.data)?F!==Y&&(s.track({type:3,doc:M}),q=!0):this.su(w,M)||(s.track({type:2,doc:M}),q=!0,(p&&this.eu(M,p)>0||g&&this.eu(M,g)<0)&&(m=!0)):!w&&M?(s.track({type:0,doc:M}),q=!0):w&&!M&&(s.track({type:1,doc:w}),q=!0,(p||g)&&(m=!0)),q&&(M?(h=h.add(M),u=Y?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:h,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((E,T)=>(function(M,F){const Y=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Rt:q})}};return Y(M)-Y(F)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,h.length!==0||g?{snapshot:new Ro(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ME,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Le(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new _b(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new yb(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Le();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ro.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const yg="SyncEngine";class UD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class zD{constructor(e){this.key=e,this.hu=!1}}class jD{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new da((m=>L1(m)),hf),this.Iu=new Map,this.Eu=new Set,this.du=new ct(de.comparator),this.Au=new Map,this.Ru=new ig,this.Vu={},this.mu=new Map,this.fu=Ao.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function BD(r,e,n=!0){const s=wb(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await vb(s,e,n,!0),o}async function qD(r,e){const n=wb(r);await vb(n,e,!0,!1)}async function vb(r,e,n,s){const o=await lD(r.localStore,Vi(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await HD(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&hb(r.remoteStore,o),m}async function HD(r,e,n,s,o){r.pu=(T,w,M)=>(async function(Y,q,ie,$){let ne=q.view.ru(ie);ne.Cs&&(ne=await CE(Y.localStore,q.query,!1).then((({documents:I})=>q.view.ru(I,ne))));const pe=$&&$.targetChanges.get(q.targetId),Te=$&&$.targetMismatches.get(q.targetId)!=null,we=q.view.applyChanges(ne,Y.isPrimaryClient,pe,Te);return kE(Y,q.targetId,we.au),we.snapshot})(r,T,w,M);const u=await CE(r.localStore,e,!0),h=new kD(e,u.Qs),m=h.ru(u.documents),p=wu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=h.applyChanges(m,r.isPrimaryClient,p);kE(r,n,g.au);const E=new UD(e,n,h);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function FD(r,e,n){const s=Se(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!hf(h,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await mp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&og(s.remoteStore,o.targetId),yp(s,o.targetId)})).catch(Vo)):(yp(s,o.targetId),await mp(s.localStore,o.targetId,!0))}async function GD(r,e){const n=Se(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),og(n.remoteStore,s.targetId))}async function QD(r,e,n){const s=ZD(r);try{const o=await(function(h,m){const p=Se(h),g=st.now(),E=m.reduce(((M,F)=>M.add(F.key)),Le());let T,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(M=>{let F=yr(),Y=Le();return p.Ns.getEntries(M,E).next((q=>{F=q,F.forEach(((ie,$)=>{$.isValidDocument()||(Y=Y.add(ie))}))})).next((()=>p.localDocuments.getOverlayedDocuments(M,F))).next((q=>{T=q;const ie=[];for(const $ of m){const ne=ox($,T.get($.key).overlayedDocument);ne!=null&&ie.push(new bs($.key,ne,I1(ne.value.mapValue),Pi.exists(!0)))}return p.mutationQueue.addMutationBatch(M,g,ie,m)})).next((q=>{w=q;const ie=q.applyToLocalDocumentSet(T,Y);return p.documentOverlayCache.saveOverlays(M,q.batchId,ie)}))})).then((()=>({batchId:w.batchId,changes:z1(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let g=h.Vu[h.currentUser.toKey()];g||(g=new ct(Pe)),g=g.insert(m,p),h.Vu[h.currentUser.toKey()]=g})(s,o.batchId,n),await Ru(s,o.changes),await _f(s.remoteStore)}catch(o){const u=fg(o,"Failed to persist write");n.reject(u)}}async function Eb(r,e){const n=Se(r);try{const s=await sD(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Qe(h.hu,14607):o.removedDocuments.size>0&&(Qe(h.hu,42227),h.hu=!1))})),await Ru(n,s,e)}catch(s){await Vo(s)}}function LE(r,e,n){const s=Se(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=Se(h);p.onlineState=m;let g=!1;p.queries.forEach(((E,T)=>{for(const w of T.Sa)w.va(m)&&(g=!0)})),g&&pg(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function KD(r,e,n){const s=Se(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ct(de.comparator);h=h.insert(u,en.newNoDocument(u,Ee.min()));const m=Le().add(u),p=new pf(Ee.min(),new Map,new ct(Pe),h,m);await Eb(s,p),s.du=s.du.remove(u),s.Au.delete(e),_g(s)}else await mp(s.localStore,e,!1).then((()=>yp(s,e,n))).catch(Vo)}async function YD(r,e){const n=Se(r),s=e.batch.batchId;try{const o=await rD(n.localStore,e);bb(n,s,null),Tb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ru(n,o)}catch(o){await Vo(o)}}async function XD(r,e,n){const s=Se(r);try{const o=await(function(h,m){const p=Se(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Qe(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,e);bb(s,e,n),Tb(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Ru(s,o)}catch(o){await Vo(o)}}function Tb(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function bb(r,e,n){const s=Se(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function yp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||Sb(r,s)}))}function Sb(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(og(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),_g(r))}function kE(r,e,n){for(const s of n)s instanceof yb?(r.Ru.addReference(s.key,e),$D(r,s)):s instanceof _b?(le(yg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||Sb(r,s.key)):_e(19791,{wu:s})}function $D(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(le(yg,"New document in limbo: "+n),r.Eu.add(s),_g(r))}function _g(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new de(nt.fromString(e)),s=r.fu.next();r.Au.set(s,new zD(n)),r.du=r.du.insert(n,s),hb(r.remoteStore,new as(Vi(cf(n.path)),s,"TargetPurposeLimboResolution",of.ce))}}async function Ru(r,e,n){const s=Se(r),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{h.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=sg.As(p.targetId,g);u.push(E)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(p,g){const E=Se(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>te.forEach(g,(w=>te.forEach(w.Es,(M=>E.persistence.referenceDelegate.addReference(T,w.targetId,M))).next((()=>te.forEach(w.ds,(M=>E.persistence.referenceDelegate.removeReference(T,w.targetId,M)))))))))}catch(T){if(!Po(T))throw T;le(ag,"Failed to update sequence numbers: "+T)}for(const T of g){const w=T.targetId;if(!T.fromCache){const M=E.Ms.get(w),F=M.snapshotVersion,Y=M.withLastLimboFreeSnapshotVersion(F);E.Ms=E.Ms.insert(w,Y)}}})(s.localStore,u))}async function WD(r,e){const n=Se(r);if(!n.currentUser.isEqual(e)){le(yg,"User change. New user:",e.toKey());const s=await ob(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new oe(J.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ru(n,s.Ls)}}function JD(r,e){const n=Se(r),s=n.Au.get(e);if(s&&s.hu)return Le().add(s.key);{let o=Le();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function wb(r){const e=Se(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Eb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=KD.bind(null,e),e.Pu.H_=PD.bind(null,e.eventManager),e.Pu.yu=LD.bind(null,e.eventManager),e}function ZD(r){const e=Se(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=YD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=XD.bind(null,e),e}class Fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return iD(this.persistence,new eD,e.initialUser,this.serializer)}Cu(e){return new ab(rg.mi,this.serializer)}Du(e){return new cD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fh.provider={build:()=>new Fh};class eO extends Fh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Qe(this.persistence.referenceDelegate instanceof qh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new zx(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new ab((s=>qh.mi(s,n)),this.serializer)}}class _p{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>LE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=WD.bind(null,this.syncEngine),await OD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new VD})()}createDatastore(e){const n=gf(e.databaseInfo.databaseId),s=(function(u){return new pD(u)})(e.databaseInfo);return(function(u,h,m,p){return new vD(u,h,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,h,m){return new TD(s,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>LE(this.syncEngine,n,0)),(function(){return xE.v()?new xE:new hD})())}createSyncEngine(e,n){return(function(o,u,h,m,p,g,E){const T=new jD(o,u,h,m,p,g);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Se(n);le(ca,"RemoteStore shutting down."),s.Ea.add(5),await Au(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}_p.provider={build:()=>new _p};class vg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):gr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ys="FirestoreClient";class tO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=Qp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{le(ys,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(le(ys,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=fg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Gm(r,e){r.asyncQueue.verifyOperationInProgress(),le(ys,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await ob(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function UE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await nO(r);le(ys,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>OE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>OE(e.remoteStore,o))),r._onlineComponents=e}async function nO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){le(ys,"Using user provided OfflineComponentProvider");try{await Gm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;vo("Error using user provided cache. Falling back to memory cache: "+n),await Gm(r,new Fh)}}else le(ys,"Using default OfflineComponentProvider"),await Gm(r,new eO(void 0));return r._offlineComponents}async function Ab(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(le(ys,"Using user provided OnlineComponentProvider"),await UE(r,r._uninitializedComponentsProvider._online)):(le(ys,"Using default OnlineComponentProvider"),await UE(r,new _p))),r._onlineComponents}function iO(r){return Ab(r).then((e=>e.syncEngine))}async function Gh(r){const e=await Ab(r),n=e.eventManager;return n.onListen=BD.bind(null,e.syncEngine),n.onUnlisten=FD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=qD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=GD.bind(null,e.syncEngine),n}function rO(r,e,n={}){const s=new hr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const E=new vg({next:w=>{E.Nu(),h.enqueueAndForget((()=>mg(u,T)));const M=w.docs.has(m);!M&&w.fromCache?g.reject(new oe(J.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&w.fromCache&&p&&p.source==="server"?g.reject(new oe(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new gg(cf(m.path),E,{includeMetadataChanges:!0,qa:!0});return dg(u,T)})(await Gh(r),r.asyncQueue,e,n,s))),s.promise}function sO(r,e,n={}){const s=new hr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const E=new vg({next:w=>{E.Nu(),h.enqueueAndForget((()=>mg(u,T))),w.fromCache&&p.source==="server"?g.reject(new oe(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new gg(m,E,{includeMetadataChanges:!0,qa:!0});return dg(u,T)})(await Gh(r),r.asyncQueue,e,n,s))),s.promise}function Rb(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const zE=new Map;const Cb="firestore.googleapis.com",jE=!0;class BE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Cb,this.ssl=jE}else this.host=e.host,this.ssl=e.ssl??jE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<kx)throw new oe(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Rb(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new hN;switch(s.type){case"firstParty":return new pN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new oe(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=zE.get(n);s&&(le("ComponentProvider","Removing Datastore"),zE.delete(n),s.terminate())})(this),Promise.resolve()}}function aO(r,e,n,s={}){r=Bn(r,vf);const o=xo(e),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(TT(`https://${m}`),bT("Firestore",!0)),u.host!==Cb&&u.host!==m&&vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!dr(p,h)&&(r._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=Zt.MOCK_USER;else{g=ER(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new oe(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Zt(T)}r._authCredentials=new fN(new g1(g,E))}}class Tr{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Tr(this.firestore,e,this._query)}}class dt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dt(this.firestore,e,this._key)}toJSON(){return{type:dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(bu(n,dt._jsonSchema))return new dt(e,s||null,new de(nt.fromString(n.referencePath)))}}dt._jsonSchemaVersion="firestore/documentReference/1.0",dt._jsonSchema={type:xt("string",dt._jsonSchemaVersion),referencePath:xt("string")};class hs extends Tr{constructor(e,n,s){super(e,n,cf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dt(this.firestore,null,new de(e))}withConverter(e){return new hs(this.firestore,e,this._path)}}function Eg(r,e,...n){if(r=Pt(r),y1("collection","path",e),r instanceof vf){const s=nt.fromString(e,...n);return eE(s),new hs(r,null,s)}{if(!(r instanceof dt||r instanceof hs))throw new oe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...n));return eE(s),new hs(r.firestore,null,s)}}function pn(r,e,...n){if(r=Pt(r),arguments.length===1&&(e=Qp.newId()),y1("doc","path",e),r instanceof vf){const s=nt.fromString(e,...n);return Z0(s),new dt(r,null,new de(s))}{if(!(r instanceof dt||r instanceof hs))throw new oe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...n));return Z0(s),new dt(r.firestore,r instanceof hs?r.converter:null,new de(s))}}const qE="AsyncQueue";class HE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ub(this,"async_queue_retry"),this._c=()=>{const s=Fm();s&&le(qE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Fm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Fm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new hr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Po(e))throw e;le(qE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,gr("INTERNAL UNHANDLED ERROR: ",FE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=hg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&_e(47125,{Pc:FE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function FE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function GE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class ha extends vf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new HE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new HE(e),this._firestoreClient=void 0,await e}}}function oO(r,e){const n=typeof r=="object"?r:RT(),s=typeof r=="string"?r:Lh,o=Vp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=_R("firestore");u&&aO(o,...u)}return o}function Ef(r){if(r._terminated)throw new oe(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||lO(r),r._firestoreClient}function lO(r){const e=r._freezeSettings(),n=(function(o,u,h,m){return new ON(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Rb(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new tO(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jn($t.fromBase64String(e))}catch(n){throw new oe(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new jn($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bu(e,jn._jsonSchema))return jn.fromBase64String(e.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:xt("string",jn._jsonSchemaVersion),bytes:xt("string")};class Tf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Uo{constructor(e){this._methodName=e}}class ki{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ki._jsonSchemaVersion}}static fromJSON(e){if(bu(e,ki._jsonSchema))return new ki(e.latitude,e.longitude)}}ki._jsonSchemaVersion="firestore/geoPoint/1.0",ki._jsonSchema={type:xt("string",ki._jsonSchemaVersion),latitude:xt("number"),longitude:xt("number")};class Ui{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ui._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bu(e,Ui._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ui(e.vectorValues);throw new oe(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ui._jsonSchemaVersion="firestore/vectorValue/1.0",Ui._jsonSchema={type:xt("string",Ui._jsonSchemaVersion),vectorValues:xt("object")};const uO=/^__.*__$/;class cO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new bs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Su(e,this.data,n,this.fieldTransforms)}}class Ib{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new bs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Nb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ac:r})}}class bf{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new bf({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Qh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Nb(this.Ac)&&uO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class hO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||gf(e)}Cc(e,n,s,o=!1){return new bf({Ac:e,methodName:n,Dc:s,path:Yt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tg(r){const e=r._freezeSettings(),n=gf(r._databaseId);return new hO(r._databaseId,!!e.ignoreUndefinedProperties,n)}function fO(r,e,n,s,o,u={}){const h=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);Ag("Data must be an object, but it was:",h,s);const m=Db(s,h);let p,g;if(u.merge)p=new Rn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const w=vp(e,T,n);if(!h.contains(w))throw new oe(J.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);Mb(E,w)||E.push(w)}p=new Rn(E),g=h.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=h.fieldTransforms;return new cO(new mn(m),p,g)}class Sf extends Uo{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sf}}function xb(r,e,n){return new bf({Ac:3,Dc:e.settings.Dc,methodName:r._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class bg extends Uo{_toFieldTransform(e){return new Zp(e.path,new du)}isEqual(e){return e instanceof bg}}class Sg extends Uo{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=xb(this,e,!0),s=this.vc.map((u=>pa(u,n))),o=new So(s);return new Zp(e.path,o)}isEqual(e){return e instanceof Sg&&dr(this.vc,e.vc)}}class wg extends Uo{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=xb(this,e,!0),s=this.vc.map((u=>pa(u,n))),o=new wo(s);return new Zp(e.path,o)}isEqual(e){return e instanceof wg&&dr(this.vc,e.vc)}}function dO(r,e,n,s){const o=r.Cc(1,e,n);Ag("Data must be an object, but it was:",o,s);const u=[],h=mn.empty();Ts(s,((p,g)=>{const E=Rg(e,p,n);g=Pt(g);const T=o.yc(E);if(g instanceof Sf)u.push(E);else{const w=pa(g,T);w!=null&&(u.push(E),h.set(E,w))}}));const m=new Rn(u);return new Ib(h,m,o.fieldTransforms)}function mO(r,e,n,s,o,u){const h=r.Cc(1,e,n),m=[vp(e,s,n)],p=[o];if(u.length%2!=0)throw new oe(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(vp(e,u[w])),p.push(u[w+1]);const g=[],E=mn.empty();for(let w=m.length-1;w>=0;--w)if(!Mb(g,m[w])){const M=m[w];let F=p[w];F=Pt(F);const Y=h.yc(M);if(F instanceof Sf)g.push(M);else{const q=pa(F,Y);q!=null&&(g.push(M),E.set(M,q))}}const T=new Rn(g);return new Ib(E,T,h.fieldTransforms)}function pO(r,e,n,s=!1){return pa(n,r.Cc(s?4:3,e))}function pa(r,e){if(Ob(r=Pt(r)))return Ag("Unsupported field value:",e,r),Db(r,e);if(r instanceof Uo)return(function(s,o){if(!Nb(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let p=pa(m,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Pt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return tx(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=st.fromDate(s);return{timestampValue:Bh(o.serializer,u)}}if(s instanceof st){const u=new st(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Bh(o.serializer,u)}}if(s instanceof ki)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof jn)return{bytesValue:J1(o.serializer,s._byteString)};if(s instanceof dt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ng(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ui)return(function(h,m){return{mapValue:{fields:{[R1]:{stringValue:C1},[kh]:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Jp(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${af(s)}`)})(r,e)}function Db(r,e){const n={};return E1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ts(r,((s,o)=>{const u=pa(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function Ob(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof st||r instanceof ki||r instanceof jn||r instanceof dt||r instanceof Uo||r instanceof Ui)}function Ag(r,e,n){if(!Ob(n)||!_1(n)){const s=af(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function vp(r,e,n){if((e=Pt(e))instanceof Tf)return e._internalPath;if(typeof e=="string")return Rg(r,e);throw Qh("Field path arguments must be of type string or ",r,!1,void 0,n)}const gO=new RegExp("[~\\*/\\[\\]]");function Rg(r,e,n){if(e.search(gO)>=0)throw Qh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Tf(...e.split("."))._internalPath}catch{throw Qh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Qh(r,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new oe(J.INVALID_ARGUMENT,m+r+p)}function Mb(r,e){return r.some((n=>n.isEqual(e)))}class Vb{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(wf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class yO extends Vb{data(){return super.data()}}function wf(r,e){return typeof e=="string"?Rg(r,e):e instanceof Tf?e._internalPath:e._delegate._internalPath}function Pb(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new oe(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cg{}class Ig extends Cg{}function Ng(r,e,...n){let s=[];e instanceof Cg&&s.push(e),s=s.concat(n),(function(u){const h=u.filter((p=>p instanceof xg)).length,m=u.filter((p=>p instanceof Af)).length;if(h>1||h>0&&m>0)throw new oe(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Af extends Ig{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Af(e,n,s)}_apply(e){const n=this._parse(e);return kb(e._query,n),new Tr(e.firestore,e.converter,up(e._query,n))}_parse(e){const n=Tg(e.firestore);return(function(u,h,m,p,g,E,T){let w;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new oe(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){KE(T,E);const F=[];for(const Y of T)F.push(QE(p,u,Y));w={arrayValue:{values:F}}}else w=QE(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||KE(T,E),w=pO(m,h,T,E==="in"||E==="not-in");return Nt.create(g,E,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function _O(r,e,n){const s=e,o=wf("where",r);return Af._create(o,s,n)}class xg extends Cg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new xg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ai.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)kb(h,p),h=up(h,p)})(e._query,n),new Tr(e.firestore,e.converter,up(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Dg extends Ig{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Dg(e,n)}_apply(e){const n=(function(o,u,h){if(o.startAt!==null)throw new oe(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new oe(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fu(u,h)})(e._query,this._field,this._direction);return new Tr(e.firestore,e.converter,(function(o,u){const h=o.explicitOrderBy.concat([u]);return new Lo(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function Lb(r,e="asc"){const n=e,s=wf("orderBy",r);return Dg._create(s,n)}class Og extends Ig{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new Og(e,n,s)}_apply(e){return new Tr(e.firestore,e.converter,zh(e._query,this._limit,this._limitType))}}function vO(r){return Og._create("limit",r,"F")}function QE(r,e,n){if(typeof(n=Pt(n))=="string"){if(n==="")throw new oe(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!P1(e)&&n.indexOf("/")!==-1)throw new oe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(nt.fromString(n));if(!de.isDocumentKey(s))throw new oe(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return lE(r,new de(s))}if(n instanceof dt)return lE(r,n._key);throw new oe(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${af(n)}.`)}function KE(r,e){if(!Array.isArray(r)||r.length===0)throw new oe(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kb(r,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new oe(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class EO{convertValue(e,n="none"){switch(ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ts(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[kh].arrayValue?.values?.map((s=>_t(s.doubleValue)));return new Ui(n)}convertGeoPoint(e){return new ki(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=uf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(uu(e));default:return null}}convertTimestamp(e){const n=ds(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=nt.fromString(e);Qe(rb(s),9688,{name:e});const o=new cu(s.get(1),s.get(3)),u=new de(s.popFirst(5));return o.isEqual(n)||gr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function TO(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class Jl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ra extends Vb{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new wh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(wf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ra._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ra._jsonSchemaVersion="firestore/documentSnapshot/1.0",ra._jsonSchema={type:xt("string",ra._jsonSchemaVersion),bundleSource:xt("string","DocumentSnapshot"),bundleName:xt("string"),bundle:xt("string")};class wh extends ra{data(e={}){return super.data(e)}}class sa{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Jl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new wh(this._firestore,this._userDataWriter,s.key,s,new Jl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new wh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Jl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new wh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Jl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:bO(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=sa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Qp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function bO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:r})}}function go(r){r=Bn(r,dt);const e=Bn(r.firestore,ha);return rO(Ef(e),r._key).then((n=>Bb(e,r,n)))}sa._jsonSchemaVersion="firestore/querySnapshot/1.0",sa._jsonSchema={type:xt("string",sa._jsonSchemaVersion),bundleSource:xt("string","QuerySnapshot"),bundleName:xt("string"),bundle:xt("string")};class Mg extends EO{constructor(e){super(),this.firestore=e}convertBytes(e){return new jn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dt(this.firestore,null,n)}}function Ub(r){r=Bn(r,Tr);const e=Bn(r.firestore,ha),n=Ef(e),s=new Mg(e);return Pb(r._query),sO(n,r._query).then((o=>new sa(e,s,r,o)))}function Kh(r,e,n){r=Bn(r,dt);const s=Bn(r.firestore,ha),o=TO(r.converter,e,n);return jb(s,[fO(Tg(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Pi.none())])}function fa(r,e,n,...s){r=Bn(r,dt);const o=Bn(r.firestore,ha),u=Tg(o);let h;return h=typeof(e=Pt(e))=="string"||e instanceof Tf?mO(u,"updateDoc",r._key,e,n,s):dO(u,"updateDoc",r._key,e),jb(o,[h.toMutation(r._key,Pi.exists(!0))])}function zb(r,...e){r=Pt(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||GE(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(GE(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,h,m;if(r instanceof dt)h=Bn(r.firestore,ha),m=cf(r._key.path),u={next:p=>{e[s]&&e[s](Bb(h,r,p))},error:e[s+1],complete:e[s+2]};else{const p=Bn(r,Tr);h=Bn(p.firestore,ha),m=p._query;const g=new Mg(h);u={next:E=>{e[s]&&e[s](new sa(h,g,p,E))},error:e[s+1],complete:e[s+2]},Pb(r._query)}return(function(g,E,T,w){const M=new vg(w),F=new gg(E,M,T);return g.asyncQueue.enqueueAndForget((async()=>dg(await Gh(g),F))),()=>{M.Nu(),g.asyncQueue.enqueueAndForget((async()=>mg(await Gh(g),F)))}})(Ef(h),m,o,u)}function jb(r,e){return(function(s,o){const u=new hr;return s.asyncQueue.enqueueAndForget((async()=>QD(await iO(s),o,u))),u.promise})(Ef(r),e)}function Bb(r,e,n){const s=n.docs.get(e._key),o=new Mg(r);return new ra(r,o,e._key,s,new Jl(n.hasPendingWrites,n.fromCache),e.converter)}function qb(){return new bg("serverTimestamp")}function Yh(...r){return new Sg("arrayUnion",r)}function Xh(...r){return new wg("arrayRemove",r)}(function(e,n=!0){(function(o){Mo=o})(Do),yo(new aa("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new ha(new dN(s.getProvider("auth-internal")),new gN(h,s.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new oe(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cu(g.options.projectId,E)})(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),us(X0,$0,e),us(X0,$0,"esm2020")})();const SO={apiKey:"AIzaSyABT0P_HySifXzSc1cVtTCNjESFx8Oj5eo",authDomain:"chathub-d8d57.firebaseapp.com",projectId:"chathub-d8d57",storageBucket:"chathub-d8d57.appspot.com",messagingSenderId:"708848405113",appId:"1:708848405113:web:395de436b570b641f422a8"},Hb=AT(SO),ni=oN(Hb),Xt=oO(Hb);const wO=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),AO=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),YE=r=>{const e=AO(r);return e.charAt(0).toUpperCase()+e.slice(1)},Fb=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),RO=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var CO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const IO=k.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:h,...m},p)=>k.createElement("svg",{ref:p,...CO,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:Fb("lucide",o),...!u&&!RO(m)&&{"aria-hidden":"true"},...m},[...h.map(([g,E])=>k.createElement(g,E)),...Array.isArray(u)?u:[u]]));const Vg=(r,e)=>{const n=k.forwardRef(({className:s,...o},u)=>k.createElement(IO,{ref:u,iconNode:e,className:Fb(`lucide-${wO(YE(r))}`,`lucide-${r}`,s),...o}));return n.displayName=YE(r),n};const NO=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ep=Vg("lock",NO);const xO=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Gb=Vg("mail",xO);const DO=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],OO=Vg("user",DO);function MO(){const[r,e]=k.useState(""),[n,s]=k.useState(""),[o,u]=k.useState(!1),[h,m]=k.useState(""),p=new Di,g=async T=>{T.preventDefault(),m("");try{await QC(ni,r,n)}catch(w){w.code==="auth/user-not-found"?m("No account found."):w.code==="auth/invalid-email"?m("Invalid email."):w.code==="auth/wrong-password"?m("Wrong password."):m("Login failed.")}},E=async()=>{try{await o1(ni,p)}catch{m("Google login failed.")}};return x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-400 p-4",children:x.jsxs("div",{className:"fade w-full max-w-sm backdrop-blur-2xl bg-white/10 border border-white/20 rounded-3xl p-6 shadow-2xl",children:[x.jsxs("div",{className:"text-center mb-6",children:[x.jsx("div",{className:"inline-block px-5 py-2 rounded-full bg-white/15 backdrop-blur-xl border border-white/30 shadow mb-4",children:x.jsx("h1",{className:"text-white text-4xl font-semibold",children:"ChatHub"})}),x.jsx("h2",{className:"text-white text-lg",children:"Welcome back"}),x.jsx("p",{className:"text-white/70 text-xs mt-1",children:"Sign in to continue to ChatHub"})]}),x.jsxs("form",{onSubmit:g,className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-white/90 text-xs",children:"Email"}),x.jsxs("div",{className:"relative mt-1",children:[x.jsx(Gb,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-white/50"}),x.jsx("input",{type:"email",placeholder:"name@example.com",value:r,onChange:T=>e(T.target.value),className:`w-full pl-12 h-11 bg-white/10 border border-white/30 rounded-xl \r
                           text-white placeholder-white/40 outline-none focus:bg-white/20`})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-white/90 text-xs",children:"Password"}),x.jsxs("div",{className:"relative mt-1",children:[x.jsx(Ep,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-white/50"}),x.jsx("input",{type:o?"text":"password",placeholder:"",value:n,onChange:T=>s(T.target.value),className:`w-full pl-12 pr-10 h-11 bg-white/10 border border-white/30 rounded-xl \r
                           text-white placeholder-white/40 outline-none focus:bg-white/20`}),x.jsx("button",{type:"button",onClick:()=>u(!o),className:"absolute right-3 top-1/2 -translate-y-1/2 text-white/60 hover:text-white",children:o?"":""})]})]}),x.jsx("div",{className:"flex justify-end -mt-2",children:x.jsx("a",{href:"/forgot-password",className:"text-white/70 hover:text-white text-xs",children:"Forgot password?"})}),h&&x.jsx("p",{className:"text-red-300 text-xs text-center",children:h}),x.jsxs("button",{type:"button",onClick:E,className:`w-full h-11 bg-white text-gray-900 rounded-xl shadow flex items-center \r
                       justify-center gap-2 hover:scale-[1.02] transition`,children:[x.jsx("img",{src:"https://www.svgrepo.com/show/475656/google-color.svg",className:"w-4 h-4"}),"Continue with Google"]}),x.jsxs("div",{className:"relative py-2",children:[x.jsx("div",{className:"absolute inset-0 flex items-center",children:x.jsx("div",{className:"w-full border-t border-white/20"})}),x.jsx("div",{className:"relative flex justify-center",children:x.jsx("span",{className:"px-3 text-white/60 text-xs",children:"or"})})]}),x.jsx("button",{type:"submit",className:"w-full h-11 bg-white text-gray-900 rounded-xl shadow font-semibold hover:scale-[1.02] transition",children:"Sign in"})]}),x.jsxs("p",{className:"mt-4 text-center text-white/80 text-xs",children:["Dont have an account?"," ",x.jsx(Dp,{to:"/signup",className:"underline hover:text-white/90",children:"Sign up"})]})]})})}function VO(){const[r,e]=k.useState(""),[n,s]=k.useState(""),[o,u]=k.useState(""),[h,m]=k.useState(""),[p,g]=k.useState(!1),[E,T]=k.useState(!1),[w,M]=k.useState(""),F=new Di,Y=async($,ne)=>{const pe=pn(Xt,"users",$.uid);await Kh(pe,{uid:$.uid,name:ne||$.displayName||"User",username:ne?.toLowerCase()||$.displayName?.toLowerCase()||$.email.split("@")[0],email:$.email,photoURL:$.photoURL||"",bio:"I'm using ChatHub ",friends:[],requests_received:[],requests_sent:[],createdAt:qb()})},q=async $=>{if($.preventDefault(),M(""),o!==h)return M("Passwords do not match.");try{const ne=await GC(ni,n,o);await YC(ne.user,{displayName:r}),await Y(ne.user,r)}catch(ne){ne.code==="auth/email-already-in-use"?M("Email already exists."):M("Signup failed.")}},ie=async()=>{try{const ne=(await o1(ni,F)).user;await Y(ne,ne.displayName)}catch($){console.error($),M("Google signup failed.")}};return x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-600 via-slate-600 to-slate-600 p-4",children:x.jsxs("div",{className:"fade w-full max-w-sm backdrop-blur-2xl bg-white/10 border border-white/20 rounded-2xl p-5 shadow-2xl",children:[x.jsxs("div",{className:"text-center mb-5",children:[x.jsx("div",{className:"inline-block px-4 py-2 rounded-full bg-white/15 border border-white/30 backdrop-blur-xl shadow mb-3",children:x.jsx("h1",{className:"text-white text-3xl font-semibold",children:"ChatHub"})}),x.jsx("h2",{className:"text-white text-base font-medium",children:"Create account"}),x.jsx("p",{className:"text-white/70 text-xs",children:"Join ChatHub today"})]}),x.jsxs("form",{onSubmit:q,className:"space-y-3",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-white/90 text-xs",children:"Username"}),x.jsxs("div",{className:"relative mt-1",children:[x.jsx(OO,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-white/50"}),x.jsx("input",{placeholder:"johndoe",value:r,onChange:$=>e($.target.value),className:`w-full pl-10 h-10 bg-white/10 border border-white/30 rounded-xl \r
                           text-white placeholder-white/40 outline-none focus:bg-white/20`})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-white/90 text-xs",children:"Email"}),x.jsxs("div",{className:"relative mt-1",children:[x.jsx(Gb,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-white/50"}),x.jsx("input",{type:"email",placeholder:"name@example.com",value:n,onChange:$=>s($.target.value),className:`w-full pl-10 h-10 bg-white/10 border border-white/30 rounded-xl \r
                           text-white placeholder-white/40 outline-none focus:bg-white/20`})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-white/90 text-xs",children:"Password"}),x.jsxs("div",{className:"relative mt-1",children:[x.jsx(Ep,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-white/50"}),x.jsx("input",{type:p?"text":"password",placeholder:"",value:o,onChange:$=>u($.target.value),className:`w-full pl-10 pr-10 h-10 bg-white/10 border border-white/30 rounded-xl \r
                           text-white placeholder-white/40 outline-none focus:bg-white/20`}),x.jsx("button",{type:"button",onClick:()=>g(!p),className:"absolute right-3 top-1/2 -translate-y-1/2 text-white/60",children:p?"":""})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-white/90 text-xs",children:"Confirm Password"}),x.jsxs("div",{className:"relative mt-1",children:[x.jsx(Ep,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-white/50"}),x.jsx("input",{type:E?"text":"password",placeholder:"",value:h,onChange:$=>m($.target.value),className:`w-full pl-10 pr-10 h-10 bg-white/10 border border-white/30 rounded-xl \r
                           text-white placeholder-white/40 outline-none focus:bg-white/20`}),x.jsx("button",{type:"button",onClick:()=>T(!E),className:"absolute right-3 top-1/2 -translate-y-1/2 text-white/60",children:E?"":""})]})]}),w&&x.jsx("p",{className:"text-red-300 text-xs text-center",children:w}),x.jsxs("button",{type:"button",onClick:ie,className:"w-full h-10 bg-white text-gray-900 rounded-xl shadow flex items-center justify-center gap-2 hover:scale-[1.02] transition",children:[x.jsx("img",{src:"https://www.svgrepo.com/show/475656/google-color.svg",className:"w-4 h-4"}),"Continue with Google"]}),x.jsxs("div",{className:"relative py-1",children:[x.jsx("div",{className:"absolute inset-0 flex items-center",children:x.jsx("div",{className:"w-full border-t border-white/20"})}),x.jsx("div",{className:"relative flex justify-center",children:x.jsx("span",{className:"px-2 text-white/60 text-xs",children:"or"})})]}),x.jsx("button",{type:"submit",className:"w-full h-10 bg-white text-gray-900 rounded-xl shadow font-semibold hover:scale-[1.02] transition",children:"Create account"})]}),x.jsxs("p",{className:"mt-3 text-center text-white/80 text-xs",children:["Already have an account?"," ",x.jsx("a",{href:"/login",className:"underline hover:text-white/90",children:"Login"})]})]})})}var Qb={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},XE=ii.createContext&&ii.createContext(Qb),PO=["attr","size","title"];function LO(r,e){if(r==null)return{};var n=kO(r,e),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(o=0;o<u.length;o++)s=u[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(n[s]=r[s])}return n}function kO(r,e){if(r==null)return{};var n={};for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){if(e.indexOf(s)>=0)continue;n[s]=r[s]}return n}function $h(){return $h=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},$h.apply(this,arguments)}function $E(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),n.push.apply(n,s)}return n}function Wh(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$E(Object(n),!0).forEach(function(s){UO(r,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):$E(Object(n)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(n,s))})}return r}function UO(r,e,n){return e=zO(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function zO(r){var e=jO(r,"string");return typeof e=="symbol"?e:e+""}function jO(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var s=n.call(r,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function Kb(r){return r&&r.map((e,n)=>ii.createElement(e.tag,Wh({key:n},e.attr),Kb(e.child)))}function Cu(r){return e=>ii.createElement(BO,$h({attr:Wh({},r.attr)},e),Kb(r.child))}function BO(r){var e=n=>{var{attr:s,size:o,title:u}=r,h=LO(r,PO),m=o||n.size||"1em",p;return n.className&&(p=n.className),r.className&&(p=(p?p+" ":"")+r.className),ii.createElement("svg",$h({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,h,{className:p,style:Wh(Wh({color:r.color||n.color},n.style),r.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&ii.createElement("title",null,u),r.children)};return XE!==void 0?ii.createElement(XE.Consumer,null,n=>e(n)):e(Qb)}function qO(r){return Cu({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M475.22 206.52c-10.34-48.65-37.76-92.93-77.22-124.68A227.4 227.4 0 0 0 255.82 32C194.9 32 138 55.47 95.46 98.09 54.35 139.33 31.82 193.78 32 251.37a215.66 215.66 0 0 0 35.65 118.76l4.35 6.05L48 480l114.8-28.56s2.3.77 4 1.42 16.33 6.26 31.85 10.6c12.9 3.6 39.74 9 60.77 9 59.65 0 115.35-23.1 156.83-65.06C457.36 365.77 480 310.42 480 251.49a213.5 213.5 0 0 0-4.78-44.97z"},child:[]}]})(r)}function HO(r){return Cu({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"48",d:"M88 152h336M88 256h336M88 360h336"},child:[]}]})(r)}function FO(r){return Cu({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z"},child:[]}]})(r)}function GO(r){return Cu({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 104c-53 0-96 43-96 96s43 96 96 96 96-43 96-96-43-96-96-96zm0 144c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm0-240C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 448c-49.7 0-95.1-18.3-130.1-48.4 14.9-23 40.4-38.6 69.6-39.5 20.8 6.4 40.6 9.6 60.5 9.6s39.7-3.1 60.5-9.6c29.2 1 54.7 16.5 69.6 39.5-35 30.1-80.4 48.4-130.1 48.4zm162.7-84.1c-24.4-31.4-62.1-51.9-105.1-51.9-10.2 0-26 9.6-57.6 9.6-31.5 0-47.4-9.6-57.6-9.6-42.9 0-80.6 20.5-105.1 51.9C61.9 339.2 48 299.2 48 256c0-110.3 89.7-200 200-200s200 89.7 200 200c0 43.2-13.9 83.2-37.3 115.9z"},child:[]}]})(r)}function QO(r){return Cu({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M2 21a8 8 0 0 1 13.292-6"},child:[]},{tag:"circle",attr:{cx:"10",cy:"8",r:"5"},child:[]},{tag:"path",attr:{d:"M19 16v6"},child:[]},{tag:"path",attr:{d:"M22 19h-6"},child:[]}]})(r)}function KO({activeTab:r,setActiveTab:e,chats:n=[],onSelectChat:s,profile:o,friends:u=[],requestsReceived:h=[],requestsSent:m=[],onAccept:p,onReject:g,onSendRequest:E,searchUser:T,mobileOpen:w,setMobileOpen:M}){const[F,Y]=k.useState(""),[q,ie]=k.useState(null),[$,ne]=k.useState(!1),pe=o?.photoURL?`${o.photoURL}?v=${Date.now()}`:"/default-avatar.png";k.useEffect(()=>{let A=!0;if(!F||F.trim().length<2){ie(null),ne(!1);return}ne(!0);const O=setTimeout(async()=>{try{const D=await T(F.trim());if(!A)return;ie(D)}catch{ie(null)}finally{A&&ne(!1)}},300);return()=>{A=!1,clearTimeout(O)}},[F,T]);const Te=A=>{e(A),M(!1)},we=A=>u.some(O=>O.uid===A),I=A=>(m||[]).includes(A),R=A=>(h||[]).includes(A);return x.jsxs("div",{className:`chathub-sidebar ${w?"open":""}`,children:[x.jsx("button",{className:"mobile-close",onClick:()=>M(!1),style:{display:"none",background:"transparent",fontSize:26,color:"white",border:"none",cursor:"pointer",marginBottom:10},children:""}),x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:14,marginBottom:16},children:[x.jsx("img",{src:pe,alt:"avatar",style:{width:42,height:42,borderRadius:"50%",objectFit:"cover",border:"2px solid rgba(255,255,255,0.15)"}}),x.jsxs("div",{style:{flex:1},children:[x.jsx("div",{style:{color:"white",fontSize:18,fontWeight:700},children:"ChatHub"}),o&&x.jsx("div",{style:{color:"rgba(255,255,255,0.6)",fontSize:12},children:o.username})]})]}),x.jsxs("div",{className:"chathub-tabs desktop-only",style:{marginBottom:12},children:[x.jsx("div",{className:`chathub-tab ${r==="CHAT"?"active":""}`,onClick:()=>Te("CHAT"),children:x.jsx(qO,{})}),x.jsx("div",{className:`chathub-tab ${r==="FRIENDS"?"active":""}`,onClick:()=>Te("FRIENDS"),children:x.jsx(FO,{})}),x.jsx("div",{className:`chathub-tab ${r==="REQUESTS"?"active":""}`,onClick:()=>Te("REQUESTS"),children:x.jsx(QO,{})}),x.jsx("div",{className:`chathub-tab ${r==="PROFILE"?"active":""}`,onClick:()=>Te("PROFILE"),children:x.jsx(GO,{})})]}),x.jsx("div",{className:"chathub-search",style:{marginBottom:10},children:x.jsx("input",{placeholder:"Search username...",value:F,onChange:A=>Y(A.target.value)})}),$&&x.jsx("div",{style:{color:"white",fontSize:13},children:"Searching..."}),q&&x.jsxs("div",{style:{padding:12,borderRadius:12,background:"rgba(255,255,255,0.05)",marginBottom:12,display:"flex",gap:10},children:[x.jsx("img",{src:q.photoURL||"/default-avatar.png",style:{width:48,height:48,borderRadius:"50%"}}),x.jsxs("div",{style:{flex:1},children:[x.jsx("div",{style:{color:"white",fontWeight:700},children:q.name||q.username}),x.jsx("div",{style:{color:"rgba(255,255,255,0.6)",fontSize:13},children:q.username}),!we(q.uid)&&!I(q.uid)&&!R(q.uid)&&x.jsx("button",{onClick:()=>E(q.uid),style:{padding:"8px 12px",borderRadius:10,background:"rgba(255,255,255,0.12)",color:"white",border:"none",marginTop:8},children:"Send Request"}),I(q.uid)&&x.jsx("div",{style:{color:"rgba(255,255,255,0.6)",fontSize:13,marginTop:8},children:"Request Sent"}),R(q.uid)&&x.jsxs("div",{style:{display:"flex",gap:8,marginTop:8},children:[x.jsx("button",{onClick:()=>p(q.uid),style:{padding:"6px 10px",background:"#22c55e",borderRadius:8,border:"none"},children:"Accept"}),x.jsx("button",{onClick:()=>g(q.uid),style:{padding:"6px 10px",background:"rgba(255,255,255,0.1)",borderRadius:8,border:"1px solid rgba(255,255,255,0.1)",color:"white"},children:"Reject"})]})]})]}),x.jsx("div",{style:{color:"rgba(255,255,255,0.7)",fontSize:13,marginBottom:6},children:"Messages"}),x.jsxs("div",{className:"chathub-list",children:[n.length===0&&x.jsx("div",{style:{color:"rgba(255,255,255,0.6)",fontSize:13},children:"No chats yet  start a conversation"}),n.map(A=>x.jsxs("div",{className:"item",onClick:()=>{s(A.id),M(!1)},children:[x.jsx("img",{src:A.avatar||"/default-avatar.png",className:"avatar",alt:""}),x.jsxs("div",{style:{flex:1},children:[x.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[x.jsx("div",{style:{color:"white",fontWeight:600},children:A.name}),x.jsx("div",{style:{color:"rgba(255,255,255,0.6)",fontSize:12},children:A.time})]}),x.jsx("div",{style:{color:"rgba(255,255,255,0.6)",fontSize:13,marginTop:4},children:A.preview})]})]},A.id))]})]})}function YO({text:r,me:e,ts:n,type:s}){return x.jsx("div",{className:`msg-row ${e?"me":"them"}`,children:x.jsxs("div",{className:"msg-wrapper",children:[x.jsx("div",{className:`msg-bubble ${e?"me":"them"}`,children:s==="image"?x.jsx("img",{src:r,style:{maxWidth:"260px",borderRadius:14,display:"block"}}):r}),x.jsx("div",{className:"msg-ts",children:n})]})})}function Pg(r,e){if(!r||!e)return console.warn("getConversationId: missing uid(s)",{a:r,b:e}),null;const n=String(r).trim().toLowerCase(),s=String(e).trim().toLowerCase();return[n,s].sort().join("_")}function XO(r,e,n){if(!r||!e)return console.warn("listenMessages: missing UIDs"),()=>{};const s=Pg(r,e),o=Ng(Eg(Xt,"conversations",s,"messages"),Lb("createdAt","asc"));return zb(o,h=>{try{const m=h.docs.map(p=>({id:p.id,...p.data()}));n(m)}catch(m){console.error(" listenMessages map error:",m)}},h=>{console.error(" listenMessages listener error:",h)})}async function WE(r,e,n,s="text"){const o=Pg(r,e),u=crypto.randomUUID();return await Kh(pn(Xt,"conversations",o,"messages",u),{id:u,from:r,to:e,text:n,type:s,createdAt:qb()}),!0}async function $O(r){const e="duspho9zw",n="chathub_unsigned",s=`https://api.cloudinary.com/v1_1/${e}/upload`,o=new FormData;o.append("file",r),o.append("upload_preset",n),o.append("folder","chat_media");const u=await fetch(s,{method:"POST",body:o});if(!u.ok)throw new Error("Cloudinary upload failed");return(await u.json()).secure_url}function WO({chatId:r,chatMeta:e,setMobileOpen:n}){const s=ni.currentUser,[o,u]=k.useState([]),[h,m]=k.useState(""),[p,g]=k.useState(!1),E=k.useRef(null);k.useEffect(()=>{if(!r||!s?.uid)return;const M=XO(s.uid,r,F=>{u(F||[]),setTimeout(()=>{try{E.current?.scrollTo({top:E.current.scrollHeight,behavior:"smooth"})}catch{E.current&&(E.current.scrollTop=E.current.scrollHeight)}},50)});return()=>M&&M()},[r,s?.uid]);const T=async()=>{h.trim()&&(await WE(s.uid,r,h.trim(),"text"),m(""),setTimeout(()=>{try{E.current?.scrollTo({top:E.current.scrollHeight,behavior:"smooth"})}catch{E.current&&(E.current.scrollTop=E.current.scrollHeight)}},80))},w=async M=>{const F=M.target.files?.[0];if(F){g(!0);try{const Y=await $O(F);await WE(s.uid,r,Y,"image"),setTimeout(()=>{try{E.current?.scrollTo({top:E.current.scrollHeight,behavior:"smooth"})}catch{E.current&&(E.current.scrollTop=E.current.scrollHeight)}},80)}catch(Y){console.error("image send error",Y)}finally{g(!1)}}};return x.jsxs("div",{className:"chathub-content",style:{position:"relative",display:"flex",flexDirection:"column",height:"100%",minHeight:0},children:[x.jsxs("div",{className:"chat-header",style:{display:"flex",alignItems:"center"},children:[x.jsx("div",{className:"mobile-toggle",onClick:()=>n(!0),style:{display:"none",marginRight:12,fontSize:26,cursor:"pointer",color:"white"},children:x.jsx(HO,{})}),x.jsx("img",{src:e?.avatar||"/default-avatar.png",alt:"avatar",style:{width:50,height:50,borderRadius:"50%",objectFit:"cover"}}),x.jsxs("div",{style:{marginLeft:12},children:[x.jsx("div",{style:{color:"white",fontWeight:700,fontSize:18},children:e?.name||"Unknown"}),x.jsx("div",{style:{color:"rgba(255,255,255,0.6)",fontSize:13},children:"Active now"})]})]}),x.jsx("div",{ref:E,className:"chat-body",children:o.map(M=>x.jsx(YO,{me:M.from===s.uid,text:M.text,type:M.type,ts:M.createdAt?.seconds?new Date(M.createdAt.seconds*1e3).toLocaleTimeString():""},M.id))}),x.jsxs("div",{className:"chat-input-bar",children:[x.jsx("input",{type:"file",id:"imgPicker",accept:"image/*",hidden:!0,onChange:w}),x.jsx("button",{onClick:()=>document.getElementById("imgPicker").click(),style:{width:44,height:44,borderRadius:12,background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.15)",color:"white",fontSize:22},children:""}),x.jsx("input",{value:h,onChange:M=>m(M.target.value),className:"chat-input",placeholder:"Type a message",onKeyDown:M=>M.key==="Enter"&&T()}),x.jsx("button",{className:"send-btn",onClick:T,children:""})]}),p&&x.jsx("div",{style:{position:"absolute",bottom:90,right:20,padding:"8px 14px",borderRadius:10,background:"rgba(0,0,0,0.45)",color:"white"},children:"Uploading"})]})}function JO({friends:r=[],onStartChat:e,setActiveTab:n,setMobileOpen:s}){const o=r.filter(m=>m.status==="online"),u=r.filter(m=>m.status!=="online"),h=()=>{n("CHAT"),s(!0)};return x.jsxs("div",{className:"content-panel scroll-page",children:[x.jsx("div",{className:"mobile-only",style:{display:"none",paddingBottom:10},children:x.jsx("button",{onClick:h,style:{background:"rgba(255,255,255,0.08)",color:"white",border:"none",padding:"8px 14px",borderRadius:10,fontSize:14},children:" Back"})}),x.jsx("h3",{style:{color:"white",fontWeight:700},children:"My Friends"}),x.jsxs("p",{style:{color:"rgba(255,255,255,0.7)",marginTop:6},children:[r.length," friends"]}),x.jsxs("div",{className:"scroll-body",style:{marginTop:14},children:[x.jsxs("h5",{style:{color:"rgba(255,255,255,0.6)",marginTop:10},children:["Online  ",o.length]}),x.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16,marginTop:12},children:o.map(m=>x.jsxs("div",{style:{padding:16,borderRadius:12,background:"rgba(255,255,255,0.03)",display:"flex",alignItems:"center",gap:12},children:[x.jsx("img",{src:m.photoURL||"/default-avatar.png",alt:"",style:{width:56,height:56,borderRadius:"999px"}}),x.jsxs("div",{children:[x.jsx("div",{style:{fontWeight:600,color:"white"},children:m.name}),x.jsx("div",{style:{fontSize:13,color:"rgba(255,255,255,0.7)"},children:m.username})]}),x.jsx("button",{onClick:()=>e&&e(m.uid),style:{marginLeft:"auto",padding:"8px 12px",borderRadius:10,background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.04)",color:"white"},children:"Message"})]},m.uid))}),x.jsxs("h5",{style:{color:"rgba(255,255,255,0.6)",marginTop:20},children:["Offline  ",u.length]}),x.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16,marginTop:12,paddingBottom:30},children:u.map(m=>x.jsxs("div",{style:{padding:16,borderRadius:12,background:"rgba(255,255,255,0.02)",display:"flex",alignItems:"center",gap:12},children:[x.jsx("img",{src:m.photoURL||"/default-avatar.png",alt:"",style:{width:56,height:56,borderRadius:"999px"}}),x.jsxs("div",{children:[x.jsx("div",{style:{fontWeight:600,color:"white"},children:m.name}),x.jsx("div",{style:{fontSize:13,color:"rgba(255,255,255,0.6)"},children:m.username})]}),x.jsx("button",{onClick:()=>e&&e(m.uid),style:{marginLeft:"auto",padding:"8px 12px",borderRadius:10,background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.04)",color:"white"},children:"Message"})]},m.uid))})]})]})}function ZO({uid:r,requests:e=[],onAccept:n,onReject:s,fetchUserProfile:o,setActiveTab:u,setMobileOpen:h}){const[m,p]=k.useState([]),[g,E]=k.useState(!0);k.useEffect(()=>{let w=!0;return(async()=>{E(!0);const F=[];for(const Y of e){const q=await o(Y);q&&F.push(q)}w&&p(F),E(!1)})(),()=>w=!1},[e]);const T=()=>{u("CHAT"),h(!0)};return x.jsxs("div",{className:"content-panel scroll-page",children:[x.jsx("div",{className:"mobile-only",style:{display:"flex",alignItems:"center",marginBottom:14},children:x.jsx("button",{onClick:T,style:{background:"rgba(255,255,255,0.08)",color:"white",border:"none",padding:"8px 14px",borderRadius:10,fontSize:14},children:" Back"})}),x.jsx("h3",{style:{color:"white",fontWeight:700},children:"Friend Requests"}),x.jsxs("p",{style:{color:"rgba(255,255,255,0.7)",marginTop:6},children:[e.length," pending requests"]}),x.jsxs("div",{className:"scroll-body",style:{marginTop:16},children:[g&&x.jsx("div",{style:{color:"white",marginTop:20},children:"Loading"}),!g&&m.length===0&&x.jsx("div",{style:{color:"rgba(255,255,255,0.5)",marginTop:20},children:"No pending requests"}),x.jsx("div",{style:{display:"grid",gap:14,marginTop:16},children:m.map(w=>x.jsxs("div",{style:{padding:18,borderRadius:12,background:"rgba(255,255,255,0.03)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[x.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[x.jsx("img",{src:w.photoURL||"/default-avatar.png",alt:"",style:{width:56,height:56,borderRadius:"999px"}}),x.jsxs("div",{children:[x.jsx("div",{style:{fontWeight:700,color:"white"},children:w.name}),x.jsx("div",{style:{fontSize:13,color:"rgba(255,255,255,0.6)"},children:"Requested you"})]})]}),x.jsxs("div",{style:{display:"flex",gap:10},children:[x.jsx("button",{onClick:()=>n(w.uid),style:{background:"#10B981",color:"#062F2E",padding:"10px 16px",borderRadius:10,border:"none"},children:"Accept"}),x.jsx("button",{onClick:()=>s(w.uid),style:{background:"rgba(255,255,255,0.03)",color:"white",padding:"10px 16px",borderRadius:10,border:"1px solid rgba(255,255,255,0.04)"},children:"Reject"})]})]},w.uid))})]})]})}async function e4(r,e="avatars"){const n="duspho9zw",s="chathub_unsigned",o=`https://api.cloudinary.com/v1_1/${n}/image/upload`,u=new FormData;u.append("file",r),u.append("upload_preset",s),u.append("folder",e);try{const h=await fetch(o,{method:"POST",body:u});if(!h.ok){const p=await h.text();throw console.error("Cloudinary upload error:",p),new Error("Cloudinary upload failed")}return(await h.json()).secure_url}catch(h){throw console.error("UploadImage.js failed ",h),h}}function t4({user:r,onProfileUpdated:e,setActiveTab:n,setMobileOpen:s}){const[o,u]=k.useState(r?.photoURL||""),[h,m]=k.useState(null),[p,g]=k.useState(!1);if(!r)return x.jsx("div",{className:"content-panel",children:x.jsx("div",{style:{color:"white",fontSize:18},children:"Loading profile"})});const E=w=>{const M=w.target.files[0];m(M),M&&u(URL.createObjectURL(M))},T=async()=>{if(!h)return alert("Select an image first ");g(!0);try{const w=await e4(h,"avatars");await fa(pn(Xt,"users",r.uid),{photoURL:w}),e?.({photoURL:w}),alert("Avatar updated ")}catch(w){console.error(w),alert("Upload failed ")}g(!1)};return x.jsxs("div",{className:"content-panel",style:{display:"flex",flexDirection:"column",height:"100%",minHeight:0,color:"white"},children:[x.jsxs("div",{className:"mobile-only",style:{display:"flex",alignItems:"center",gap:10,marginBottom:12,cursor:"pointer"},onClick:()=>{n("CHAT"),s(!0)},children:[x.jsx("span",{style:{fontSize:22},children:""}),x.jsx("span",{style:{fontWeight:700},children:"Back"})]}),x.jsx("h2",{style:{fontSize:26,fontWeight:700},children:"Your Profile"}),x.jsxs("div",{style:{flex:1,overflowY:"auto",marginTop:20,paddingRight:10,minHeight:0},children:[x.jsxs("div",{style:{display:"flex",gap:18},children:[x.jsx("img",{src:o||"/default-avatar.png",alt:"avatar",style:{width:130,height:130,borderRadius:"50%",objectFit:"cover",border:"3px solid rgba(255,255,255,0.1)"}}),x.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:10},children:[x.jsx("input",{hidden:!0,id:"avatarInput",type:"file",accept:"image/*",onChange:E}),x.jsx("label",{htmlFor:"avatarInput",style:{padding:"10px 14px",background:"rgba(255,255,255,0.15)",borderRadius:10,color:"white",cursor:"pointer"},children:"Choose New Avatar"}),x.jsx("button",{disabled:!h||p,onClick:T,style:{padding:"10px 14px",background:p?"gray":"#6d5dfc",borderRadius:10,color:"white",cursor:p?"not-allowed":"pointer",border:"none"},children:p?"Uploading":"Upload"})]})]}),x.jsxs("div",{style:{marginTop:30},children:[x.jsxs("div",{style:{marginBottom:16},children:[x.jsx("div",{style:{opacity:.7},children:"Name"}),x.jsx("div",{style:{fontSize:20},children:r.name})]}),x.jsxs("div",{style:{marginBottom:16},children:[x.jsx("div",{style:{opacity:.7},children:"Username"}),x.jsx("div",{style:{fontSize:20},children:r.username})]}),x.jsxs("div",{style:{marginBottom:16},children:[x.jsx("div",{style:{opacity:.7},children:"Email"}),x.jsx("div",{style:{fontSize:20},children:r.email})]})]})]}),x.jsx("button",{onClick:()=>ni.signOut(),style:{padding:"12px 18px",background:"#EF4444",borderRadius:10,border:"none",color:"white",cursor:"pointer",flexShrink:0,marginTop:20},children:"Log Out"})]})}async function n4(r){if(!r)return;const e=pn(Xt,"users",r.uid),n=await go(e);if(!n.exists()){await Kh(e,{uid:r.uid,username:r.email.split("@")[0],email:r.email,photoURL:r.photoURL||"",bio:"I'm using ChatHub ",createdAt:new Date,friends:[],requests_received:[],requests_sent:[]});return}const s=n.data(),o={friends:Array.isArray(s.friends)?s.friends:[],requests_received:Array.isArray(s.requests_received)?s.requests_received:[],requests_sent:Array.isArray(s.requests_sent)?s.requests_sent:[]};await Kh(e,{...s,...o},{merge:!0})}async function i4(r,e){if(r===e)return!1;try{const n=pn(Xt,"users",r),s=pn(Xt,"users",e),o=await go(n),u=await go(s);if(!o.exists()||!u.exists())return!1;const h=o.data(),m=u.data();return h.friends?.includes(e)||h.requests_sent?.includes(e)||h.requests_received?.includes(e)?!1:(await fa(n,{requests_sent:Yh(e)}),await fa(s,{requests_received:Yh(r)}),!0)}catch(n){return console.error("sendRequest error:",n),!1}}async function r4(r,e){try{return await fa(pn(Xt,"users",r),{requests_received:Xh(e),friends:Yh(e)}),await fa(pn(Xt,"users",e),{requests_sent:Xh(r),friends:Yh(r)}),!0}catch(n){return console.error("acceptRequest error:",n),!1}}async function s4(r,e){try{return await fa(pn(Xt,"users",r),{requests_received:Xh(e)}),await fa(pn(Xt,"users",e),{requests_sent:Xh(r)}),!0}catch(n){return console.error("rejectRequest error:",n),!1}}async function a4(r){try{if(!r||r.trim()==="")return null;const e=r.trim().toLowerCase(),n=Ng(Eg(Xt,"users"),_O("username","==",e)),s=await Ub(n);if(s.empty)return null;const o=s.docs[0],u=o.data()||{};return{uid:u.uid||o.id,username:u.username||"",name:u.name||u.username||"",photoURL:u.photoURL||"/pfp1.png"}}catch(e){return console.error(" searchUser error:",e),null}}const ao={CHAT:"CHAT",FRIENDS:"FRIENDS",REQUESTS:"REQUESTS",PROFILE:"PROFILE"};function o4(){const e=ni.currentUser?.uid,[n,s]=k.useState(ao.CHAT),[o,u]=k.useState([]),[h,m]=k.useState([]),[p,g]=k.useState([]),[E,T]=k.useState([]),[w,M]=k.useState(null),[F,Y]=k.useState(null),[q,ie]=k.useState(null),[$,ne]=k.useState(!1);k.useEffect(()=>{if(!e)return;const O=zb(pn(Xt,"users",e),async D=>{if(!D.exists())return;const L=D.data();M({uid:e,...L}),g(L.requests_received||[]),T(L.requests_sent||[]);const C=await Promise.all((L.friends||[]).map(async ke=>{const De=await go(pn(Xt,"users",ke));return De.exists()?{uid:ke,...De.data()}:null}));m(C.filter(Boolean))});return()=>O()},[e]),k.useEffect(()=>{ni.currentUser&&n4(ni.currentUser)},[ni.currentUser]);const pe=k.useCallback(async O=>{if(!O)return null;const D=await go(pn(Xt,"users",O));return D.exists()?{uid:D.id,...D.data()}:null},[]),Te=k.useCallback(async(O,D)=>{try{const L=Pg(O,D),C=Ng(Eg(Xt,"conversations",L,"messages"),Lb("createdAt","desc"),vO(1)),ke=await Ub(C);if(ke.empty)return null;const De=ke.docs[0].data();return{text:De.text,ts:De.createdAt?.toDate?.()?.toLocaleTimeString()||""}}catch{return null}},[]);k.useEffect(()=>{if(!e)return;(async()=>{const D=await go(pn(Xt,"users",e));if(!D.exists())return;const L=D.data(),C=Array.from(new Set([...L.friends,...L.requests_received,...L.requests_sent])),ke=await Promise.all(C.map(async De=>{const K=await pe(De),se=await Te(e,De);return{id:De,name:K?.name||K?.username||"Unknown",avatar:K?.photoURL||"/default-avatar.png",preview:se?.text||K?.bio||"",time:se?.ts||""}}));if(ke.sort((De,K)=>De.time&&K.time?new Date(K.time)-new Date(De.time):0),u(ke),!F&&ke.length>0){const De=ke[0];Y(De.id),ie({name:De.name,avatar:De.avatar})}})()},[e]);const we=async O=>{const D=await pe(O);Y(O),ie({name:D?.name,avatar:D?.photoURL}),s(ao.CHAT),ne(!1)},I=async O=>{if(!e)return;if(h.some(L=>L.uid===O))return alert("Already friends");if(E.includes(O))return alert("Already sent");if(p.includes(O))return alert("They sent you request");if(!await i4(e,O))return alert("Failed");T(L=>[...L,O])},R=async O=>{if(!await r4(e,O))return alert("Failed");g(L=>L.filter(C=>C!==O)),alert("Accepted")},A=async O=>{if(!await s4(e,O))return alert("Failed");g(L=>L.filter(C=>C!==O)),alert("Rejected")};return x.jsx("div",{className:"chathub-bg",children:x.jsxs("div",{className:"chathub-shell",children:[x.jsx(KO,{activeTab:n,setActiveTab:s,chats:o,onSelectChat:we,profile:w,friends:h,requestsReceived:p,requestsSent:E,onAccept:R,onReject:A,onSendRequest:I,searchUser:a4,mobileOpen:$,setMobileOpen:ne}),x.jsxs("div",{className:"tab-anim",style:{flex:1,display:"flex"},children:[n===ao.CHAT&&F&&x.jsx(WO,{chatId:F,chatMeta:q,setMobileOpen:ne}),n===ao.FRIENDS&&x.jsx(JO,{friends:h,onStartChat:we,setActiveTab:s,setMobileOpen:ne}),n===ao.REQUESTS&&x.jsx(ZO,{uid:e,requests:p,onAccept:R,onReject:A,fetchUserProfile:pe,setActiveTab:s,setMobileOpen:ne}),n===ao.PROFILE&&x.jsx(t4,{user:w,onProfileUpdated:O=>M(D=>({...D,...O})),setActiveTab:s,setMobileOpen:ne})]})]})})}let l4={data:""},u4=r=>{if(typeof window=="object"){let e=(r?r.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(r||document.head).appendChild(e),e.firstChild}return r||l4},c4=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,h4=/\/\*[^]*?\*\/|  +/g,JE=/\n+/g,ss=(r,e)=>{let n="",s="",o="";for(let u in r){let h=r[u];u[0]=="@"?u[1]=="i"?n=u+" "+h+";":s+=u[1]=="f"?ss(h,u):u+"{"+ss(h,u[1]=="k"?"":e)+"}":typeof h=="object"?s+=ss(h,e?e.replace(/([^,])+/g,m=>u.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,m):m?m+" "+p:p)):u):h!=null&&(u=/^--/.test(u)?u:u.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=ss.p?ss.p(u,h):u+":"+h+";")}return n+(e&&o?e+"{"+o+"}":o)+s},ar={},Yb=r=>{if(typeof r=="object"){let e="";for(let n in r)e+=n+Yb(r[n]);return e}return r},f4=(r,e,n,s,o)=>{let u=Yb(r),h=ar[u]||(ar[u]=(p=>{let g=0,E=11;for(;g<p.length;)E=101*E+p.charCodeAt(g++)>>>0;return"go"+E})(u));if(!ar[h]){let p=u!==r?r:(g=>{let E,T,w=[{}];for(;E=c4.exec(g.replace(h4,""));)E[4]?w.shift():E[3]?(T=E[3].replace(JE," ").trim(),w.unshift(w[0][T]=w[0][T]||{})):w[0][E[1]]=E[2].replace(JE," ").trim();return w[0]})(r);ar[h]=ss(o?{["@keyframes "+h]:p}:p,n?"":"."+h)}let m=n&&ar.g?ar.g:null;return n&&(ar.g=ar[h]),((p,g,E,T)=>{T?g.data=g.data.replace(T,p):g.data.indexOf(p)===-1&&(g.data=E?p+g.data:g.data+p)})(ar[h],e,s,m),h},d4=(r,e,n)=>r.reduce((s,o,u)=>{let h=e[u];if(h&&h.call){let m=h(n),p=m&&m.props&&m.props.className||/^go/.test(m)&&m;h=p?"."+p:m&&typeof m=="object"?m.props?"":ss(m,""):m===!1?"":m}return s+o+(h??"")},"");function Rf(r){let e=this||{},n=r.call?r(e.p):r;return f4(n.unshift?n.raw?d4(n,[].slice.call(arguments,1),e.p):n.reduce((s,o)=>Object.assign(s,o&&o.call?o(e.p):o),{}):n,u4(e.target),e.g,e.o,e.k)}let Xb,Tp,bp;Rf.bind({g:1});let _r=Rf.bind({k:1});function m4(r,e,n,s){ss.p=e,Xb=r,Tp=n,bp=s}function Ss(r,e){let n=this||{};return function(){let s=arguments;function o(u,h){let m=Object.assign({},u),p=m.className||o.className;n.p=Object.assign({theme:Tp&&Tp()},m),n.o=/ *go\d+/.test(p),m.className=Rf.apply(n,s)+(p?" "+p:"");let g=r;return r[0]&&(g=m.as||r,delete m.as),bp&&g[0]&&bp(m),Xb(g,m)}return o}}var p4=r=>typeof r=="function",Jh=(r,e)=>p4(r)?r(e):r,g4=(()=>{let r=0;return()=>(++r).toString()})(),$b=(()=>{let r;return()=>{if(r===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");r=!e||e.matches}return r}})(),y4=20,Lg="default",Wb=(r,e)=>{let{toastLimit:n}=r.settings;switch(e.type){case 0:return{...r,toasts:[e.toast,...r.toasts].slice(0,n)};case 1:return{...r,toasts:r.toasts.map(h=>h.id===e.toast.id?{...h,...e.toast}:h)};case 2:let{toast:s}=e;return Wb(r,{type:r.toasts.find(h=>h.id===s.id)?1:0,toast:s});case 3:let{toastId:o}=e;return{...r,toasts:r.toasts.map(h=>h.id===o||o===void 0?{...h,dismissed:!0,visible:!1}:h)};case 4:return e.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(h=>h.id!==e.toastId)};case 5:return{...r,pausedAt:e.time};case 6:let u=e.time-(r.pausedAt||0);return{...r,pausedAt:void 0,toasts:r.toasts.map(h=>({...h,pauseDuration:h.pauseDuration+u}))}}},Ah=[],Jb={toasts:[],pausedAt:void 0,settings:{toastLimit:y4}},Oi={},Zb=(r,e=Lg)=>{Oi[e]=Wb(Oi[e]||Jb,r),Ah.forEach(([n,s])=>{n===e&&s(Oi[e])})},eS=r=>Object.keys(Oi).forEach(e=>Zb(r,e)),_4=r=>Object.keys(Oi).find(e=>Oi[e].toasts.some(n=>n.id===r)),Cf=(r=Lg)=>e=>{Zb(e,r)},v4={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},E4=(r={},e=Lg)=>{let[n,s]=k.useState(Oi[e]||Jb),o=k.useRef(Oi[e]);k.useEffect(()=>(o.current!==Oi[e]&&s(Oi[e]),Ah.push([e,s]),()=>{let h=Ah.findIndex(([m])=>m===e);h>-1&&Ah.splice(h,1)}),[e]);let u=n.toasts.map(h=>{var m,p,g;return{...r,...r[h.type],...h,removeDelay:h.removeDelay||((m=r[h.type])==null?void 0:m.removeDelay)||r?.removeDelay,duration:h.duration||((p=r[h.type])==null?void 0:p.duration)||r?.duration||v4[h.type],style:{...r.style,...(g=r[h.type])==null?void 0:g.style,...h.style}}});return{...n,toasts:u}},T4=(r,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:r,pauseDuration:0,...n,id:n?.id||g4()}),Iu=r=>(e,n)=>{let s=T4(e,r,n);return Cf(s.toasterId||_4(s.id))({type:2,toast:s}),s.id},jt=(r,e)=>Iu("blank")(r,e);jt.error=Iu("error");jt.success=Iu("success");jt.loading=Iu("loading");jt.custom=Iu("custom");jt.dismiss=(r,e)=>{let n={type:3,toastId:r};e?Cf(e)(n):eS(n)};jt.dismissAll=r=>jt.dismiss(void 0,r);jt.remove=(r,e)=>{let n={type:4,toastId:r};e?Cf(e)(n):eS(n)};jt.removeAll=r=>jt.remove(void 0,r);jt.promise=(r,e,n)=>{let s=jt.loading(e.loading,{...n,...n?.loading});return typeof r=="function"&&(r=r()),r.then(o=>{let u=e.success?Jh(e.success,o):void 0;return u?jt.success(u,{id:s,...n,...n?.success}):jt.dismiss(s),o}).catch(o=>{let u=e.error?Jh(e.error,o):void 0;u?jt.error(u,{id:s,...n,...n?.error}):jt.dismiss(s)}),r};var b4=1e3,S4=(r,e="default")=>{let{toasts:n,pausedAt:s}=E4(r,e),o=k.useRef(new Map).current,u=k.useCallback((T,w=b4)=>{if(o.has(T))return;let M=setTimeout(()=>{o.delete(T),h({type:4,toastId:T})},w);o.set(T,M)},[]);k.useEffect(()=>{if(s)return;let T=Date.now(),w=n.map(M=>{if(M.duration===1/0)return;let F=(M.duration||0)+M.pauseDuration-(T-M.createdAt);if(F<0){M.visible&&jt.dismiss(M.id);return}return setTimeout(()=>jt.dismiss(M.id,e),F)});return()=>{w.forEach(M=>M&&clearTimeout(M))}},[n,s,e]);let h=k.useCallback(Cf(e),[e]),m=k.useCallback(()=>{h({type:5,time:Date.now()})},[h]),p=k.useCallback((T,w)=>{h({type:1,toast:{id:T,height:w}})},[h]),g=k.useCallback(()=>{s&&h({type:6,time:Date.now()})},[s,h]),E=k.useCallback((T,w)=>{let{reverseOrder:M=!1,gutter:F=8,defaultPosition:Y}=w||{},q=n.filter(ne=>(ne.position||Y)===(T.position||Y)&&ne.height),ie=q.findIndex(ne=>ne.id===T.id),$=q.filter((ne,pe)=>pe<ie&&ne.visible).length;return q.filter(ne=>ne.visible).slice(...M?[$+1]:[0,$]).reduce((ne,pe)=>ne+(pe.height||0)+F,0)},[n]);return k.useEffect(()=>{n.forEach(T=>{if(T.dismissed)u(T.id,T.removeDelay);else{let w=o.get(T.id);w&&(clearTimeout(w),o.delete(T.id))}})},[n,u]),{toasts:n,handlers:{updateHeight:p,startPause:m,endPause:g,calculateOffset:E}}},w4=_r`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,A4=_r`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,R4=_r`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,C4=Ss("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${w4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${A4} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${r=>r.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${R4} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,I4=_r`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,N4=Ss("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${r=>r.secondary||"#e0e0e0"};
  border-right-color: ${r=>r.primary||"#616161"};
  animation: ${I4} 1s linear infinite;
`,x4=_r`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,D4=_r`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,O4=Ss("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${x4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${D4} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${r=>r.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,M4=Ss("div")`
  position: absolute;
`,V4=Ss("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,P4=_r`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,L4=Ss("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${P4} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,k4=({toast:r})=>{let{icon:e,type:n,iconTheme:s}=r;return e!==void 0?typeof e=="string"?k.createElement(L4,null,e):e:n==="blank"?null:k.createElement(V4,null,k.createElement(N4,{...s}),n!=="loading"&&k.createElement(M4,null,n==="error"?k.createElement(C4,{...s}):k.createElement(O4,{...s})))},U4=r=>`
0% {transform: translate3d(0,${r*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,z4=r=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${r*-150}%,-1px) scale(.6); opacity:0;}
`,j4="0%{opacity:0;} 100%{opacity:1;}",B4="0%{opacity:1;} 100%{opacity:0;}",q4=Ss("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,H4=Ss("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,F4=(r,e)=>{let n=r.includes("top")?1:-1,[s,o]=$b()?[j4,B4]:[U4(n),z4(n)];return{animation:e?`${_r(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${_r(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},G4=k.memo(({toast:r,position:e,style:n,children:s})=>{let o=r.height?F4(r.position||e||"top-center",r.visible):{opacity:0},u=k.createElement(k4,{toast:r}),h=k.createElement(H4,{...r.ariaProps},Jh(r.message,r));return k.createElement(q4,{className:r.className,style:{...o,...n,...r.style}},typeof s=="function"?s({icon:u,message:h}):k.createElement(k.Fragment,null,u,h))});m4(k.createElement);var Q4=({id:r,className:e,style:n,onHeightUpdate:s,children:o})=>{let u=k.useCallback(h=>{if(h){let m=()=>{let p=h.getBoundingClientRect().height;s(r,p)};m(),new MutationObserver(m).observe(h,{subtree:!0,childList:!0,characterData:!0})}},[r,s]);return k.createElement("div",{ref:u,className:e,style:n},o)},K4=(r,e)=>{let n=r.includes("top"),s=n?{top:0}:{bottom:0},o=r.includes("center")?{justifyContent:"center"}:r.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:$b()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...s,...o}},Y4=Rf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,fh=16,X4=({reverseOrder:r,position:e="top-center",toastOptions:n,gutter:s,children:o,toasterId:u,containerStyle:h,containerClassName:m})=>{let{toasts:p,handlers:g}=S4(n,u);return k.createElement("div",{"data-rht-toaster":u||"",style:{position:"fixed",zIndex:9999,top:fh,left:fh,right:fh,bottom:fh,pointerEvents:"none",...h},className:m,onMouseEnter:g.startPause,onMouseLeave:g.endPause},p.map(E=>{let T=E.position||e,w=g.calculateOffset(E,{reverseOrder:r,gutter:s,defaultPosition:e}),M=K4(T,w);return k.createElement(Q4,{id:E.id,key:E.id,onHeightUpdate:g.updateHeight,className:E.visible?Y4:"",style:M},E.type==="custom"?Jh(E.message,E):o?o(E):k.createElement(G4,{toast:E,position:T}))}))};function $4(){const[r,e]=ii.useState(null),[n,s]=ii.useState(!0);return ii.useEffect(()=>{const o=WC(ni,u=>{e(u),s(!1)});return()=>o()},[]),n?x.jsx("div",{className:"flex items-center justify-center h-screen text-lg font-semibold text-white/70",children:"Loading..."}):x.jsxs(x.Fragment,{children:[x.jsx(X4,{position:"top-right",toastOptions:{style:{background:"rgba(0,0,0,0.65)",color:"white",borderRadius:"10px",backdropFilter:"blur(10px)"}}}),x.jsxs(DA,{children:[x.jsx(Ql,{path:"/",element:r?x.jsx(o4,{}):x.jsx(rh,{to:"/login",replace:!0})}),x.jsx(Ql,{path:"/login",element:r?x.jsx(rh,{to:"/",replace:!0}):x.jsx(MO,{})}),x.jsx(Ql,{path:"/signup",element:r?x.jsx(rh,{to:"/",replace:!0}):x.jsx(VO,{})}),x.jsx(Ql,{path:"*",element:x.jsx(rh,{to:"/",replace:!0})})]})]})}Bw.createRoot(document.getElementById("root")).render(x.jsx(ii.StrictMode,{children:x.jsx(eR,{basename:"/Chat-HUB",children:x.jsx($4,{})})}));
